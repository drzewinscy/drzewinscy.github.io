var Ww=Object.defineProperty;var Bw=(t,e,n)=>e in t?Ww(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var fl=(t,e,n)=>Bw(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function $f(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Hw(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function o(){return this instanceof o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(o){var s=Object.getOwnPropertyDescriptor(t,o);Object.defineProperty(n,o,s.get?s:{enumerable:!0,get:function(){return t[o]}})}),n}var wc={exports:{}},ao={},Ec={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mm;function jw(){if(Mm)return ye;Mm=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function _(x){return x===null||typeof x!="object"?null:(x=v&&x[v]||x["@@iterator"],typeof x=="function"?x:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,N={};function I(x,F,ue){this.props=x,this.context=F,this.refs=N,this.updater=ue||w}I.prototype.isReactComponent={},I.prototype.setState=function(x,F){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,F,"setState")},I.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function k(){}k.prototype=I.prototype;function R(x,F,ue){this.props=x,this.context=F,this.refs=N,this.updater=ue||w}var M=R.prototype=new k;M.constructor=R,C(M,I.prototype),M.isPureReactComponent=!0;var V=Array.isArray,$=Object.prototype.hasOwnProperty,b={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function U(x,F,ue){var se,he={},pe=null,_e=null;if(F!=null)for(se in F.ref!==void 0&&(_e=F.ref),F.key!==void 0&&(pe=""+F.key),F)$.call(F,se)&&!L.hasOwnProperty(se)&&(he[se]=F[se]);var ge=arguments.length-2;if(ge===1)he.children=ue;else if(1<ge){for(var Re=Array(ge),kt=0;kt<ge;kt++)Re[kt]=arguments[kt+2];he.children=Re}if(x&&x.defaultProps)for(se in ge=x.defaultProps,ge)he[se]===void 0&&(he[se]=ge[se]);return{$$typeof:t,type:x,key:pe,ref:_e,props:he,_owner:b.current}}function Z(x,F){return{$$typeof:t,type:x.type,key:F,ref:x.ref,props:x.props,_owner:x._owner}}function J(x){return typeof x=="object"&&x!==null&&x.$$typeof===t}function ce(x){var F={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(ue){return F[ue]})}var me=/\/+/g;function Te(x,F){return typeof x=="object"&&x!==null&&x.key!=null?ce(""+x.key):F.toString(36)}function O(x,F,ue,se,he){var pe=typeof x;(pe==="undefined"||pe==="boolean")&&(x=null);var _e=!1;if(x===null)_e=!0;else switch(pe){case"string":case"number":_e=!0;break;case"object":switch(x.$$typeof){case t:case e:_e=!0}}if(_e)return _e=x,he=he(_e),x=se===""?"."+Te(_e,0):se,V(he)?(ue="",x!=null&&(ue=x.replace(me,"$&/")+"/"),O(he,F,ue,"",function(kt){return kt})):he!=null&&(J(he)&&(he=Z(he,ue+(!he.key||_e&&_e.key===he.key?"":(""+he.key).replace(me,"$&/")+"/")+x)),F.push(he)),1;if(_e=0,se=se===""?".":se+":",V(x))for(var ge=0;ge<x.length;ge++){pe=x[ge];var Re=se+Te(pe,ge);_e+=O(pe,F,ue,Re,he)}else if(Re=_(x),typeof Re=="function")for(x=Re.call(x),ge=0;!(pe=x.next()).done;)pe=pe.value,Re=se+Te(pe,ge++),_e+=O(pe,F,ue,Re,he);else if(pe==="object")throw F=String(x),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return _e}function ee(x,F,ue){if(x==null)return x;var se=[],he=0;return O(x,se,"","",function(pe){return F.call(ue,pe,he++)}),se}function W(x){if(x._status===-1){var F=x._result;F=F(),F.then(function(ue){(x._status===0||x._status===-1)&&(x._status=1,x._result=ue)},function(ue){(x._status===0||x._status===-1)&&(x._status=2,x._result=ue)}),x._status===-1&&(x._status=0,x._result=F)}if(x._status===1)return x._result.default;throw x._result}var K={current:null},z={transition:null},Q={ReactCurrentDispatcher:K,ReactCurrentBatchConfig:z,ReactCurrentOwner:b};function H(){throw Error("act(...) is not supported in production builds of React.")}return ye.Children={map:ee,forEach:function(x,F,ue){ee(x,function(){F.apply(this,arguments)},ue)},count:function(x){var F=0;return ee(x,function(){F++}),F},toArray:function(x){return ee(x,function(F){return F})||[]},only:function(x){if(!J(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},ye.Component=I,ye.Fragment=n,ye.Profiler=s,ye.PureComponent=R,ye.StrictMode=o,ye.Suspense=h,ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,ye.act=H,ye.cloneElement=function(x,F,ue){if(x==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+x+".");var se=C({},x.props),he=x.key,pe=x.ref,_e=x._owner;if(F!=null){if(F.ref!==void 0&&(pe=F.ref,_e=b.current),F.key!==void 0&&(he=""+F.key),x.type&&x.type.defaultProps)var ge=x.type.defaultProps;for(Re in F)$.call(F,Re)&&!L.hasOwnProperty(Re)&&(se[Re]=F[Re]===void 0&&ge!==void 0?ge[Re]:F[Re])}var Re=arguments.length-2;if(Re===1)se.children=ue;else if(1<Re){ge=Array(Re);for(var kt=0;kt<Re;kt++)ge[kt]=arguments[kt+2];se.children=ge}return{$$typeof:t,type:x.type,key:he,ref:pe,props:se,_owner:_e}},ye.createContext=function(x){return x={$$typeof:c,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},x.Provider={$$typeof:a,_context:x},x.Consumer=x},ye.createElement=U,ye.createFactory=function(x){var F=U.bind(null,x);return F.type=x,F},ye.createRef=function(){return{current:null}},ye.forwardRef=function(x){return{$$typeof:d,render:x}},ye.isValidElement=J,ye.lazy=function(x){return{$$typeof:g,_payload:{_status:-1,_result:x},_init:W}},ye.memo=function(x,F){return{$$typeof:p,type:x,compare:F===void 0?null:F}},ye.startTransition=function(x){var F=z.transition;z.transition={};try{x()}finally{z.transition=F}},ye.unstable_act=H,ye.useCallback=function(x,F){return K.current.useCallback(x,F)},ye.useContext=function(x){return K.current.useContext(x)},ye.useDebugValue=function(){},ye.useDeferredValue=function(x){return K.current.useDeferredValue(x)},ye.useEffect=function(x,F){return K.current.useEffect(x,F)},ye.useId=function(){return K.current.useId()},ye.useImperativeHandle=function(x,F,ue){return K.current.useImperativeHandle(x,F,ue)},ye.useInsertionEffect=function(x,F){return K.current.useInsertionEffect(x,F)},ye.useLayoutEffect=function(x,F){return K.current.useLayoutEffect(x,F)},ye.useMemo=function(x,F){return K.current.useMemo(x,F)},ye.useReducer=function(x,F,ue){return K.current.useReducer(x,F,ue)},ye.useRef=function(x){return K.current.useRef(x)},ye.useState=function(x){return K.current.useState(x)},ye.useSyncExternalStore=function(x,F,ue){return K.current.useSyncExternalStore(x,F,ue)},ye.useTransition=function(){return K.current.useTransition()},ye.version="18.3.1",ye}var Lm;function er(){return Lm||(Lm=1,Ec.exports=jw()),Ec.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bm;function Vw(){if(bm)return ao;bm=1;var t=er(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(d,h,p){var g,v={},_=null,w=null;p!==void 0&&(_=""+p),h.key!==void 0&&(_=""+h.key),h.ref!==void 0&&(w=h.ref);for(g in h)o.call(h,g)&&!a.hasOwnProperty(g)&&(v[g]=h[g]);if(d&&d.defaultProps)for(g in h=d.defaultProps,h)v[g]===void 0&&(v[g]=h[g]);return{$$typeof:e,type:d,key:_,ref:w,props:v,_owner:s.current}}return ao.Fragment=n,ao.jsx=c,ao.jsxs=c,ao}var Fm;function qw(){return Fm||(Fm=1,wc.exports=Vw()),wc.exports}var Se=qw(),B=er();const qe=$f(B);var dl={},Cc={exports:{}},Ct={},Sc={exports:{}},xc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zm;function Gw(){return zm||(zm=1,function(t){function e(z,Q){var H=z.length;z.push(Q);e:for(;0<H;){var x=H-1>>>1,F=z[x];if(0<s(F,Q))z[x]=Q,z[H]=F,H=x;else break e}}function n(z){return z.length===0?null:z[0]}function o(z){if(z.length===0)return null;var Q=z[0],H=z.pop();if(H!==Q){z[0]=H;e:for(var x=0,F=z.length,ue=F>>>1;x<ue;){var se=2*(x+1)-1,he=z[se],pe=se+1,_e=z[pe];if(0>s(he,H))pe<F&&0>s(_e,he)?(z[x]=_e,z[pe]=H,x=pe):(z[x]=he,z[se]=H,x=se);else if(pe<F&&0>s(_e,H))z[x]=_e,z[pe]=H,x=pe;else break e}}return Q}function s(z,Q){var H=z.sortIndex-Q.sortIndex;return H!==0?H:z.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var h=[],p=[],g=1,v=null,_=3,w=!1,C=!1,N=!1,I=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(z){for(var Q=n(p);Q!==null;){if(Q.callback===null)o(p);else if(Q.startTime<=z)o(p),Q.sortIndex=Q.expirationTime,e(h,Q);else break;Q=n(p)}}function V(z){if(N=!1,M(z),!C)if(n(h)!==null)C=!0,W($);else{var Q=n(p);Q!==null&&K(V,Q.startTime-z)}}function $(z,Q){C=!1,N&&(N=!1,k(U),U=-1),w=!0;var H=_;try{for(M(Q),v=n(h);v!==null&&(!(v.expirationTime>Q)||z&&!ce());){var x=v.callback;if(typeof x=="function"){v.callback=null,_=v.priorityLevel;var F=x(v.expirationTime<=Q);Q=t.unstable_now(),typeof F=="function"?v.callback=F:v===n(h)&&o(h),M(Q)}else o(h);v=n(h)}if(v!==null)var ue=!0;else{var se=n(p);se!==null&&K(V,se.startTime-Q),ue=!1}return ue}finally{v=null,_=H,w=!1}}var b=!1,L=null,U=-1,Z=5,J=-1;function ce(){return!(t.unstable_now()-J<Z)}function me(){if(L!==null){var z=t.unstable_now();J=z;var Q=!0;try{Q=L(!0,z)}finally{Q?Te():(b=!1,L=null)}}else b=!1}var Te;if(typeof R=="function")Te=function(){R(me)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,ee=O.port2;O.port1.onmessage=me,Te=function(){ee.postMessage(null)}}else Te=function(){I(me,0)};function W(z){L=z,b||(b=!0,Te())}function K(z,Q){U=I(function(){z(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){C||w||(C=!0,W($))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(z){switch(_){case 1:case 2:case 3:var Q=3;break;default:Q=_}var H=_;_=Q;try{return z()}finally{_=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,Q){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var H=_;_=z;try{return Q()}finally{_=H}},t.unstable_scheduleCallback=function(z,Q,H){var x=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?x+H:x):H=x,z){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=H+F,z={id:g++,callback:Q,priorityLevel:z,startTime:H,expirationTime:F,sortIndex:-1},H>x?(z.sortIndex=H,e(p,z),n(h)===null&&z===n(p)&&(N?(k(U),U=-1):N=!0,K(V,H-x))):(z.sortIndex=F,e(h,z),C||w||(C=!0,W($))),z},t.unstable_shouldYield=ce,t.unstable_wrapCallback=function(z){var Q=_;return function(){var H=_;_=Q;try{return z.apply(this,arguments)}finally{_=H}}}}(xc)),xc}var $m;function Qw(){return $m||($m=1,Sc.exports=Gw()),Sc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Um;function Kw(){if(Um)return Ct;Um=1;var t=er(),e=Qw();function n(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function a(r,i){c(r,i),c(r+"Capture",i)}function c(r,i){for(s[r]=i,r=0;r<i.length;r++)o.add(i[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function _(r){return h.call(v,r)?!0:h.call(g,r)?!1:p.test(r)?v[r]=!0:(g[r]=!0,!1)}function w(r,i,l,u){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return u?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function C(r,i,l,u){if(i===null||typeof i>"u"||w(r,i,l,u))return!0;if(u)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function N(r,i,l,u,f,m,y){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=u,this.attributeNamespace=f,this.mustUseProperty=l,this.propertyName=r,this.type=i,this.sanitizeURL=m,this.removeEmptyString=y}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){I[r]=new N(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];I[i]=new N(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){I[r]=new N(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){I[r]=new N(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){I[r]=new N(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){I[r]=new N(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){I[r]=new N(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){I[r]=new N(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){I[r]=new N(r,5,!1,r.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function R(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(k,R);I[i]=new N(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(k,R);I[i]=new N(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(k,R);I[i]=new N(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){I[r]=new N(r,1,!1,r.toLowerCase(),null,!1,!1)}),I.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){I[r]=new N(r,1,!1,r.toLowerCase(),null,!0,!0)});function M(r,i,l,u){var f=I.hasOwnProperty(i)?I[i]:null;(f!==null?f.type!==0:u||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(C(i,l,f,u)&&(l=null),u||f===null?_(i)&&(l===null?r.removeAttribute(i):r.setAttribute(i,""+l)):f.mustUseProperty?r[f.propertyName]=l===null?f.type===3?!1:"":l:(i=f.attributeName,u=f.attributeNamespace,l===null?r.removeAttribute(i):(f=f.type,l=f===3||f===4&&l===!0?"":""+l,u?r.setAttributeNS(u,i,l):r.setAttribute(i,l))))}var V=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),b=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),ce=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),Te=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),z=Symbol.iterator;function Q(r){return r===null||typeof r!="object"?null:(r=z&&r[z]||r["@@iterator"],typeof r=="function"?r:null)}var H=Object.assign,x;function F(r){if(x===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);x=i&&i[1]||""}return`
`+x+r}var ue=!1;function se(r,i){if(!r||ue)return"";ue=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(A){var u=A}Reflect.construct(r,[],i)}else{try{i.call()}catch(A){u=A}r.call(i.prototype)}else{try{throw Error()}catch(A){u=A}r()}}catch(A){if(A&&u&&typeof A.stack=="string"){for(var f=A.stack.split(`
`),m=u.stack.split(`
`),y=f.length-1,E=m.length-1;1<=y&&0<=E&&f[y]!==m[E];)E--;for(;1<=y&&0<=E;y--,E--)if(f[y]!==m[E]){if(y!==1||E!==1)do if(y--,E--,0>E||f[y]!==m[E]){var S=`
`+f[y].replace(" at new "," at ");return r.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",r.displayName)),S}while(1<=y&&0<=E);break}}}finally{ue=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?F(r):""}function he(r){switch(r.tag){case 5:return F(r.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return r=se(r.type,!1),r;case 11:return r=se(r.type.render,!1),r;case 1:return r=se(r.type,!0),r;default:return""}}function pe(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case L:return"Fragment";case b:return"Portal";case Z:return"Profiler";case U:return"StrictMode";case Te:return"Suspense";case O:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case ce:return(r.displayName||"Context")+".Consumer";case J:return(r._context.displayName||"Context")+".Provider";case me:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case ee:return i=r.displayName||null,i!==null?i:pe(r.type)||"Memo";case W:i=r._payload,r=r._init;try{return pe(r(i))}catch{}}return null}function _e(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(i);case 8:return i===U?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function ge(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Re(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function kt(r){var i=Re(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),u=""+r[i];if(!r.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,m=l.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return f.call(this)},set:function(y){u=""+y,m.call(this,y)}}),Object.defineProperty(r,i,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(y){u=""+y},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function ts(r){r._valueTracker||(r._valueTracker=kt(r))}function Ud(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var l=i.getValue(),u="";return r&&(u=Re(r)?r.checked?"true":"false":r.value),r=u,r!==l?(i.setValue(r),!0):!1}function ns(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Na(r,i){var l=i.checked;return H({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function Wd(r,i){var l=i.defaultValue==null?"":i.defaultValue,u=i.checked!=null?i.checked:i.defaultChecked;l=ge(i.value!=null?i.value:l),r._wrapperState={initialChecked:u,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Bd(r,i){i=i.checked,i!=null&&M(r,"checked",i,!1)}function Ia(r,i){Bd(r,i);var l=ge(i.value),u=i.type;if(l!=null)u==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(u==="submit"||u==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?Ra(r,i.type,l):i.hasOwnProperty("defaultValue")&&Ra(r,i.type,ge(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function Hd(r,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var u=i.type;if(!(u!=="submit"&&u!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,l||i===r.value||(r.value=i),r.defaultValue=i}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function Ra(r,i,l){(i!=="number"||ns(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var Si=Array.isArray;function Dr(r,i,l,u){if(r=r.options,i){i={};for(var f=0;f<l.length;f++)i["$"+l[f]]=!0;for(l=0;l<r.length;l++)f=i.hasOwnProperty("$"+r[l].value),r[l].selected!==f&&(r[l].selected=f),f&&u&&(r[l].defaultSelected=!0)}else{for(l=""+ge(l),i=null,f=0;f<r.length;f++){if(r[f].value===l){r[f].selected=!0,u&&(r[f].defaultSelected=!0);return}i!==null||r[f].disabled||(i=r[f])}i!==null&&(i.selected=!0)}}function Pa(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return H({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function jd(r,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(n(92));if(Si(l)){if(1<l.length)throw Error(n(93));l=l[0]}i=l}i==null&&(i=""),l=i}r._wrapperState={initialValue:ge(l)}}function Vd(r,i){var l=ge(i.value),u=ge(i.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),i.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),u!=null&&(r.defaultValue=""+u)}function qd(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function Gd(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Da(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?Gd(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var rs,Qd=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,u,f){MSApp.execUnsafeLocalFunction(function(){return r(i,l,u,f)})}:r}(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(rs=rs||document.createElement("div"),rs.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=rs.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function xi(r,i){if(i){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=i;return}}r.textContent=i}var Ti={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vv=["Webkit","ms","Moz","O"];Object.keys(Ti).forEach(function(r){Vv.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),Ti[i]=Ti[r]})});function Kd(r,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||Ti.hasOwnProperty(r)&&Ti[r]?(""+i).trim():i+"px"}function Yd(r,i){r=r.style;for(var l in i)if(i.hasOwnProperty(l)){var u=l.indexOf("--")===0,f=Kd(l,i[l],u);l==="float"&&(l="cssFloat"),u?r.setProperty(l,f):r[l]=f}}var qv=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Oa(r,i){if(i){if(qv[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function Aa(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ma=null;function La(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ba=null,Or=null,Ar=null;function Xd(r){if(r=Gi(r)){if(typeof ba!="function")throw Error(n(280));var i=r.stateNode;i&&(i=ks(i),ba(r.stateNode,r.type,i))}}function Jd(r){Or?Ar?Ar.push(r):Ar=[r]:Or=r}function Zd(){if(Or){var r=Or,i=Ar;if(Ar=Or=null,Xd(r),i)for(r=0;r<i.length;r++)Xd(i[r])}}function eh(r,i){return r(i)}function th(){}var Fa=!1;function nh(r,i,l){if(Fa)return r(i,l);Fa=!0;try{return eh(r,i,l)}finally{Fa=!1,(Or!==null||Ar!==null)&&(th(),Zd())}}function ki(r,i){var l=r.stateNode;if(l===null)return null;var u=ks(l);if(u===null)return null;l=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(n(231,i,typeof l));return l}var za=!1;if(d)try{var Ni={};Object.defineProperty(Ni,"passive",{get:function(){za=!0}}),window.addEventListener("test",Ni,Ni),window.removeEventListener("test",Ni,Ni)}catch{za=!1}function Gv(r,i,l,u,f,m,y,E,S){var A=Array.prototype.slice.call(arguments,3);try{i.apply(l,A)}catch(q){this.onError(q)}}var Ii=!1,is=null,os=!1,$a=null,Qv={onError:function(r){Ii=!0,is=r}};function Kv(r,i,l,u,f,m,y,E,S){Ii=!1,is=null,Gv.apply(Qv,arguments)}function Yv(r,i,l,u,f,m,y,E,S){if(Kv.apply(this,arguments),Ii){if(Ii){var A=is;Ii=!1,is=null}else throw Error(n(198));os||(os=!0,$a=A)}}function nr(r){var i=r,l=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,i.flags&4098&&(l=i.return),r=i.return;while(r)}return i.tag===3?l:null}function rh(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function ih(r){if(nr(r)!==r)throw Error(n(188))}function Xv(r){var i=r.alternate;if(!i){if(i=nr(r),i===null)throw Error(n(188));return i!==r?null:r}for(var l=r,u=i;;){var f=l.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){l=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===l)return ih(f),r;if(m===u)return ih(f),i;m=m.sibling}throw Error(n(188))}if(l.return!==u.return)l=f,u=m;else{for(var y=!1,E=f.child;E;){if(E===l){y=!0,l=f,u=m;break}if(E===u){y=!0,u=f,l=m;break}E=E.sibling}if(!y){for(E=m.child;E;){if(E===l){y=!0,l=m,u=f;break}if(E===u){y=!0,u=m,l=f;break}E=E.sibling}if(!y)throw Error(n(189))}}if(l.alternate!==u)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?r:i}function oh(r){return r=Xv(r),r!==null?sh(r):null}function sh(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=sh(r);if(i!==null)return i;r=r.sibling}return null}var lh=e.unstable_scheduleCallback,ah=e.unstable_cancelCallback,Jv=e.unstable_shouldYield,Zv=e.unstable_requestPaint,je=e.unstable_now,e0=e.unstable_getCurrentPriorityLevel,Ua=e.unstable_ImmediatePriority,uh=e.unstable_UserBlockingPriority,ss=e.unstable_NormalPriority,t0=e.unstable_LowPriority,ch=e.unstable_IdlePriority,ls=null,en=null;function n0(r){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(ls,r,void 0,(r.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:o0,r0=Math.log,i0=Math.LN2;function o0(r){return r>>>=0,r===0?32:31-(r0(r)/i0|0)|0}var as=64,us=4194304;function Ri(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function cs(r,i){var l=r.pendingLanes;if(l===0)return 0;var u=0,f=r.suspendedLanes,m=r.pingedLanes,y=l&268435455;if(y!==0){var E=y&~f;E!==0?u=Ri(E):(m&=y,m!==0&&(u=Ri(m)))}else y=l&~f,y!==0?u=Ri(y):m!==0&&(u=Ri(m));if(u===0)return 0;if(i!==0&&i!==u&&!(i&f)&&(f=u&-u,m=i&-i,f>=m||f===16&&(m&4194240)!==0))return i;if(u&4&&(u|=l&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=u;0<i;)l=31-Ut(i),f=1<<l,u|=r[l],i&=~f;return u}function s0(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function l0(r,i){for(var l=r.suspendedLanes,u=r.pingedLanes,f=r.expirationTimes,m=r.pendingLanes;0<m;){var y=31-Ut(m),E=1<<y,S=f[y];S===-1?(!(E&l)||E&u)&&(f[y]=s0(E,i)):S<=i&&(r.expiredLanes|=E),m&=~E}}function Wa(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function fh(){var r=as;return as<<=1,!(as&4194240)&&(as=64),r}function Ba(r){for(var i=[],l=0;31>l;l++)i.push(r);return i}function Pi(r,i,l){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-Ut(i),r[i]=l}function a0(r,i){var l=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var u=r.eventTimes;for(r=r.expirationTimes;0<l;){var f=31-Ut(l),m=1<<f;i[f]=0,u[f]=-1,r[f]=-1,l&=~m}}function Ha(r,i){var l=r.entangledLanes|=i;for(r=r.entanglements;l;){var u=31-Ut(l),f=1<<u;f&i|r[u]&i&&(r[u]|=i),l&=~f}}var Ie=0;function dh(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var hh,ja,ph,mh,gh,Va=!1,fs=[],Nn=null,In=null,Rn=null,Di=new Map,Oi=new Map,Pn=[],u0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _h(r,i){switch(r){case"focusin":case"focusout":Nn=null;break;case"dragenter":case"dragleave":In=null;break;case"mouseover":case"mouseout":Rn=null;break;case"pointerover":case"pointerout":Di.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oi.delete(i.pointerId)}}function Ai(r,i,l,u,f,m){return r===null||r.nativeEvent!==m?(r={blockedOn:i,domEventName:l,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},i!==null&&(i=Gi(i),i!==null&&ja(i)),r):(r.eventSystemFlags|=u,i=r.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),r)}function c0(r,i,l,u,f){switch(i){case"focusin":return Nn=Ai(Nn,r,i,l,u,f),!0;case"dragenter":return In=Ai(In,r,i,l,u,f),!0;case"mouseover":return Rn=Ai(Rn,r,i,l,u,f),!0;case"pointerover":var m=f.pointerId;return Di.set(m,Ai(Di.get(m)||null,r,i,l,u,f)),!0;case"gotpointercapture":return m=f.pointerId,Oi.set(m,Ai(Oi.get(m)||null,r,i,l,u,f)),!0}return!1}function yh(r){var i=rr(r.target);if(i!==null){var l=nr(i);if(l!==null){if(i=l.tag,i===13){if(i=rh(l),i!==null){r.blockedOn=i,gh(r.priority,function(){ph(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ds(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var l=Ga(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var u=new l.constructor(l.type,l);Ma=u,l.target.dispatchEvent(u),Ma=null}else return i=Gi(l),i!==null&&ja(i),r.blockedOn=l,!1;i.shift()}return!0}function vh(r,i,l){ds(r)&&l.delete(i)}function f0(){Va=!1,Nn!==null&&ds(Nn)&&(Nn=null),In!==null&&ds(In)&&(In=null),Rn!==null&&ds(Rn)&&(Rn=null),Di.forEach(vh),Oi.forEach(vh)}function Mi(r,i){r.blockedOn===i&&(r.blockedOn=null,Va||(Va=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,f0)))}function Li(r){function i(f){return Mi(f,r)}if(0<fs.length){Mi(fs[0],r);for(var l=1;l<fs.length;l++){var u=fs[l];u.blockedOn===r&&(u.blockedOn=null)}}for(Nn!==null&&Mi(Nn,r),In!==null&&Mi(In,r),Rn!==null&&Mi(Rn,r),Di.forEach(i),Oi.forEach(i),l=0;l<Pn.length;l++)u=Pn[l],u.blockedOn===r&&(u.blockedOn=null);for(;0<Pn.length&&(l=Pn[0],l.blockedOn===null);)yh(l),l.blockedOn===null&&Pn.shift()}var Mr=V.ReactCurrentBatchConfig,hs=!0;function d0(r,i,l,u){var f=Ie,m=Mr.transition;Mr.transition=null;try{Ie=1,qa(r,i,l,u)}finally{Ie=f,Mr.transition=m}}function h0(r,i,l,u){var f=Ie,m=Mr.transition;Mr.transition=null;try{Ie=4,qa(r,i,l,u)}finally{Ie=f,Mr.transition=m}}function qa(r,i,l,u){if(hs){var f=Ga(r,i,l,u);if(f===null)cu(r,i,u,ps,l),_h(r,u);else if(c0(f,r,i,l,u))u.stopPropagation();else if(_h(r,u),i&4&&-1<u0.indexOf(r)){for(;f!==null;){var m=Gi(f);if(m!==null&&hh(m),m=Ga(r,i,l,u),m===null&&cu(r,i,u,ps,l),m===f)break;f=m}f!==null&&u.stopPropagation()}else cu(r,i,u,null,l)}}var ps=null;function Ga(r,i,l,u){if(ps=null,r=La(u),r=rr(r),r!==null)if(i=nr(r),i===null)r=null;else if(l=i.tag,l===13){if(r=rh(i),r!==null)return r;r=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return ps=r,null}function wh(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(e0()){case Ua:return 1;case uh:return 4;case ss:case t0:return 16;case ch:return 536870912;default:return 16}default:return 16}}var Dn=null,Qa=null,ms=null;function Eh(){if(ms)return ms;var r,i=Qa,l=i.length,u,f="value"in Dn?Dn.value:Dn.textContent,m=f.length;for(r=0;r<l&&i[r]===f[r];r++);var y=l-r;for(u=1;u<=y&&i[l-u]===f[m-u];u++);return ms=f.slice(r,1<u?1-u:void 0)}function gs(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function _s(){return!0}function Ch(){return!1}function Nt(r){function i(l,u,f,m,y){this._reactName=l,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=y,this.currentTarget=null;for(var E in r)r.hasOwnProperty(E)&&(l=r[E],this[E]=l?l(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?_s:Ch,this.isPropagationStopped=Ch,this}return H(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=_s)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=_s)},persist:function(){},isPersistent:_s}),i}var Lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ka=Nt(Lr),bi=H({},Lr,{view:0,detail:0}),p0=Nt(bi),Ya,Xa,Fi,ys=H({},bi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Za,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Fi&&(Fi&&r.type==="mousemove"?(Ya=r.screenX-Fi.screenX,Xa=r.screenY-Fi.screenY):Xa=Ya=0,Fi=r),Ya)},movementY:function(r){return"movementY"in r?r.movementY:Xa}}),Sh=Nt(ys),m0=H({},ys,{dataTransfer:0}),g0=Nt(m0),_0=H({},bi,{relatedTarget:0}),Ja=Nt(_0),y0=H({},Lr,{animationName:0,elapsedTime:0,pseudoElement:0}),v0=Nt(y0),w0=H({},Lr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),E0=Nt(w0),C0=H({},Lr,{data:0}),xh=Nt(C0),S0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},x0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},T0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function k0(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=T0[r])?!!i[r]:!1}function Za(){return k0}var N0=H({},bi,{key:function(r){if(r.key){var i=S0[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=gs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?x0[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Za,charCode:function(r){return r.type==="keypress"?gs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?gs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),I0=Nt(N0),R0=H({},ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Th=Nt(R0),P0=H({},bi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Za}),D0=Nt(P0),O0=H({},Lr,{propertyName:0,elapsedTime:0,pseudoElement:0}),A0=Nt(O0),M0=H({},ys,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),L0=Nt(M0),b0=[9,13,27,32],eu=d&&"CompositionEvent"in window,zi=null;d&&"documentMode"in document&&(zi=document.documentMode);var F0=d&&"TextEvent"in window&&!zi,kh=d&&(!eu||zi&&8<zi&&11>=zi),Nh=" ",Ih=!1;function Rh(r,i){switch(r){case"keyup":return b0.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ph(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var br=!1;function z0(r,i){switch(r){case"compositionend":return Ph(i);case"keypress":return i.which!==32?null:(Ih=!0,Nh);case"textInput":return r=i.data,r===Nh&&Ih?null:r;default:return null}}function $0(r,i){if(br)return r==="compositionend"||!eu&&Rh(r,i)?(r=Eh(),ms=Qa=Dn=null,br=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return kh&&i.locale!=="ko"?null:i.data;default:return null}}var U0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dh(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!U0[r.type]:i==="textarea"}function Oh(r,i,l,u){Jd(u),i=Ss(i,"onChange"),0<i.length&&(l=new Ka("onChange","change",null,l,u),r.push({event:l,listeners:i}))}var $i=null,Ui=null;function W0(r){Yh(r,0)}function vs(r){var i=Wr(r);if(Ud(i))return r}function B0(r,i){if(r==="change")return i}var Ah=!1;if(d){var tu;if(d){var nu="oninput"in document;if(!nu){var Mh=document.createElement("div");Mh.setAttribute("oninput","return;"),nu=typeof Mh.oninput=="function"}tu=nu}else tu=!1;Ah=tu&&(!document.documentMode||9<document.documentMode)}function Lh(){$i&&($i.detachEvent("onpropertychange",bh),Ui=$i=null)}function bh(r){if(r.propertyName==="value"&&vs(Ui)){var i=[];Oh(i,Ui,r,La(r)),nh(W0,i)}}function H0(r,i,l){r==="focusin"?(Lh(),$i=i,Ui=l,$i.attachEvent("onpropertychange",bh)):r==="focusout"&&Lh()}function j0(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return vs(Ui)}function V0(r,i){if(r==="click")return vs(i)}function q0(r,i){if(r==="input"||r==="change")return vs(i)}function G0(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Wt=typeof Object.is=="function"?Object.is:G0;function Wi(r,i){if(Wt(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var l=Object.keys(r),u=Object.keys(i);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var f=l[u];if(!h.call(i,f)||!Wt(r[f],i[f]))return!1}return!0}function Fh(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function zh(r,i){var l=Fh(r);r=0;for(var u;l;){if(l.nodeType===3){if(u=r+l.textContent.length,r<=i&&u>=i)return{node:l,offset:i-r};r=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Fh(l)}}function $h(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?$h(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Uh(){for(var r=window,i=ns();i instanceof r.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)r=i.contentWindow;else break;i=ns(r.document)}return i}function ru(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function Q0(r){var i=Uh(),l=r.focusedElem,u=r.selectionRange;if(i!==l&&l&&l.ownerDocument&&$h(l.ownerDocument.documentElement,l)){if(u!==null&&ru(l)){if(i=u.start,r=u.end,r===void 0&&(r=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(r,l.value.length);else if(r=(i=l.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var f=l.textContent.length,m=Math.min(u.start,f);u=u.end===void 0?m:Math.min(u.end,f),!r.extend&&m>u&&(f=u,u=m,m=f),f=zh(l,m);var y=zh(l,u);f&&y&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==y.node||r.focusOffset!==y.offset)&&(i=i.createRange(),i.setStart(f.node,f.offset),r.removeAllRanges(),m>u?(r.addRange(i),r.extend(y.node,y.offset)):(i.setEnd(y.node,y.offset),r.addRange(i)))}}for(i=[],r=l;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)r=i[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var K0=d&&"documentMode"in document&&11>=document.documentMode,Fr=null,iu=null,Bi=null,ou=!1;function Wh(r,i,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ou||Fr==null||Fr!==ns(u)||(u=Fr,"selectionStart"in u&&ru(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Bi&&Wi(Bi,u)||(Bi=u,u=Ss(iu,"onSelect"),0<u.length&&(i=new Ka("onSelect","select",null,i,l),r.push({event:i,listeners:u}),i.target=Fr)))}function ws(r,i){var l={};return l[r.toLowerCase()]=i.toLowerCase(),l["Webkit"+r]="webkit"+i,l["Moz"+r]="moz"+i,l}var zr={animationend:ws("Animation","AnimationEnd"),animationiteration:ws("Animation","AnimationIteration"),animationstart:ws("Animation","AnimationStart"),transitionend:ws("Transition","TransitionEnd")},su={},Bh={};d&&(Bh=document.createElement("div").style,"AnimationEvent"in window||(delete zr.animationend.animation,delete zr.animationiteration.animation,delete zr.animationstart.animation),"TransitionEvent"in window||delete zr.transitionend.transition);function Es(r){if(su[r])return su[r];if(!zr[r])return r;var i=zr[r],l;for(l in i)if(i.hasOwnProperty(l)&&l in Bh)return su[r]=i[l];return r}var Hh=Es("animationend"),jh=Es("animationiteration"),Vh=Es("animationstart"),qh=Es("transitionend"),Gh=new Map,Qh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function On(r,i){Gh.set(r,i),a(i,[r])}for(var lu=0;lu<Qh.length;lu++){var au=Qh[lu],Y0=au.toLowerCase(),X0=au[0].toUpperCase()+au.slice(1);On(Y0,"on"+X0)}On(Hh,"onAnimationEnd"),On(jh,"onAnimationIteration"),On(Vh,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(qh,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hi));function Kh(r,i,l){var u=r.type||"unknown-event";r.currentTarget=l,Yv(u,i,void 0,r),r.currentTarget=null}function Yh(r,i){i=(i&4)!==0;for(var l=0;l<r.length;l++){var u=r[l],f=u.event;u=u.listeners;e:{var m=void 0;if(i)for(var y=u.length-1;0<=y;y--){var E=u[y],S=E.instance,A=E.currentTarget;if(E=E.listener,S!==m&&f.isPropagationStopped())break e;Kh(f,E,A),m=S}else for(y=0;y<u.length;y++){if(E=u[y],S=E.instance,A=E.currentTarget,E=E.listener,S!==m&&f.isPropagationStopped())break e;Kh(f,E,A),m=S}}}if(os)throw r=$a,os=!1,$a=null,r}function Le(r,i){var l=i[gu];l===void 0&&(l=i[gu]=new Set);var u=r+"__bubble";l.has(u)||(Xh(i,r,2,!1),l.add(u))}function uu(r,i,l){var u=0;i&&(u|=4),Xh(l,r,u,i)}var Cs="_reactListening"+Math.random().toString(36).slice(2);function ji(r){if(!r[Cs]){r[Cs]=!0,o.forEach(function(l){l!=="selectionchange"&&(J0.has(l)||uu(l,!1,r),uu(l,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Cs]||(i[Cs]=!0,uu("selectionchange",!1,i))}}function Xh(r,i,l,u){switch(wh(i)){case 1:var f=d0;break;case 4:f=h0;break;default:f=qa}l=f.bind(null,i,l,r),f=void 0,!za||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),u?f!==void 0?r.addEventListener(i,l,{capture:!0,passive:f}):r.addEventListener(i,l,!0):f!==void 0?r.addEventListener(i,l,{passive:f}):r.addEventListener(i,l,!1)}function cu(r,i,l,u,f){var m=u;if(!(i&1)&&!(i&2)&&u!==null)e:for(;;){if(u===null)return;var y=u.tag;if(y===3||y===4){var E=u.stateNode.containerInfo;if(E===f||E.nodeType===8&&E.parentNode===f)break;if(y===4)for(y=u.return;y!==null;){var S=y.tag;if((S===3||S===4)&&(S=y.stateNode.containerInfo,S===f||S.nodeType===8&&S.parentNode===f))return;y=y.return}for(;E!==null;){if(y=rr(E),y===null)return;if(S=y.tag,S===5||S===6){u=m=y;continue e}E=E.parentNode}}u=u.return}nh(function(){var A=m,q=La(l),G=[];e:{var j=Gh.get(r);if(j!==void 0){var te=Ka,re=r;switch(r){case"keypress":if(gs(l)===0)break e;case"keydown":case"keyup":te=I0;break;case"focusin":re="focus",te=Ja;break;case"focusout":re="blur",te=Ja;break;case"beforeblur":case"afterblur":te=Ja;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Sh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=g0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=D0;break;case Hh:case jh:case Vh:te=v0;break;case qh:te=A0;break;case"scroll":te=p0;break;case"wheel":te=L0;break;case"copy":case"cut":case"paste":te=E0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Th}var ie=(i&4)!==0,Ve=!ie&&r==="scroll",P=ie?j!==null?j+"Capture":null:j;ie=[];for(var T=A,D;T!==null;){D=T;var Y=D.stateNode;if(D.tag===5&&Y!==null&&(D=Y,P!==null&&(Y=ki(T,P),Y!=null&&ie.push(Vi(T,Y,D)))),Ve)break;T=T.return}0<ie.length&&(j=new te(j,re,null,l,q),G.push({event:j,listeners:ie}))}}if(!(i&7)){e:{if(j=r==="mouseover"||r==="pointerover",te=r==="mouseout"||r==="pointerout",j&&l!==Ma&&(re=l.relatedTarget||l.fromElement)&&(rr(re)||re[cn]))break e;if((te||j)&&(j=q.window===q?q:(j=q.ownerDocument)?j.defaultView||j.parentWindow:window,te?(re=l.relatedTarget||l.toElement,te=A,re=re?rr(re):null,re!==null&&(Ve=nr(re),re!==Ve||re.tag!==5&&re.tag!==6)&&(re=null)):(te=null,re=A),te!==re)){if(ie=Sh,Y="onMouseLeave",P="onMouseEnter",T="mouse",(r==="pointerout"||r==="pointerover")&&(ie=Th,Y="onPointerLeave",P="onPointerEnter",T="pointer"),Ve=te==null?j:Wr(te),D=re==null?j:Wr(re),j=new ie(Y,T+"leave",te,l,q),j.target=Ve,j.relatedTarget=D,Y=null,rr(q)===A&&(ie=new ie(P,T+"enter",re,l,q),ie.target=D,ie.relatedTarget=Ve,Y=ie),Ve=Y,te&&re)t:{for(ie=te,P=re,T=0,D=ie;D;D=$r(D))T++;for(D=0,Y=P;Y;Y=$r(Y))D++;for(;0<T-D;)ie=$r(ie),T--;for(;0<D-T;)P=$r(P),D--;for(;T--;){if(ie===P||P!==null&&ie===P.alternate)break t;ie=$r(ie),P=$r(P)}ie=null}else ie=null;te!==null&&Jh(G,j,te,ie,!1),re!==null&&Ve!==null&&Jh(G,Ve,re,ie,!0)}}e:{if(j=A?Wr(A):window,te=j.nodeName&&j.nodeName.toLowerCase(),te==="select"||te==="input"&&j.type==="file")var oe=B0;else if(Dh(j))if(Ah)oe=q0;else{oe=j0;var le=H0}else(te=j.nodeName)&&te.toLowerCase()==="input"&&(j.type==="checkbox"||j.type==="radio")&&(oe=V0);if(oe&&(oe=oe(r,A))){Oh(G,oe,l,q);break e}le&&le(r,j,A),r==="focusout"&&(le=j._wrapperState)&&le.controlled&&j.type==="number"&&Ra(j,"number",j.value)}switch(le=A?Wr(A):window,r){case"focusin":(Dh(le)||le.contentEditable==="true")&&(Fr=le,iu=A,Bi=null);break;case"focusout":Bi=iu=Fr=null;break;case"mousedown":ou=!0;break;case"contextmenu":case"mouseup":case"dragend":ou=!1,Wh(G,l,q);break;case"selectionchange":if(K0)break;case"keydown":case"keyup":Wh(G,l,q)}var ae;if(eu)e:{switch(r){case"compositionstart":var de="onCompositionStart";break e;case"compositionend":de="onCompositionEnd";break e;case"compositionupdate":de="onCompositionUpdate";break e}de=void 0}else br?Rh(r,l)&&(de="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(de="onCompositionStart");de&&(kh&&l.locale!=="ko"&&(br||de!=="onCompositionStart"?de==="onCompositionEnd"&&br&&(ae=Eh()):(Dn=q,Qa="value"in Dn?Dn.value:Dn.textContent,br=!0)),le=Ss(A,de),0<le.length&&(de=new xh(de,r,null,l,q),G.push({event:de,listeners:le}),ae?de.data=ae:(ae=Ph(l),ae!==null&&(de.data=ae)))),(ae=F0?z0(r,l):$0(r,l))&&(A=Ss(A,"onBeforeInput"),0<A.length&&(q=new xh("onBeforeInput","beforeinput",null,l,q),G.push({event:q,listeners:A}),q.data=ae))}Yh(G,i)})}function Vi(r,i,l){return{instance:r,listener:i,currentTarget:l}}function Ss(r,i){for(var l=i+"Capture",u=[];r!==null;){var f=r,m=f.stateNode;f.tag===5&&m!==null&&(f=m,m=ki(r,l),m!=null&&u.unshift(Vi(r,m,f)),m=ki(r,i),m!=null&&u.push(Vi(r,m,f))),r=r.return}return u}function $r(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Jh(r,i,l,u,f){for(var m=i._reactName,y=[];l!==null&&l!==u;){var E=l,S=E.alternate,A=E.stateNode;if(S!==null&&S===u)break;E.tag===5&&A!==null&&(E=A,f?(S=ki(l,m),S!=null&&y.unshift(Vi(l,S,E))):f||(S=ki(l,m),S!=null&&y.push(Vi(l,S,E)))),l=l.return}y.length!==0&&r.push({event:i,listeners:y})}var Z0=/\r\n?/g,ew=/\u0000|\uFFFD/g;function Zh(r){return(typeof r=="string"?r:""+r).replace(Z0,`
`).replace(ew,"")}function xs(r,i,l){if(i=Zh(i),Zh(r)!==i&&l)throw Error(n(425))}function Ts(){}var fu=null,du=null;function hu(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var pu=typeof setTimeout=="function"?setTimeout:void 0,tw=typeof clearTimeout=="function"?clearTimeout:void 0,ep=typeof Promise=="function"?Promise:void 0,nw=typeof queueMicrotask=="function"?queueMicrotask:typeof ep<"u"?function(r){return ep.resolve(null).then(r).catch(rw)}:pu;function rw(r){setTimeout(function(){throw r})}function mu(r,i){var l=i,u=0;do{var f=l.nextSibling;if(r.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(u===0){r.removeChild(f),Li(i);return}u--}else l!=="$"&&l!=="$?"&&l!=="$!"||u++;l=f}while(l);Li(i)}function An(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function tp(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return r;i--}else l==="/$"&&i++}r=r.previousSibling}return null}var Ur=Math.random().toString(36).slice(2),tn="__reactFiber$"+Ur,qi="__reactProps$"+Ur,cn="__reactContainer$"+Ur,gu="__reactEvents$"+Ur,iw="__reactListeners$"+Ur,ow="__reactHandles$"+Ur;function rr(r){var i=r[tn];if(i)return i;for(var l=r.parentNode;l;){if(i=l[cn]||l[tn]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(r=tp(r);r!==null;){if(l=r[tn])return l;r=tp(r)}return i}r=l,l=r.parentNode}return null}function Gi(r){return r=r[tn]||r[cn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Wr(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function ks(r){return r[qi]||null}var _u=[],Br=-1;function Mn(r){return{current:r}}function be(r){0>Br||(r.current=_u[Br],_u[Br]=null,Br--)}function De(r,i){Br++,_u[Br]=r.current,r.current=i}var Ln={},at=Mn(Ln),_t=Mn(!1),ir=Ln;function Hr(r,i){var l=r.type.contextTypes;if(!l)return Ln;var u=r.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===i)return u.__reactInternalMemoizedMaskedChildContext;var f={},m;for(m in l)f[m]=i[m];return u&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=f),f}function yt(r){return r=r.childContextTypes,r!=null}function Ns(){be(_t),be(at)}function np(r,i,l){if(at.current!==Ln)throw Error(n(168));De(at,i),De(_t,l)}function rp(r,i,l){var u=r.stateNode;if(i=i.childContextTypes,typeof u.getChildContext!="function")return l;u=u.getChildContext();for(var f in u)if(!(f in i))throw Error(n(108,_e(r)||"Unknown",f));return H({},l,u)}function Is(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Ln,ir=at.current,De(at,r),De(_t,_t.current),!0}function ip(r,i,l){var u=r.stateNode;if(!u)throw Error(n(169));l?(r=rp(r,i,ir),u.__reactInternalMemoizedMergedChildContext=r,be(_t),be(at),De(at,r)):be(_t),De(_t,l)}var fn=null,Rs=!1,yu=!1;function op(r){fn===null?fn=[r]:fn.push(r)}function sw(r){Rs=!0,op(r)}function bn(){if(!yu&&fn!==null){yu=!0;var r=0,i=Ie;try{var l=fn;for(Ie=1;r<l.length;r++){var u=l[r];do u=u(!0);while(u!==null)}fn=null,Rs=!1}catch(f){throw fn!==null&&(fn=fn.slice(r+1)),lh(Ua,bn),f}finally{Ie=i,yu=!1}}return null}var jr=[],Vr=0,Ps=null,Ds=0,At=[],Mt=0,or=null,dn=1,hn="";function sr(r,i){jr[Vr++]=Ds,jr[Vr++]=Ps,Ps=r,Ds=i}function sp(r,i,l){At[Mt++]=dn,At[Mt++]=hn,At[Mt++]=or,or=r;var u=dn;r=hn;var f=32-Ut(u)-1;u&=~(1<<f),l+=1;var m=32-Ut(i)+f;if(30<m){var y=f-f%5;m=(u&(1<<y)-1).toString(32),u>>=y,f-=y,dn=1<<32-Ut(i)+f|l<<f|u,hn=m+r}else dn=1<<m|l<<f|u,hn=r}function vu(r){r.return!==null&&(sr(r,1),sp(r,1,0))}function wu(r){for(;r===Ps;)Ps=jr[--Vr],jr[Vr]=null,Ds=jr[--Vr],jr[Vr]=null;for(;r===or;)or=At[--Mt],At[Mt]=null,hn=At[--Mt],At[Mt]=null,dn=At[--Mt],At[Mt]=null}var It=null,Rt=null,Fe=!1,Bt=null;function lp(r,i){var l=zt(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=r,i=r.deletions,i===null?(r.deletions=[l],r.flags|=16):i.push(l)}function ap(r,i){switch(r.tag){case 5:var l=r.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,It=r,Rt=An(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,It=r,Rt=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=or!==null?{id:dn,overflow:hn}:null,r.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=zt(18,null,null,0),l.stateNode=i,l.return=r,r.child=l,It=r,Rt=null,!0):!1;default:return!1}}function Eu(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Cu(r){if(Fe){var i=Rt;if(i){var l=i;if(!ap(r,i)){if(Eu(r))throw Error(n(418));i=An(l.nextSibling);var u=It;i&&ap(r,i)?lp(u,l):(r.flags=r.flags&-4097|2,Fe=!1,It=r)}}else{if(Eu(r))throw Error(n(418));r.flags=r.flags&-4097|2,Fe=!1,It=r}}}function up(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;It=r}function Os(r){if(r!==It)return!1;if(!Fe)return up(r),Fe=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!hu(r.type,r.memoizedProps)),i&&(i=Rt)){if(Eu(r))throw cp(),Error(n(418));for(;i;)lp(r,i),i=An(i.nextSibling)}if(up(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(i===0){Rt=An(r.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}r=r.nextSibling}Rt=null}}else Rt=It?An(r.stateNode.nextSibling):null;return!0}function cp(){for(var r=Rt;r;)r=An(r.nextSibling)}function qr(){Rt=It=null,Fe=!1}function Su(r){Bt===null?Bt=[r]:Bt.push(r)}var lw=V.ReactCurrentBatchConfig;function Qi(r,i,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var u=l.stateNode}if(!u)throw Error(n(147,r));var f=u,m=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===m?i.ref:(i=function(y){var E=f.refs;y===null?delete E[m]:E[m]=y},i._stringRef=m,i)}if(typeof r!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,r))}return r}function As(r,i){throw r=Object.prototype.toString.call(i),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function fp(r){var i=r._init;return i(r._payload)}function dp(r){function i(P,T){if(r){var D=P.deletions;D===null?(P.deletions=[T],P.flags|=16):D.push(T)}}function l(P,T){if(!r)return null;for(;T!==null;)i(P,T),T=T.sibling;return null}function u(P,T){for(P=new Map;T!==null;)T.key!==null?P.set(T.key,T):P.set(T.index,T),T=T.sibling;return P}function f(P,T){return P=jn(P,T),P.index=0,P.sibling=null,P}function m(P,T,D){return P.index=D,r?(D=P.alternate,D!==null?(D=D.index,D<T?(P.flags|=2,T):D):(P.flags|=2,T)):(P.flags|=1048576,T)}function y(P){return r&&P.alternate===null&&(P.flags|=2),P}function E(P,T,D,Y){return T===null||T.tag!==6?(T=pc(D,P.mode,Y),T.return=P,T):(T=f(T,D),T.return=P,T)}function S(P,T,D,Y){var oe=D.type;return oe===L?q(P,T,D.props.children,Y,D.key):T!==null&&(T.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===W&&fp(oe)===T.type)?(Y=f(T,D.props),Y.ref=Qi(P,T,D),Y.return=P,Y):(Y=rl(D.type,D.key,D.props,null,P.mode,Y),Y.ref=Qi(P,T,D),Y.return=P,Y)}function A(P,T,D,Y){return T===null||T.tag!==4||T.stateNode.containerInfo!==D.containerInfo||T.stateNode.implementation!==D.implementation?(T=mc(D,P.mode,Y),T.return=P,T):(T=f(T,D.children||[]),T.return=P,T)}function q(P,T,D,Y,oe){return T===null||T.tag!==7?(T=pr(D,P.mode,Y,oe),T.return=P,T):(T=f(T,D),T.return=P,T)}function G(P,T,D){if(typeof T=="string"&&T!==""||typeof T=="number")return T=pc(""+T,P.mode,D),T.return=P,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case $:return D=rl(T.type,T.key,T.props,null,P.mode,D),D.ref=Qi(P,null,T),D.return=P,D;case b:return T=mc(T,P.mode,D),T.return=P,T;case W:var Y=T._init;return G(P,Y(T._payload),D)}if(Si(T)||Q(T))return T=pr(T,P.mode,D,null),T.return=P,T;As(P,T)}return null}function j(P,T,D,Y){var oe=T!==null?T.key:null;if(typeof D=="string"&&D!==""||typeof D=="number")return oe!==null?null:E(P,T,""+D,Y);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case $:return D.key===oe?S(P,T,D,Y):null;case b:return D.key===oe?A(P,T,D,Y):null;case W:return oe=D._init,j(P,T,oe(D._payload),Y)}if(Si(D)||Q(D))return oe!==null?null:q(P,T,D,Y,null);As(P,D)}return null}function te(P,T,D,Y,oe){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return P=P.get(D)||null,E(T,P,""+Y,oe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case $:return P=P.get(Y.key===null?D:Y.key)||null,S(T,P,Y,oe);case b:return P=P.get(Y.key===null?D:Y.key)||null,A(T,P,Y,oe);case W:var le=Y._init;return te(P,T,D,le(Y._payload),oe)}if(Si(Y)||Q(Y))return P=P.get(D)||null,q(T,P,Y,oe,null);As(T,Y)}return null}function re(P,T,D,Y){for(var oe=null,le=null,ae=T,de=T=0,Je=null;ae!==null&&de<D.length;de++){ae.index>de?(Je=ae,ae=null):Je=ae.sibling;var ke=j(P,ae,D[de],Y);if(ke===null){ae===null&&(ae=Je);break}r&&ae&&ke.alternate===null&&i(P,ae),T=m(ke,T,de),le===null?oe=ke:le.sibling=ke,le=ke,ae=Je}if(de===D.length)return l(P,ae),Fe&&sr(P,de),oe;if(ae===null){for(;de<D.length;de++)ae=G(P,D[de],Y),ae!==null&&(T=m(ae,T,de),le===null?oe=ae:le.sibling=ae,le=ae);return Fe&&sr(P,de),oe}for(ae=u(P,ae);de<D.length;de++)Je=te(ae,P,de,D[de],Y),Je!==null&&(r&&Je.alternate!==null&&ae.delete(Je.key===null?de:Je.key),T=m(Je,T,de),le===null?oe=Je:le.sibling=Je,le=Je);return r&&ae.forEach(function(Vn){return i(P,Vn)}),Fe&&sr(P,de),oe}function ie(P,T,D,Y){var oe=Q(D);if(typeof oe!="function")throw Error(n(150));if(D=oe.call(D),D==null)throw Error(n(151));for(var le=oe=null,ae=T,de=T=0,Je=null,ke=D.next();ae!==null&&!ke.done;de++,ke=D.next()){ae.index>de?(Je=ae,ae=null):Je=ae.sibling;var Vn=j(P,ae,ke.value,Y);if(Vn===null){ae===null&&(ae=Je);break}r&&ae&&Vn.alternate===null&&i(P,ae),T=m(Vn,T,de),le===null?oe=Vn:le.sibling=Vn,le=Vn,ae=Je}if(ke.done)return l(P,ae),Fe&&sr(P,de),oe;if(ae===null){for(;!ke.done;de++,ke=D.next())ke=G(P,ke.value,Y),ke!==null&&(T=m(ke,T,de),le===null?oe=ke:le.sibling=ke,le=ke);return Fe&&sr(P,de),oe}for(ae=u(P,ae);!ke.done;de++,ke=D.next())ke=te(ae,P,de,ke.value,Y),ke!==null&&(r&&ke.alternate!==null&&ae.delete(ke.key===null?de:ke.key),T=m(ke,T,de),le===null?oe=ke:le.sibling=ke,le=ke);return r&&ae.forEach(function(Uw){return i(P,Uw)}),Fe&&sr(P,de),oe}function Ve(P,T,D,Y){if(typeof D=="object"&&D!==null&&D.type===L&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case $:e:{for(var oe=D.key,le=T;le!==null;){if(le.key===oe){if(oe=D.type,oe===L){if(le.tag===7){l(P,le.sibling),T=f(le,D.props.children),T.return=P,P=T;break e}}else if(le.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===W&&fp(oe)===le.type){l(P,le.sibling),T=f(le,D.props),T.ref=Qi(P,le,D),T.return=P,P=T;break e}l(P,le);break}else i(P,le);le=le.sibling}D.type===L?(T=pr(D.props.children,P.mode,Y,D.key),T.return=P,P=T):(Y=rl(D.type,D.key,D.props,null,P.mode,Y),Y.ref=Qi(P,T,D),Y.return=P,P=Y)}return y(P);case b:e:{for(le=D.key;T!==null;){if(T.key===le)if(T.tag===4&&T.stateNode.containerInfo===D.containerInfo&&T.stateNode.implementation===D.implementation){l(P,T.sibling),T=f(T,D.children||[]),T.return=P,P=T;break e}else{l(P,T);break}else i(P,T);T=T.sibling}T=mc(D,P.mode,Y),T.return=P,P=T}return y(P);case W:return le=D._init,Ve(P,T,le(D._payload),Y)}if(Si(D))return re(P,T,D,Y);if(Q(D))return ie(P,T,D,Y);As(P,D)}return typeof D=="string"&&D!==""||typeof D=="number"?(D=""+D,T!==null&&T.tag===6?(l(P,T.sibling),T=f(T,D),T.return=P,P=T):(l(P,T),T=pc(D,P.mode,Y),T.return=P,P=T),y(P)):l(P,T)}return Ve}var Gr=dp(!0),hp=dp(!1),Ms=Mn(null),Ls=null,Qr=null,xu=null;function Tu(){xu=Qr=Ls=null}function ku(r){var i=Ms.current;be(Ms),r._currentValue=i}function Nu(r,i,l){for(;r!==null;){var u=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),r===l)break;r=r.return}}function Kr(r,i){Ls=r,xu=Qr=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&i&&(vt=!0),r.firstContext=null)}function Lt(r){var i=r._currentValue;if(xu!==r)if(r={context:r,memoizedValue:i,next:null},Qr===null){if(Ls===null)throw Error(n(308));Qr=r,Ls.dependencies={lanes:0,firstContext:r}}else Qr=Qr.next=r;return i}var lr=null;function Iu(r){lr===null?lr=[r]:lr.push(r)}function pp(r,i,l,u){var f=i.interleaved;return f===null?(l.next=l,Iu(i)):(l.next=f.next,f.next=l),i.interleaved=l,pn(r,u)}function pn(r,i){r.lanes|=i;var l=r.alternate;for(l!==null&&(l.lanes|=i),l=r,r=r.return;r!==null;)r.childLanes|=i,l=r.alternate,l!==null&&(l.childLanes|=i),l=r,r=r.return;return l.tag===3?l.stateNode:null}var Fn=!1;function Ru(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mp(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function mn(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function zn(r,i,l){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,xe&2){var f=u.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),u.pending=i,pn(r,l)}return f=u.interleaved,f===null?(i.next=i,Iu(u)):(i.next=f.next,f.next=i),u.interleaved=i,pn(r,l)}function bs(r,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var u=i.lanes;u&=r.pendingLanes,l|=u,i.lanes=l,Ha(r,l)}}function gp(r,i){var l=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var f=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var y={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};m===null?f=m=y:m=m.next=y,l=l.next}while(l!==null);m===null?f=m=i:m=m.next=i}else f=m=i;l={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,effects:u.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=i:r.next=i,l.lastBaseUpdate=i}function Fs(r,i,l,u){var f=r.updateQueue;Fn=!1;var m=f.firstBaseUpdate,y=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var S=E,A=S.next;S.next=null,y===null?m=A:y.next=A,y=S;var q=r.alternate;q!==null&&(q=q.updateQueue,E=q.lastBaseUpdate,E!==y&&(E===null?q.firstBaseUpdate=A:E.next=A,q.lastBaseUpdate=S))}if(m!==null){var G=f.baseState;y=0,q=A=S=null,E=m;do{var j=E.lane,te=E.eventTime;if((u&j)===j){q!==null&&(q=q.next={eventTime:te,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var re=r,ie=E;switch(j=i,te=l,ie.tag){case 1:if(re=ie.payload,typeof re=="function"){G=re.call(te,G,j);break e}G=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=ie.payload,j=typeof re=="function"?re.call(te,G,j):re,j==null)break e;G=H({},G,j);break e;case 2:Fn=!0}}E.callback!==null&&E.lane!==0&&(r.flags|=64,j=f.effects,j===null?f.effects=[E]:j.push(E))}else te={eventTime:te,lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},q===null?(A=q=te,S=G):q=q.next=te,y|=j;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;j=E,E=j.next,j.next=null,f.lastBaseUpdate=j,f.shared.pending=null}}while(!0);if(q===null&&(S=G),f.baseState=S,f.firstBaseUpdate=A,f.lastBaseUpdate=q,i=f.shared.interleaved,i!==null){f=i;do y|=f.lane,f=f.next;while(f!==i)}else m===null&&(f.shared.lanes=0);cr|=y,r.lanes=y,r.memoizedState=G}}function _p(r,i,l){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var u=r[i],f=u.callback;if(f!==null){if(u.callback=null,u=l,typeof f!="function")throw Error(n(191,f));f.call(u)}}}var Ki={},nn=Mn(Ki),Yi=Mn(Ki),Xi=Mn(Ki);function ar(r){if(r===Ki)throw Error(n(174));return r}function Pu(r,i){switch(De(Xi,i),De(Yi,r),De(nn,Ki),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Da(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=Da(i,r)}be(nn),De(nn,i)}function Yr(){be(nn),be(Yi),be(Xi)}function yp(r){ar(Xi.current);var i=ar(nn.current),l=Da(i,r.type);i!==l&&(De(Yi,r),De(nn,l))}function Du(r){Yi.current===r&&(be(nn),be(Yi))}var ze=Mn(0);function zs(r){for(var i=r;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ou=[];function Au(){for(var r=0;r<Ou.length;r++)Ou[r]._workInProgressVersionPrimary=null;Ou.length=0}var $s=V.ReactCurrentDispatcher,Mu=V.ReactCurrentBatchConfig,ur=0,$e=null,Qe=null,Ye=null,Us=!1,Ji=!1,Zi=0,aw=0;function ut(){throw Error(n(321))}function Lu(r,i){if(i===null)return!1;for(var l=0;l<i.length&&l<r.length;l++)if(!Wt(r[l],i[l]))return!1;return!0}function bu(r,i,l,u,f,m){if(ur=m,$e=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$s.current=r===null||r.memoizedState===null?dw:hw,r=l(u,f),Ji){m=0;do{if(Ji=!1,Zi=0,25<=m)throw Error(n(301));m+=1,Ye=Qe=null,i.updateQueue=null,$s.current=pw,r=l(u,f)}while(Ji)}if($s.current=Hs,i=Qe!==null&&Qe.next!==null,ur=0,Ye=Qe=$e=null,Us=!1,i)throw Error(n(300));return r}function Fu(){var r=Zi!==0;return Zi=0,r}function rn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?$e.memoizedState=Ye=r:Ye=Ye.next=r,Ye}function bt(){if(Qe===null){var r=$e.alternate;r=r!==null?r.memoizedState:null}else r=Qe.next;var i=Ye===null?$e.memoizedState:Ye.next;if(i!==null)Ye=i,Qe=r;else{if(r===null)throw Error(n(310));Qe=r,r={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},Ye===null?$e.memoizedState=Ye=r:Ye=Ye.next=r}return Ye}function eo(r,i){return typeof i=="function"?i(r):i}function zu(r){var i=bt(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var u=Qe,f=u.baseQueue,m=l.pending;if(m!==null){if(f!==null){var y=f.next;f.next=m.next,m.next=y}u.baseQueue=f=m,l.pending=null}if(f!==null){m=f.next,u=u.baseState;var E=y=null,S=null,A=m;do{var q=A.lane;if((ur&q)===q)S!==null&&(S=S.next={lane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),u=A.hasEagerState?A.eagerState:r(u,A.action);else{var G={lane:q,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null};S===null?(E=S=G,y=u):S=S.next=G,$e.lanes|=q,cr|=q}A=A.next}while(A!==null&&A!==m);S===null?y=u:S.next=E,Wt(u,i.memoizedState)||(vt=!0),i.memoizedState=u,i.baseState=y,i.baseQueue=S,l.lastRenderedState=u}if(r=l.interleaved,r!==null){f=r;do m=f.lane,$e.lanes|=m,cr|=m,f=f.next;while(f!==r)}else f===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function $u(r){var i=bt(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var u=l.dispatch,f=l.pending,m=i.memoizedState;if(f!==null){l.pending=null;var y=f=f.next;do m=r(m,y.action),y=y.next;while(y!==f);Wt(m,i.memoizedState)||(vt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),l.lastRenderedState=m}return[m,u]}function vp(){}function wp(r,i){var l=$e,u=bt(),f=i(),m=!Wt(u.memoizedState,f);if(m&&(u.memoizedState=f,vt=!0),u=u.queue,Uu(Sp.bind(null,l,u,r),[r]),u.getSnapshot!==i||m||Ye!==null&&Ye.memoizedState.tag&1){if(l.flags|=2048,to(9,Cp.bind(null,l,u,f,i),void 0,null),Xe===null)throw Error(n(349));ur&30||Ep(l,i,f)}return f}function Ep(r,i,l){r.flags|=16384,r={getSnapshot:i,value:l},i=$e.updateQueue,i===null?(i={lastEffect:null,stores:null},$e.updateQueue=i,i.stores=[r]):(l=i.stores,l===null?i.stores=[r]:l.push(r))}function Cp(r,i,l,u){i.value=l,i.getSnapshot=u,xp(i)&&Tp(r)}function Sp(r,i,l){return l(function(){xp(i)&&Tp(r)})}function xp(r){var i=r.getSnapshot;r=r.value;try{var l=i();return!Wt(r,l)}catch{return!0}}function Tp(r){var i=pn(r,1);i!==null&&qt(i,r,1,-1)}function kp(r){var i=rn();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:eo,lastRenderedState:r},i.queue=r,r=r.dispatch=fw.bind(null,$e,r),[i.memoizedState,r]}function to(r,i,l,u){return r={tag:r,create:i,destroy:l,deps:u,next:null},i=$e.updateQueue,i===null?(i={lastEffect:null,stores:null},$e.updateQueue=i,i.lastEffect=r.next=r):(l=i.lastEffect,l===null?i.lastEffect=r.next=r:(u=l.next,l.next=r,r.next=u,i.lastEffect=r)),r}function Np(){return bt().memoizedState}function Ws(r,i,l,u){var f=rn();$e.flags|=r,f.memoizedState=to(1|i,l,void 0,u===void 0?null:u)}function Bs(r,i,l,u){var f=bt();u=u===void 0?null:u;var m=void 0;if(Qe!==null){var y=Qe.memoizedState;if(m=y.destroy,u!==null&&Lu(u,y.deps)){f.memoizedState=to(i,l,m,u);return}}$e.flags|=r,f.memoizedState=to(1|i,l,m,u)}function Ip(r,i){return Ws(8390656,8,r,i)}function Uu(r,i){return Bs(2048,8,r,i)}function Rp(r,i){return Bs(4,2,r,i)}function Pp(r,i){return Bs(4,4,r,i)}function Dp(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Op(r,i,l){return l=l!=null?l.concat([r]):null,Bs(4,4,Dp.bind(null,i,r),l)}function Wu(){}function Ap(r,i){var l=bt();i=i===void 0?null:i;var u=l.memoizedState;return u!==null&&i!==null&&Lu(i,u[1])?u[0]:(l.memoizedState=[r,i],r)}function Mp(r,i){var l=bt();i=i===void 0?null:i;var u=l.memoizedState;return u!==null&&i!==null&&Lu(i,u[1])?u[0]:(r=r(),l.memoizedState=[r,i],r)}function Lp(r,i,l){return ur&21?(Wt(l,i)||(l=fh(),$e.lanes|=l,cr|=l,r.baseState=!0),i):(r.baseState&&(r.baseState=!1,vt=!0),r.memoizedState=l)}function uw(r,i){var l=Ie;Ie=l!==0&&4>l?l:4,r(!0);var u=Mu.transition;Mu.transition={};try{r(!1),i()}finally{Ie=l,Mu.transition=u}}function bp(){return bt().memoizedState}function cw(r,i,l){var u=Bn(r);if(l={lane:u,action:l,hasEagerState:!1,eagerState:null,next:null},Fp(r))zp(i,l);else if(l=pp(r,i,l,u),l!==null){var f=ht();qt(l,r,u,f),$p(l,i,u)}}function fw(r,i,l){var u=Bn(r),f={lane:u,action:l,hasEagerState:!1,eagerState:null,next:null};if(Fp(r))zp(i,f);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var y=i.lastRenderedState,E=m(y,l);if(f.hasEagerState=!0,f.eagerState=E,Wt(E,y)){var S=i.interleaved;S===null?(f.next=f,Iu(i)):(f.next=S.next,S.next=f),i.interleaved=f;return}}catch{}finally{}l=pp(r,i,f,u),l!==null&&(f=ht(),qt(l,r,u,f),$p(l,i,u))}}function Fp(r){var i=r.alternate;return r===$e||i!==null&&i===$e}function zp(r,i){Ji=Us=!0;var l=r.pending;l===null?i.next=i:(i.next=l.next,l.next=i),r.pending=i}function $p(r,i,l){if(l&4194240){var u=i.lanes;u&=r.pendingLanes,l|=u,i.lanes=l,Ha(r,l)}}var Hs={readContext:Lt,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useInsertionEffect:ut,useLayoutEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useMutableSource:ut,useSyncExternalStore:ut,useId:ut,unstable_isNewReconciler:!1},dw={readContext:Lt,useCallback:function(r,i){return rn().memoizedState=[r,i===void 0?null:i],r},useContext:Lt,useEffect:Ip,useImperativeHandle:function(r,i,l){return l=l!=null?l.concat([r]):null,Ws(4194308,4,Dp.bind(null,i,r),l)},useLayoutEffect:function(r,i){return Ws(4194308,4,r,i)},useInsertionEffect:function(r,i){return Ws(4,2,r,i)},useMemo:function(r,i){var l=rn();return i=i===void 0?null:i,r=r(),l.memoizedState=[r,i],r},useReducer:function(r,i,l){var u=rn();return i=l!==void 0?l(i):i,u.memoizedState=u.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},u.queue=r,r=r.dispatch=cw.bind(null,$e,r),[u.memoizedState,r]},useRef:function(r){var i=rn();return r={current:r},i.memoizedState=r},useState:kp,useDebugValue:Wu,useDeferredValue:function(r){return rn().memoizedState=r},useTransition:function(){var r=kp(!1),i=r[0];return r=uw.bind(null,r[1]),rn().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,l){var u=$e,f=rn();if(Fe){if(l===void 0)throw Error(n(407));l=l()}else{if(l=i(),Xe===null)throw Error(n(349));ur&30||Ep(u,i,l)}f.memoizedState=l;var m={value:l,getSnapshot:i};return f.queue=m,Ip(Sp.bind(null,u,m,r),[r]),u.flags|=2048,to(9,Cp.bind(null,u,m,l,i),void 0,null),l},useId:function(){var r=rn(),i=Xe.identifierPrefix;if(Fe){var l=hn,u=dn;l=(u&~(1<<32-Ut(u)-1)).toString(32)+l,i=":"+i+"R"+l,l=Zi++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=aw++,i=":"+i+"r"+l.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},hw={readContext:Lt,useCallback:Ap,useContext:Lt,useEffect:Uu,useImperativeHandle:Op,useInsertionEffect:Rp,useLayoutEffect:Pp,useMemo:Mp,useReducer:zu,useRef:Np,useState:function(){return zu(eo)},useDebugValue:Wu,useDeferredValue:function(r){var i=bt();return Lp(i,Qe.memoizedState,r)},useTransition:function(){var r=zu(eo)[0],i=bt().memoizedState;return[r,i]},useMutableSource:vp,useSyncExternalStore:wp,useId:bp,unstable_isNewReconciler:!1},pw={readContext:Lt,useCallback:Ap,useContext:Lt,useEffect:Uu,useImperativeHandle:Op,useInsertionEffect:Rp,useLayoutEffect:Pp,useMemo:Mp,useReducer:$u,useRef:Np,useState:function(){return $u(eo)},useDebugValue:Wu,useDeferredValue:function(r){var i=bt();return Qe===null?i.memoizedState=r:Lp(i,Qe.memoizedState,r)},useTransition:function(){var r=$u(eo)[0],i=bt().memoizedState;return[r,i]},useMutableSource:vp,useSyncExternalStore:wp,useId:bp,unstable_isNewReconciler:!1};function Ht(r,i){if(r&&r.defaultProps){i=H({},i),r=r.defaultProps;for(var l in r)i[l]===void 0&&(i[l]=r[l]);return i}return i}function Bu(r,i,l,u){i=r.memoizedState,l=l(u,i),l=l==null?i:H({},i,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var js={isMounted:function(r){return(r=r._reactInternals)?nr(r)===r:!1},enqueueSetState:function(r,i,l){r=r._reactInternals;var u=ht(),f=Bn(r),m=mn(u,f);m.payload=i,l!=null&&(m.callback=l),i=zn(r,m,f),i!==null&&(qt(i,r,f,u),bs(i,r,f))},enqueueReplaceState:function(r,i,l){r=r._reactInternals;var u=ht(),f=Bn(r),m=mn(u,f);m.tag=1,m.payload=i,l!=null&&(m.callback=l),i=zn(r,m,f),i!==null&&(qt(i,r,f,u),bs(i,r,f))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var l=ht(),u=Bn(r),f=mn(l,u);f.tag=2,i!=null&&(f.callback=i),i=zn(r,f,u),i!==null&&(qt(i,r,u,l),bs(i,r,u))}};function Up(r,i,l,u,f,m,y){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,m,y):i.prototype&&i.prototype.isPureReactComponent?!Wi(l,u)||!Wi(f,m):!0}function Wp(r,i,l){var u=!1,f=Ln,m=i.contextType;return typeof m=="object"&&m!==null?m=Lt(m):(f=yt(i)?ir:at.current,u=i.contextTypes,m=(u=u!=null)?Hr(r,f):Ln),i=new i(l,m),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=js,r.stateNode=i,i._reactInternals=r,u&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=m),i}function Bp(r,i,l,u){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,u),i.state!==r&&js.enqueueReplaceState(i,i.state,null)}function Hu(r,i,l,u){var f=r.stateNode;f.props=l,f.state=r.memoizedState,f.refs={},Ru(r);var m=i.contextType;typeof m=="object"&&m!==null?f.context=Lt(m):(m=yt(i)?ir:at.current,f.context=Hr(r,m)),f.state=r.memoizedState,m=i.getDerivedStateFromProps,typeof m=="function"&&(Bu(r,i,m,l),f.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(i=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),i!==f.state&&js.enqueueReplaceState(f,f.state,null),Fs(r,l,f,u),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function Xr(r,i){try{var l="",u=i;do l+=he(u),u=u.return;while(u);var f=l}catch(m){f=`
Error generating stack: `+m.message+`
`+m.stack}return{value:r,source:i,stack:f,digest:null}}function ju(r,i,l){return{value:r,source:null,stack:l??null,digest:i??null}}function Vu(r,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var mw=typeof WeakMap=="function"?WeakMap:Map;function Hp(r,i,l){l=mn(-1,l),l.tag=3,l.payload={element:null};var u=i.value;return l.callback=function(){Xs||(Xs=!0,sc=u),Vu(r,i)},l}function jp(r,i,l){l=mn(-1,l),l.tag=3;var u=r.type.getDerivedStateFromError;if(typeof u=="function"){var f=i.value;l.payload=function(){return u(f)},l.callback=function(){Vu(r,i)}}var m=r.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(l.callback=function(){Vu(r,i),typeof u!="function"&&(Un===null?Un=new Set([this]):Un.add(this));var y=i.stack;this.componentDidCatch(i.value,{componentStack:y!==null?y:""})}),l}function Vp(r,i,l){var u=r.pingCache;if(u===null){u=r.pingCache=new mw;var f=new Set;u.set(i,f)}else f=u.get(i),f===void 0&&(f=new Set,u.set(i,f));f.has(l)||(f.add(l),r=Rw.bind(null,r,i,l),i.then(r,r))}function qp(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function Gp(r,i,l,u,f){return r.mode&1?(r.flags|=65536,r.lanes=f,r):(r===i?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=mn(-1,1),i.tag=2,zn(l,i,1))),l.lanes|=1),r)}var gw=V.ReactCurrentOwner,vt=!1;function dt(r,i,l,u){i.child=r===null?hp(i,null,l,u):Gr(i,r.child,l,u)}function Qp(r,i,l,u,f){l=l.render;var m=i.ref;return Kr(i,f),u=bu(r,i,l,u,m,f),l=Fu(),r!==null&&!vt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~f,gn(r,i,f)):(Fe&&l&&vu(i),i.flags|=1,dt(r,i,u,f),i.child)}function Kp(r,i,l,u,f){if(r===null){var m=l.type;return typeof m=="function"&&!hc(m)&&m.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=m,Yp(r,i,m,u,f)):(r=rl(l.type,null,u,i,i.mode,f),r.ref=i.ref,r.return=i,i.child=r)}if(m=r.child,!(r.lanes&f)){var y=m.memoizedProps;if(l=l.compare,l=l!==null?l:Wi,l(y,u)&&r.ref===i.ref)return gn(r,i,f)}return i.flags|=1,r=jn(m,u),r.ref=i.ref,r.return=i,i.child=r}function Yp(r,i,l,u,f){if(r!==null){var m=r.memoizedProps;if(Wi(m,u)&&r.ref===i.ref)if(vt=!1,i.pendingProps=u=m,(r.lanes&f)!==0)r.flags&131072&&(vt=!0);else return i.lanes=r.lanes,gn(r,i,f)}return qu(r,i,l,u,f)}function Xp(r,i,l){var u=i.pendingProps,f=u.children,m=r!==null?r.memoizedState:null;if(u.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(Zr,Pt),Pt|=l;else{if(!(l&1073741824))return r=m!==null?m.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,De(Zr,Pt),Pt|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=m!==null?m.baseLanes:l,De(Zr,Pt),Pt|=u}else m!==null?(u=m.baseLanes|l,i.memoizedState=null):u=l,De(Zr,Pt),Pt|=u;return dt(r,i,f,l),i.child}function Jp(r,i){var l=i.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function qu(r,i,l,u,f){var m=yt(l)?ir:at.current;return m=Hr(i,m),Kr(i,f),l=bu(r,i,l,u,m,f),u=Fu(),r!==null&&!vt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~f,gn(r,i,f)):(Fe&&u&&vu(i),i.flags|=1,dt(r,i,l,f),i.child)}function Zp(r,i,l,u,f){if(yt(l)){var m=!0;Is(i)}else m=!1;if(Kr(i,f),i.stateNode===null)qs(r,i),Wp(i,l,u),Hu(i,l,u,f),u=!0;else if(r===null){var y=i.stateNode,E=i.memoizedProps;y.props=E;var S=y.context,A=l.contextType;typeof A=="object"&&A!==null?A=Lt(A):(A=yt(l)?ir:at.current,A=Hr(i,A));var q=l.getDerivedStateFromProps,G=typeof q=="function"||typeof y.getSnapshotBeforeUpdate=="function";G||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==u||S!==A)&&Bp(i,y,u,A),Fn=!1;var j=i.memoizedState;y.state=j,Fs(i,u,y,f),S=i.memoizedState,E!==u||j!==S||_t.current||Fn?(typeof q=="function"&&(Bu(i,l,q,u),S=i.memoizedState),(E=Fn||Up(i,l,E,u,j,S,A))?(G||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=S),y.props=u,y.state=S,y.context=A,u=E):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{y=i.stateNode,mp(r,i),E=i.memoizedProps,A=i.type===i.elementType?E:Ht(i.type,E),y.props=A,G=i.pendingProps,j=y.context,S=l.contextType,typeof S=="object"&&S!==null?S=Lt(S):(S=yt(l)?ir:at.current,S=Hr(i,S));var te=l.getDerivedStateFromProps;(q=typeof te=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==G||j!==S)&&Bp(i,y,u,S),Fn=!1,j=i.memoizedState,y.state=j,Fs(i,u,y,f);var re=i.memoizedState;E!==G||j!==re||_t.current||Fn?(typeof te=="function"&&(Bu(i,l,te,u),re=i.memoizedState),(A=Fn||Up(i,l,A,u,j,re,S)||!1)?(q||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,re,S),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,re,S)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===r.memoizedProps&&j===r.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&j===r.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=re),y.props=u,y.state=re,y.context=S,u=A):(typeof y.componentDidUpdate!="function"||E===r.memoizedProps&&j===r.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&j===r.memoizedState||(i.flags|=1024),u=!1)}return Gu(r,i,l,u,m,f)}function Gu(r,i,l,u,f,m){Jp(r,i);var y=(i.flags&128)!==0;if(!u&&!y)return f&&ip(i,l,!1),gn(r,i,m);u=i.stateNode,gw.current=i;var E=y&&typeof l.getDerivedStateFromError!="function"?null:u.render();return i.flags|=1,r!==null&&y?(i.child=Gr(i,r.child,null,m),i.child=Gr(i,null,E,m)):dt(r,i,E,m),i.memoizedState=u.state,f&&ip(i,l,!0),i.child}function em(r){var i=r.stateNode;i.pendingContext?np(r,i.pendingContext,i.pendingContext!==i.context):i.context&&np(r,i.context,!1),Pu(r,i.containerInfo)}function tm(r,i,l,u,f){return qr(),Su(f),i.flags|=256,dt(r,i,l,u),i.child}var Qu={dehydrated:null,treeContext:null,retryLane:0};function Ku(r){return{baseLanes:r,cachePool:null,transitions:null}}function nm(r,i,l){var u=i.pendingProps,f=ze.current,m=!1,y=(i.flags&128)!==0,E;if((E=y)||(E=r!==null&&r.memoizedState===null?!1:(f&2)!==0),E?(m=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),De(ze,f&1),r===null)return Cu(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(i.mode&1?r.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(y=u.children,r=u.fallback,m?(u=i.mode,m=i.child,y={mode:"hidden",children:y},!(u&1)&&m!==null?(m.childLanes=0,m.pendingProps=y):m=il(y,u,0,null),r=pr(r,u,l,null),m.return=i,r.return=i,m.sibling=r,i.child=m,i.child.memoizedState=Ku(l),i.memoizedState=Qu,r):Yu(i,y));if(f=r.memoizedState,f!==null&&(E=f.dehydrated,E!==null))return _w(r,i,y,u,E,f,l);if(m){m=u.fallback,y=i.mode,f=r.child,E=f.sibling;var S={mode:"hidden",children:u.children};return!(y&1)&&i.child!==f?(u=i.child,u.childLanes=0,u.pendingProps=S,i.deletions=null):(u=jn(f,S),u.subtreeFlags=f.subtreeFlags&14680064),E!==null?m=jn(E,m):(m=pr(m,y,l,null),m.flags|=2),m.return=i,u.return=i,u.sibling=m,i.child=u,u=m,m=i.child,y=r.child.memoizedState,y=y===null?Ku(l):{baseLanes:y.baseLanes|l,cachePool:null,transitions:y.transitions},m.memoizedState=y,m.childLanes=r.childLanes&~l,i.memoizedState=Qu,u}return m=r.child,r=m.sibling,u=jn(m,{mode:"visible",children:u.children}),!(i.mode&1)&&(u.lanes=l),u.return=i,u.sibling=null,r!==null&&(l=i.deletions,l===null?(i.deletions=[r],i.flags|=16):l.push(r)),i.child=u,i.memoizedState=null,u}function Yu(r,i){return i=il({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function Vs(r,i,l,u){return u!==null&&Su(u),Gr(i,r.child,null,l),r=Yu(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function _w(r,i,l,u,f,m,y){if(l)return i.flags&256?(i.flags&=-257,u=ju(Error(n(422))),Vs(r,i,y,u)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(m=u.fallback,f=i.mode,u=il({mode:"visible",children:u.children},f,0,null),m=pr(m,f,y,null),m.flags|=2,u.return=i,m.return=i,u.sibling=m,i.child=u,i.mode&1&&Gr(i,r.child,null,y),i.child.memoizedState=Ku(y),i.memoizedState=Qu,m);if(!(i.mode&1))return Vs(r,i,y,null);if(f.data==="$!"){if(u=f.nextSibling&&f.nextSibling.dataset,u)var E=u.dgst;return u=E,m=Error(n(419)),u=ju(m,u,void 0),Vs(r,i,y,u)}if(E=(y&r.childLanes)!==0,vt||E){if(u=Xe,u!==null){switch(y&-y){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(u.suspendedLanes|y)?0:f,f!==0&&f!==m.retryLane&&(m.retryLane=f,pn(r,f),qt(u,r,f,-1))}return dc(),u=ju(Error(n(421))),Vs(r,i,y,u)}return f.data==="$?"?(i.flags|=128,i.child=r.child,i=Pw.bind(null,r),f._reactRetry=i,null):(r=m.treeContext,Rt=An(f.nextSibling),It=i,Fe=!0,Bt=null,r!==null&&(At[Mt++]=dn,At[Mt++]=hn,At[Mt++]=or,dn=r.id,hn=r.overflow,or=i),i=Yu(i,u.children),i.flags|=4096,i)}function rm(r,i,l){r.lanes|=i;var u=r.alternate;u!==null&&(u.lanes|=i),Nu(r.return,i,l)}function Xu(r,i,l,u,f){var m=r.memoizedState;m===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:f}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=l,m.tailMode=f)}function im(r,i,l){var u=i.pendingProps,f=u.revealOrder,m=u.tail;if(dt(r,i,u.children,l),u=ze.current,u&2)u=u&1|2,i.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&rm(r,l,i);else if(r.tag===19)rm(r,l,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}if(De(ze,u),!(i.mode&1))i.memoizedState=null;else switch(f){case"forwards":for(l=i.child,f=null;l!==null;)r=l.alternate,r!==null&&zs(r)===null&&(f=l),l=l.sibling;l=f,l===null?(f=i.child,i.child=null):(f=l.sibling,l.sibling=null),Xu(i,!1,f,l,m);break;case"backwards":for(l=null,f=i.child,i.child=null;f!==null;){if(r=f.alternate,r!==null&&zs(r)===null){i.child=f;break}r=f.sibling,f.sibling=l,l=f,f=r}Xu(i,!0,l,null,m);break;case"together":Xu(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function qs(r,i){!(i.mode&1)&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function gn(r,i,l){if(r!==null&&(i.dependencies=r.dependencies),cr|=i.lanes,!(l&i.childLanes))return null;if(r!==null&&i.child!==r.child)throw Error(n(153));if(i.child!==null){for(r=i.child,l=jn(r,r.pendingProps),i.child=l,l.return=i;r.sibling!==null;)r=r.sibling,l=l.sibling=jn(r,r.pendingProps),l.return=i;l.sibling=null}return i.child}function yw(r,i,l){switch(i.tag){case 3:em(i),qr();break;case 5:yp(i);break;case 1:yt(i.type)&&Is(i);break;case 4:Pu(i,i.stateNode.containerInfo);break;case 10:var u=i.type._context,f=i.memoizedProps.value;De(Ms,u._currentValue),u._currentValue=f;break;case 13:if(u=i.memoizedState,u!==null)return u.dehydrated!==null?(De(ze,ze.current&1),i.flags|=128,null):l&i.child.childLanes?nm(r,i,l):(De(ze,ze.current&1),r=gn(r,i,l),r!==null?r.sibling:null);De(ze,ze.current&1);break;case 19:if(u=(l&i.childLanes)!==0,r.flags&128){if(u)return im(r,i,l);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),De(ze,ze.current),u)break;return null;case 22:case 23:return i.lanes=0,Xp(r,i,l)}return gn(r,i,l)}var om,Ju,sm,lm;om=function(r,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Ju=function(){},sm=function(r,i,l,u){var f=r.memoizedProps;if(f!==u){r=i.stateNode,ar(nn.current);var m=null;switch(l){case"input":f=Na(r,f),u=Na(r,u),m=[];break;case"select":f=H({},f,{value:void 0}),u=H({},u,{value:void 0}),m=[];break;case"textarea":f=Pa(r,f),u=Pa(r,u),m=[];break;default:typeof f.onClick!="function"&&typeof u.onClick=="function"&&(r.onclick=Ts)}Oa(l,u);var y;l=null;for(A in f)if(!u.hasOwnProperty(A)&&f.hasOwnProperty(A)&&f[A]!=null)if(A==="style"){var E=f[A];for(y in E)E.hasOwnProperty(y)&&(l||(l={}),l[y]="")}else A!=="dangerouslySetInnerHTML"&&A!=="children"&&A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(s.hasOwnProperty(A)?m||(m=[]):(m=m||[]).push(A,null));for(A in u){var S=u[A];if(E=f!=null?f[A]:void 0,u.hasOwnProperty(A)&&S!==E&&(S!=null||E!=null))if(A==="style")if(E){for(y in E)!E.hasOwnProperty(y)||S&&S.hasOwnProperty(y)||(l||(l={}),l[y]="");for(y in S)S.hasOwnProperty(y)&&E[y]!==S[y]&&(l||(l={}),l[y]=S[y])}else l||(m||(m=[]),m.push(A,l)),l=S;else A==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,E=E?E.__html:void 0,S!=null&&E!==S&&(m=m||[]).push(A,S)):A==="children"?typeof S!="string"&&typeof S!="number"||(m=m||[]).push(A,""+S):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&(s.hasOwnProperty(A)?(S!=null&&A==="onScroll"&&Le("scroll",r),m||E===S||(m=[])):(m=m||[]).push(A,S))}l&&(m=m||[]).push("style",l);var A=m;(i.updateQueue=A)&&(i.flags|=4)}},lm=function(r,i,l,u){l!==u&&(i.flags|=4)};function no(r,i){if(!Fe)switch(r.tailMode){case"hidden":i=r.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function ct(r){var i=r.alternate!==null&&r.alternate.child===r.child,l=0,u=0;if(i)for(var f=r.child;f!==null;)l|=f.lanes|f.childLanes,u|=f.subtreeFlags&14680064,u|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)l|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=u,r.childLanes=l,i}function vw(r,i,l){var u=i.pendingProps;switch(wu(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(i),null;case 1:return yt(i.type)&&Ns(),ct(i),null;case 3:return u=i.stateNode,Yr(),be(_t),be(at),Au(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(Os(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Bt!==null&&(uc(Bt),Bt=null))),Ju(r,i),ct(i),null;case 5:Du(i);var f=ar(Xi.current);if(l=i.type,r!==null&&i.stateNode!=null)sm(r,i,l,u,f),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!u){if(i.stateNode===null)throw Error(n(166));return ct(i),null}if(r=ar(nn.current),Os(i)){u=i.stateNode,l=i.type;var m=i.memoizedProps;switch(u[tn]=i,u[qi]=m,r=(i.mode&1)!==0,l){case"dialog":Le("cancel",u),Le("close",u);break;case"iframe":case"object":case"embed":Le("load",u);break;case"video":case"audio":for(f=0;f<Hi.length;f++)Le(Hi[f],u);break;case"source":Le("error",u);break;case"img":case"image":case"link":Le("error",u),Le("load",u);break;case"details":Le("toggle",u);break;case"input":Wd(u,m),Le("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!m.multiple},Le("invalid",u);break;case"textarea":jd(u,m),Le("invalid",u)}Oa(l,m),f=null;for(var y in m)if(m.hasOwnProperty(y)){var E=m[y];y==="children"?typeof E=="string"?u.textContent!==E&&(m.suppressHydrationWarning!==!0&&xs(u.textContent,E,r),f=["children",E]):typeof E=="number"&&u.textContent!==""+E&&(m.suppressHydrationWarning!==!0&&xs(u.textContent,E,r),f=["children",""+E]):s.hasOwnProperty(y)&&E!=null&&y==="onScroll"&&Le("scroll",u)}switch(l){case"input":ts(u),Hd(u,m,!0);break;case"textarea":ts(u),qd(u);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(u.onclick=Ts)}u=f,i.updateQueue=u,u!==null&&(i.flags|=4)}else{y=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Gd(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=y.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof u.is=="string"?r=y.createElement(l,{is:u.is}):(r=y.createElement(l),l==="select"&&(y=r,u.multiple?y.multiple=!0:u.size&&(y.size=u.size))):r=y.createElementNS(r,l),r[tn]=i,r[qi]=u,om(r,i,!1,!1),i.stateNode=r;e:{switch(y=Aa(l,u),l){case"dialog":Le("cancel",r),Le("close",r),f=u;break;case"iframe":case"object":case"embed":Le("load",r),f=u;break;case"video":case"audio":for(f=0;f<Hi.length;f++)Le(Hi[f],r);f=u;break;case"source":Le("error",r),f=u;break;case"img":case"image":case"link":Le("error",r),Le("load",r),f=u;break;case"details":Le("toggle",r),f=u;break;case"input":Wd(r,u),f=Na(r,u),Le("invalid",r);break;case"option":f=u;break;case"select":r._wrapperState={wasMultiple:!!u.multiple},f=H({},u,{value:void 0}),Le("invalid",r);break;case"textarea":jd(r,u),f=Pa(r,u),Le("invalid",r);break;default:f=u}Oa(l,f),E=f;for(m in E)if(E.hasOwnProperty(m)){var S=E[m];m==="style"?Yd(r,S):m==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&Qd(r,S)):m==="children"?typeof S=="string"?(l!=="textarea"||S!=="")&&xi(r,S):typeof S=="number"&&xi(r,""+S):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(s.hasOwnProperty(m)?S!=null&&m==="onScroll"&&Le("scroll",r):S!=null&&M(r,m,S,y))}switch(l){case"input":ts(r),Hd(r,u,!1);break;case"textarea":ts(r),qd(r);break;case"option":u.value!=null&&r.setAttribute("value",""+ge(u.value));break;case"select":r.multiple=!!u.multiple,m=u.value,m!=null?Dr(r,!!u.multiple,m,!1):u.defaultValue!=null&&Dr(r,!!u.multiple,u.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=Ts)}switch(l){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return ct(i),null;case 6:if(r&&i.stateNode!=null)lm(r,i,r.memoizedProps,u);else{if(typeof u!="string"&&i.stateNode===null)throw Error(n(166));if(l=ar(Xi.current),ar(nn.current),Os(i)){if(u=i.stateNode,l=i.memoizedProps,u[tn]=i,(m=u.nodeValue!==l)&&(r=It,r!==null))switch(r.tag){case 3:xs(u.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&xs(u.nodeValue,l,(r.mode&1)!==0)}m&&(i.flags|=4)}else u=(l.nodeType===9?l:l.ownerDocument).createTextNode(u),u[tn]=i,i.stateNode=u}return ct(i),null;case 13:if(be(ze),u=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Fe&&Rt!==null&&i.mode&1&&!(i.flags&128))cp(),qr(),i.flags|=98560,m=!1;else if(m=Os(i),u!==null&&u.dehydrated!==null){if(r===null){if(!m)throw Error(n(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));m[tn]=i}else qr(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;ct(i),m=!1}else Bt!==null&&(uc(Bt),Bt=null),m=!0;if(!m)return i.flags&65536?i:null}return i.flags&128?(i.lanes=l,i):(u=u!==null,u!==(r!==null&&r.memoizedState!==null)&&u&&(i.child.flags|=8192,i.mode&1&&(r===null||ze.current&1?Ke===0&&(Ke=3):dc())),i.updateQueue!==null&&(i.flags|=4),ct(i),null);case 4:return Yr(),Ju(r,i),r===null&&ji(i.stateNode.containerInfo),ct(i),null;case 10:return ku(i.type._context),ct(i),null;case 17:return yt(i.type)&&Ns(),ct(i),null;case 19:if(be(ze),m=i.memoizedState,m===null)return ct(i),null;if(u=(i.flags&128)!==0,y=m.rendering,y===null)if(u)no(m,!1);else{if(Ke!==0||r!==null&&r.flags&128)for(r=i.child;r!==null;){if(y=zs(r),y!==null){for(i.flags|=128,no(m,!1),u=y.updateQueue,u!==null&&(i.updateQueue=u,i.flags|=4),i.subtreeFlags=0,u=l,l=i.child;l!==null;)m=l,r=u,m.flags&=14680066,y=m.alternate,y===null?(m.childLanes=0,m.lanes=r,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=y.childLanes,m.lanes=y.lanes,m.child=y.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=y.memoizedProps,m.memoizedState=y.memoizedState,m.updateQueue=y.updateQueue,m.type=y.type,r=y.dependencies,m.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return De(ze,ze.current&1|2),i.child}r=r.sibling}m.tail!==null&&je()>ei&&(i.flags|=128,u=!0,no(m,!1),i.lanes=4194304)}else{if(!u)if(r=zs(y),r!==null){if(i.flags|=128,u=!0,l=r.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),no(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!Fe)return ct(i),null}else 2*je()-m.renderingStartTime>ei&&l!==1073741824&&(i.flags|=128,u=!0,no(m,!1),i.lanes=4194304);m.isBackwards?(y.sibling=i.child,i.child=y):(l=m.last,l!==null?l.sibling=y:i.child=y,m.last=y)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=je(),i.sibling=null,l=ze.current,De(ze,u?l&1|2:l&1),i):(ct(i),null);case 22:case 23:return fc(),u=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==u&&(i.flags|=8192),u&&i.mode&1?Pt&1073741824&&(ct(i),i.subtreeFlags&6&&(i.flags|=8192)):ct(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function ww(r,i){switch(wu(i),i.tag){case 1:return yt(i.type)&&Ns(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Yr(),be(_t),be(at),Au(),r=i.flags,r&65536&&!(r&128)?(i.flags=r&-65537|128,i):null;case 5:return Du(i),null;case 13:if(be(ze),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(n(340));qr()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return be(ze),null;case 4:return Yr(),null;case 10:return ku(i.type._context),null;case 22:case 23:return fc(),null;case 24:return null;default:return null}}var Gs=!1,ft=!1,Ew=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Jr(r,i){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(u){We(r,i,u)}else l.current=null}function Zu(r,i,l){try{l()}catch(u){We(r,i,u)}}var am=!1;function Cw(r,i){if(fu=hs,r=Uh(),ru(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var y=0,E=-1,S=-1,A=0,q=0,G=r,j=null;t:for(;;){for(var te;G!==l||f!==0&&G.nodeType!==3||(E=y+f),G!==m||u!==0&&G.nodeType!==3||(S=y+u),G.nodeType===3&&(y+=G.nodeValue.length),(te=G.firstChild)!==null;)j=G,G=te;for(;;){if(G===r)break t;if(j===l&&++A===f&&(E=y),j===m&&++q===u&&(S=y),(te=G.nextSibling)!==null)break;G=j,j=G.parentNode}G=te}l=E===-1||S===-1?null:{start:E,end:S}}else l=null}l=l||{start:0,end:0}}else l=null;for(du={focusedElem:r,selectionRange:l},hs=!1,ne=i;ne!==null;)if(i=ne,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,ne=r;else for(;ne!==null;){i=ne;try{var re=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(re!==null){var ie=re.memoizedProps,Ve=re.memoizedState,P=i.stateNode,T=P.getSnapshotBeforeUpdate(i.elementType===i.type?ie:Ht(i.type,ie),Ve);P.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var D=i.stateNode.containerInfo;D.nodeType===1?D.textContent="":D.nodeType===9&&D.documentElement&&D.removeChild(D.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Y){We(i,i.return,Y)}if(r=i.sibling,r!==null){r.return=i.return,ne=r;break}ne=i.return}return re=am,am=!1,re}function ro(r,i,l){var u=i.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var f=u=u.next;do{if((f.tag&r)===r){var m=f.destroy;f.destroy=void 0,m!==void 0&&Zu(i,l,m)}f=f.next}while(f!==u)}}function Qs(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&r)===r){var u=l.create;l.destroy=u()}l=l.next}while(l!==i)}}function ec(r){var i=r.ref;if(i!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof i=="function"?i(r):i.current=r}}function um(r){var i=r.alternate;i!==null&&(r.alternate=null,um(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[tn],delete i[qi],delete i[gu],delete i[iw],delete i[ow])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function cm(r){return r.tag===5||r.tag===3||r.tag===4}function fm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||cm(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function tc(r,i,l){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(r,i):l.insertBefore(r,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(r,l)):(i=l,i.appendChild(r)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Ts));else if(u!==4&&(r=r.child,r!==null))for(tc(r,i,l),r=r.sibling;r!==null;)tc(r,i,l),r=r.sibling}function nc(r,i,l){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?l.insertBefore(r,i):l.appendChild(r);else if(u!==4&&(r=r.child,r!==null))for(nc(r,i,l),r=r.sibling;r!==null;)nc(r,i,l),r=r.sibling}var rt=null,jt=!1;function $n(r,i,l){for(l=l.child;l!==null;)dm(r,i,l),l=l.sibling}function dm(r,i,l){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(ls,l)}catch{}switch(l.tag){case 5:ft||Jr(l,i);case 6:var u=rt,f=jt;rt=null,$n(r,i,l),rt=u,jt=f,rt!==null&&(jt?(r=rt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):rt.removeChild(l.stateNode));break;case 18:rt!==null&&(jt?(r=rt,l=l.stateNode,r.nodeType===8?mu(r.parentNode,l):r.nodeType===1&&mu(r,l),Li(r)):mu(rt,l.stateNode));break;case 4:u=rt,f=jt,rt=l.stateNode.containerInfo,jt=!0,$n(r,i,l),rt=u,jt=f;break;case 0:case 11:case 14:case 15:if(!ft&&(u=l.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){f=u=u.next;do{var m=f,y=m.destroy;m=m.tag,y!==void 0&&(m&2||m&4)&&Zu(l,i,y),f=f.next}while(f!==u)}$n(r,i,l);break;case 1:if(!ft&&(Jr(l,i),u=l.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=l.memoizedProps,u.state=l.memoizedState,u.componentWillUnmount()}catch(E){We(l,i,E)}$n(r,i,l);break;case 21:$n(r,i,l);break;case 22:l.mode&1?(ft=(u=ft)||l.memoizedState!==null,$n(r,i,l),ft=u):$n(r,i,l);break;default:$n(r,i,l)}}function hm(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new Ew),i.forEach(function(u){var f=Dw.bind(null,r,u);l.has(u)||(l.add(u),u.then(f,f))})}}function Vt(r,i){var l=i.deletions;if(l!==null)for(var u=0;u<l.length;u++){var f=l[u];try{var m=r,y=i,E=y;e:for(;E!==null;){switch(E.tag){case 5:rt=E.stateNode,jt=!1;break e;case 3:rt=E.stateNode.containerInfo,jt=!0;break e;case 4:rt=E.stateNode.containerInfo,jt=!0;break e}E=E.return}if(rt===null)throw Error(n(160));dm(m,y,f),rt=null,jt=!1;var S=f.alternate;S!==null&&(S.return=null),f.return=null}catch(A){We(f,i,A)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)pm(i,r),i=i.sibling}function pm(r,i){var l=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Vt(i,r),on(r),u&4){try{ro(3,r,r.return),Qs(3,r)}catch(ie){We(r,r.return,ie)}try{ro(5,r,r.return)}catch(ie){We(r,r.return,ie)}}break;case 1:Vt(i,r),on(r),u&512&&l!==null&&Jr(l,l.return);break;case 5:if(Vt(i,r),on(r),u&512&&l!==null&&Jr(l,l.return),r.flags&32){var f=r.stateNode;try{xi(f,"")}catch(ie){We(r,r.return,ie)}}if(u&4&&(f=r.stateNode,f!=null)){var m=r.memoizedProps,y=l!==null?l.memoizedProps:m,E=r.type,S=r.updateQueue;if(r.updateQueue=null,S!==null)try{E==="input"&&m.type==="radio"&&m.name!=null&&Bd(f,m),Aa(E,y);var A=Aa(E,m);for(y=0;y<S.length;y+=2){var q=S[y],G=S[y+1];q==="style"?Yd(f,G):q==="dangerouslySetInnerHTML"?Qd(f,G):q==="children"?xi(f,G):M(f,q,G,A)}switch(E){case"input":Ia(f,m);break;case"textarea":Vd(f,m);break;case"select":var j=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!m.multiple;var te=m.value;te!=null?Dr(f,!!m.multiple,te,!1):j!==!!m.multiple&&(m.defaultValue!=null?Dr(f,!!m.multiple,m.defaultValue,!0):Dr(f,!!m.multiple,m.multiple?[]:"",!1))}f[qi]=m}catch(ie){We(r,r.return,ie)}}break;case 6:if(Vt(i,r),on(r),u&4){if(r.stateNode===null)throw Error(n(162));f=r.stateNode,m=r.memoizedProps;try{f.nodeValue=m}catch(ie){We(r,r.return,ie)}}break;case 3:if(Vt(i,r),on(r),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Li(i.containerInfo)}catch(ie){We(r,r.return,ie)}break;case 4:Vt(i,r),on(r);break;case 13:Vt(i,r),on(r),f=r.child,f.flags&8192&&(m=f.memoizedState!==null,f.stateNode.isHidden=m,!m||f.alternate!==null&&f.alternate.memoizedState!==null||(oc=je())),u&4&&hm(r);break;case 22:if(q=l!==null&&l.memoizedState!==null,r.mode&1?(ft=(A=ft)||q,Vt(i,r),ft=A):Vt(i,r),on(r),u&8192){if(A=r.memoizedState!==null,(r.stateNode.isHidden=A)&&!q&&r.mode&1)for(ne=r,q=r.child;q!==null;){for(G=ne=q;ne!==null;){switch(j=ne,te=j.child,j.tag){case 0:case 11:case 14:case 15:ro(4,j,j.return);break;case 1:Jr(j,j.return);var re=j.stateNode;if(typeof re.componentWillUnmount=="function"){u=j,l=j.return;try{i=u,re.props=i.memoizedProps,re.state=i.memoizedState,re.componentWillUnmount()}catch(ie){We(u,l,ie)}}break;case 5:Jr(j,j.return);break;case 22:if(j.memoizedState!==null){_m(G);continue}}te!==null?(te.return=j,ne=te):_m(G)}q=q.sibling}e:for(q=null,G=r;;){if(G.tag===5){if(q===null){q=G;try{f=G.stateNode,A?(m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(E=G.stateNode,S=G.memoizedProps.style,y=S!=null&&S.hasOwnProperty("display")?S.display:null,E.style.display=Kd("display",y))}catch(ie){We(r,r.return,ie)}}}else if(G.tag===6){if(q===null)try{G.stateNode.nodeValue=A?"":G.memoizedProps}catch(ie){We(r,r.return,ie)}}else if((G.tag!==22&&G.tag!==23||G.memoizedState===null||G===r)&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===r)break e;for(;G.sibling===null;){if(G.return===null||G.return===r)break e;q===G&&(q=null),G=G.return}q===G&&(q=null),G.sibling.return=G.return,G=G.sibling}}break;case 19:Vt(i,r),on(r),u&4&&hm(r);break;case 21:break;default:Vt(i,r),on(r)}}function on(r){var i=r.flags;if(i&2){try{e:{for(var l=r.return;l!==null;){if(cm(l)){var u=l;break e}l=l.return}throw Error(n(160))}switch(u.tag){case 5:var f=u.stateNode;u.flags&32&&(xi(f,""),u.flags&=-33);var m=fm(r);nc(r,m,f);break;case 3:case 4:var y=u.stateNode.containerInfo,E=fm(r);tc(r,E,y);break;default:throw Error(n(161))}}catch(S){We(r,r.return,S)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Sw(r,i,l){ne=r,mm(r)}function mm(r,i,l){for(var u=(r.mode&1)!==0;ne!==null;){var f=ne,m=f.child;if(f.tag===22&&u){var y=f.memoizedState!==null||Gs;if(!y){var E=f.alternate,S=E!==null&&E.memoizedState!==null||ft;E=Gs;var A=ft;if(Gs=y,(ft=S)&&!A)for(ne=f;ne!==null;)y=ne,S=y.child,y.tag===22&&y.memoizedState!==null?ym(f):S!==null?(S.return=y,ne=S):ym(f);for(;m!==null;)ne=m,mm(m),m=m.sibling;ne=f,Gs=E,ft=A}gm(r)}else f.subtreeFlags&8772&&m!==null?(m.return=f,ne=m):gm(r)}}function gm(r){for(;ne!==null;){var i=ne;if(i.flags&8772){var l=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:ft||Qs(5,i);break;case 1:var u=i.stateNode;if(i.flags&4&&!ft)if(l===null)u.componentDidMount();else{var f=i.elementType===i.type?l.memoizedProps:Ht(i.type,l.memoizedProps);u.componentDidUpdate(f,l.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var m=i.updateQueue;m!==null&&_p(i,m,u);break;case 3:var y=i.updateQueue;if(y!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}_p(i,y,l)}break;case 5:var E=i.stateNode;if(l===null&&i.flags&4){l=E;var S=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&l.focus();break;case"img":S.src&&(l.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var A=i.alternate;if(A!==null){var q=A.memoizedState;if(q!==null){var G=q.dehydrated;G!==null&&Li(G)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ft||i.flags&512&&ec(i)}catch(j){We(i,i.return,j)}}if(i===r){ne=null;break}if(l=i.sibling,l!==null){l.return=i.return,ne=l;break}ne=i.return}}function _m(r){for(;ne!==null;){var i=ne;if(i===r){ne=null;break}var l=i.sibling;if(l!==null){l.return=i.return,ne=l;break}ne=i.return}}function ym(r){for(;ne!==null;){var i=ne;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{Qs(4,i)}catch(S){We(i,l,S)}break;case 1:var u=i.stateNode;if(typeof u.componentDidMount=="function"){var f=i.return;try{u.componentDidMount()}catch(S){We(i,f,S)}}var m=i.return;try{ec(i)}catch(S){We(i,m,S)}break;case 5:var y=i.return;try{ec(i)}catch(S){We(i,y,S)}}}catch(S){We(i,i.return,S)}if(i===r){ne=null;break}var E=i.sibling;if(E!==null){E.return=i.return,ne=E;break}ne=i.return}}var xw=Math.ceil,Ks=V.ReactCurrentDispatcher,rc=V.ReactCurrentOwner,Ft=V.ReactCurrentBatchConfig,xe=0,Xe=null,Ge=null,it=0,Pt=0,Zr=Mn(0),Ke=0,io=null,cr=0,Ys=0,ic=0,oo=null,wt=null,oc=0,ei=1/0,_n=null,Xs=!1,sc=null,Un=null,Js=!1,Wn=null,Zs=0,so=0,lc=null,el=-1,tl=0;function ht(){return xe&6?je():el!==-1?el:el=je()}function Bn(r){return r.mode&1?xe&2&&it!==0?it&-it:lw.transition!==null?(tl===0&&(tl=fh()),tl):(r=Ie,r!==0||(r=window.event,r=r===void 0?16:wh(r.type)),r):1}function qt(r,i,l,u){if(50<so)throw so=0,lc=null,Error(n(185));Pi(r,l,u),(!(xe&2)||r!==Xe)&&(r===Xe&&(!(xe&2)&&(Ys|=l),Ke===4&&Hn(r,it)),Et(r,u),l===1&&xe===0&&!(i.mode&1)&&(ei=je()+500,Rs&&bn()))}function Et(r,i){var l=r.callbackNode;l0(r,i);var u=cs(r,r===Xe?it:0);if(u===0)l!==null&&ah(l),r.callbackNode=null,r.callbackPriority=0;else if(i=u&-u,r.callbackPriority!==i){if(l!=null&&ah(l),i===1)r.tag===0?sw(wm.bind(null,r)):op(wm.bind(null,r)),nw(function(){!(xe&6)&&bn()}),l=null;else{switch(dh(u)){case 1:l=Ua;break;case 4:l=uh;break;case 16:l=ss;break;case 536870912:l=ch;break;default:l=ss}l=Im(l,vm.bind(null,r))}r.callbackPriority=i,r.callbackNode=l}}function vm(r,i){if(el=-1,tl=0,xe&6)throw Error(n(327));var l=r.callbackNode;if(ti()&&r.callbackNode!==l)return null;var u=cs(r,r===Xe?it:0);if(u===0)return null;if(u&30||u&r.expiredLanes||i)i=nl(r,u);else{i=u;var f=xe;xe|=2;var m=Cm();(Xe!==r||it!==i)&&(_n=null,ei=je()+500,dr(r,i));do try{Nw();break}catch(E){Em(r,E)}while(!0);Tu(),Ks.current=m,xe=f,Ge!==null?i=0:(Xe=null,it=0,i=Ke)}if(i!==0){if(i===2&&(f=Wa(r),f!==0&&(u=f,i=ac(r,f))),i===1)throw l=io,dr(r,0),Hn(r,u),Et(r,je()),l;if(i===6)Hn(r,u);else{if(f=r.current.alternate,!(u&30)&&!Tw(f)&&(i=nl(r,u),i===2&&(m=Wa(r),m!==0&&(u=m,i=ac(r,m))),i===1))throw l=io,dr(r,0),Hn(r,u),Et(r,je()),l;switch(r.finishedWork=f,r.finishedLanes=u,i){case 0:case 1:throw Error(n(345));case 2:hr(r,wt,_n);break;case 3:if(Hn(r,u),(u&130023424)===u&&(i=oc+500-je(),10<i)){if(cs(r,0)!==0)break;if(f=r.suspendedLanes,(f&u)!==u){ht(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=pu(hr.bind(null,r,wt,_n),i);break}hr(r,wt,_n);break;case 4:if(Hn(r,u),(u&4194240)===u)break;for(i=r.eventTimes,f=-1;0<u;){var y=31-Ut(u);m=1<<y,y=i[y],y>f&&(f=y),u&=~m}if(u=f,u=je()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*xw(u/1960))-u,10<u){r.timeoutHandle=pu(hr.bind(null,r,wt,_n),u);break}hr(r,wt,_n);break;case 5:hr(r,wt,_n);break;default:throw Error(n(329))}}}return Et(r,je()),r.callbackNode===l?vm.bind(null,r):null}function ac(r,i){var l=oo;return r.current.memoizedState.isDehydrated&&(dr(r,i).flags|=256),r=nl(r,i),r!==2&&(i=wt,wt=l,i!==null&&uc(i)),r}function uc(r){wt===null?wt=r:wt.push.apply(wt,r)}function Tw(r){for(var i=r;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var u=0;u<l.length;u++){var f=l[u],m=f.getSnapshot;f=f.value;try{if(!Wt(m(),f))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Hn(r,i){for(i&=~ic,i&=~Ys,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var l=31-Ut(i),u=1<<l;r[l]=-1,i&=~u}}function wm(r){if(xe&6)throw Error(n(327));ti();var i=cs(r,0);if(!(i&1))return Et(r,je()),null;var l=nl(r,i);if(r.tag!==0&&l===2){var u=Wa(r);u!==0&&(i=u,l=ac(r,u))}if(l===1)throw l=io,dr(r,0),Hn(r,i),Et(r,je()),l;if(l===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,hr(r,wt,_n),Et(r,je()),null}function cc(r,i){var l=xe;xe|=1;try{return r(i)}finally{xe=l,xe===0&&(ei=je()+500,Rs&&bn())}}function fr(r){Wn!==null&&Wn.tag===0&&!(xe&6)&&ti();var i=xe;xe|=1;var l=Ft.transition,u=Ie;try{if(Ft.transition=null,Ie=1,r)return r()}finally{Ie=u,Ft.transition=l,xe=i,!(xe&6)&&bn()}}function fc(){Pt=Zr.current,be(Zr)}function dr(r,i){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,tw(l)),Ge!==null)for(l=Ge.return;l!==null;){var u=l;switch(wu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Ns();break;case 3:Yr(),be(_t),be(at),Au();break;case 5:Du(u);break;case 4:Yr();break;case 13:be(ze);break;case 19:be(ze);break;case 10:ku(u.type._context);break;case 22:case 23:fc()}l=l.return}if(Xe=r,Ge=r=jn(r.current,null),it=Pt=i,Ke=0,io=null,ic=Ys=cr=0,wt=oo=null,lr!==null){for(i=0;i<lr.length;i++)if(l=lr[i],u=l.interleaved,u!==null){l.interleaved=null;var f=u.next,m=l.pending;if(m!==null){var y=m.next;m.next=f,u.next=y}l.pending=u}lr=null}return r}function Em(r,i){do{var l=Ge;try{if(Tu(),$s.current=Hs,Us){for(var u=$e.memoizedState;u!==null;){var f=u.queue;f!==null&&(f.pending=null),u=u.next}Us=!1}if(ur=0,Ye=Qe=$e=null,Ji=!1,Zi=0,rc.current=null,l===null||l.return===null){Ke=1,io=i,Ge=null;break}e:{var m=r,y=l.return,E=l,S=i;if(i=it,E.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var A=S,q=E,G=q.tag;if(!(q.mode&1)&&(G===0||G===11||G===15)){var j=q.alternate;j?(q.updateQueue=j.updateQueue,q.memoizedState=j.memoizedState,q.lanes=j.lanes):(q.updateQueue=null,q.memoizedState=null)}var te=qp(y);if(te!==null){te.flags&=-257,Gp(te,y,E,m,i),te.mode&1&&Vp(m,A,i),i=te,S=A;var re=i.updateQueue;if(re===null){var ie=new Set;ie.add(S),i.updateQueue=ie}else re.add(S);break e}else{if(!(i&1)){Vp(m,A,i),dc();break e}S=Error(n(426))}}else if(Fe&&E.mode&1){var Ve=qp(y);if(Ve!==null){!(Ve.flags&65536)&&(Ve.flags|=256),Gp(Ve,y,E,m,i),Su(Xr(S,E));break e}}m=S=Xr(S,E),Ke!==4&&(Ke=2),oo===null?oo=[m]:oo.push(m),m=y;do{switch(m.tag){case 3:m.flags|=65536,i&=-i,m.lanes|=i;var P=Hp(m,S,i);gp(m,P);break e;case 1:E=S;var T=m.type,D=m.stateNode;if(!(m.flags&128)&&(typeof T.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(Un===null||!Un.has(D)))){m.flags|=65536,i&=-i,m.lanes|=i;var Y=jp(m,E,i);gp(m,Y);break e}}m=m.return}while(m!==null)}xm(l)}catch(oe){i=oe,Ge===l&&l!==null&&(Ge=l=l.return);continue}break}while(!0)}function Cm(){var r=Ks.current;return Ks.current=Hs,r===null?Hs:r}function dc(){(Ke===0||Ke===3||Ke===2)&&(Ke=4),Xe===null||!(cr&268435455)&&!(Ys&268435455)||Hn(Xe,it)}function nl(r,i){var l=xe;xe|=2;var u=Cm();(Xe!==r||it!==i)&&(_n=null,dr(r,i));do try{kw();break}catch(f){Em(r,f)}while(!0);if(Tu(),xe=l,Ks.current=u,Ge!==null)throw Error(n(261));return Xe=null,it=0,Ke}function kw(){for(;Ge!==null;)Sm(Ge)}function Nw(){for(;Ge!==null&&!Jv();)Sm(Ge)}function Sm(r){var i=Nm(r.alternate,r,Pt);r.memoizedProps=r.pendingProps,i===null?xm(r):Ge=i,rc.current=null}function xm(r){var i=r;do{var l=i.alternate;if(r=i.return,i.flags&32768){if(l=ww(l,i),l!==null){l.flags&=32767,Ge=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Ke=6,Ge=null;return}}else if(l=vw(l,i,Pt),l!==null){Ge=l;return}if(i=i.sibling,i!==null){Ge=i;return}Ge=i=r}while(i!==null);Ke===0&&(Ke=5)}function hr(r,i,l){var u=Ie,f=Ft.transition;try{Ft.transition=null,Ie=1,Iw(r,i,l,u)}finally{Ft.transition=f,Ie=u}return null}function Iw(r,i,l,u){do ti();while(Wn!==null);if(xe&6)throw Error(n(327));l=r.finishedWork;var f=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var m=l.lanes|l.childLanes;if(a0(r,m),r===Xe&&(Ge=Xe=null,it=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||Js||(Js=!0,Im(ss,function(){return ti(),null})),m=(l.flags&15990)!==0,l.subtreeFlags&15990||m){m=Ft.transition,Ft.transition=null;var y=Ie;Ie=1;var E=xe;xe|=4,rc.current=null,Cw(r,l),pm(l,r),Q0(du),hs=!!fu,du=fu=null,r.current=l,Sw(l),Zv(),xe=E,Ie=y,Ft.transition=m}else r.current=l;if(Js&&(Js=!1,Wn=r,Zs=f),m=r.pendingLanes,m===0&&(Un=null),n0(l.stateNode),Et(r,je()),i!==null)for(u=r.onRecoverableError,l=0;l<i.length;l++)f=i[l],u(f.value,{componentStack:f.stack,digest:f.digest});if(Xs)throw Xs=!1,r=sc,sc=null,r;return Zs&1&&r.tag!==0&&ti(),m=r.pendingLanes,m&1?r===lc?so++:(so=0,lc=r):so=0,bn(),null}function ti(){if(Wn!==null){var r=dh(Zs),i=Ft.transition,l=Ie;try{if(Ft.transition=null,Ie=16>r?16:r,Wn===null)var u=!1;else{if(r=Wn,Wn=null,Zs=0,xe&6)throw Error(n(331));var f=xe;for(xe|=4,ne=r.current;ne!==null;){var m=ne,y=m.child;if(ne.flags&16){var E=m.deletions;if(E!==null){for(var S=0;S<E.length;S++){var A=E[S];for(ne=A;ne!==null;){var q=ne;switch(q.tag){case 0:case 11:case 15:ro(8,q,m)}var G=q.child;if(G!==null)G.return=q,ne=G;else for(;ne!==null;){q=ne;var j=q.sibling,te=q.return;if(um(q),q===A){ne=null;break}if(j!==null){j.return=te,ne=j;break}ne=te}}}var re=m.alternate;if(re!==null){var ie=re.child;if(ie!==null){re.child=null;do{var Ve=ie.sibling;ie.sibling=null,ie=Ve}while(ie!==null)}}ne=m}}if(m.subtreeFlags&2064&&y!==null)y.return=m,ne=y;else e:for(;ne!==null;){if(m=ne,m.flags&2048)switch(m.tag){case 0:case 11:case 15:ro(9,m,m.return)}var P=m.sibling;if(P!==null){P.return=m.return,ne=P;break e}ne=m.return}}var T=r.current;for(ne=T;ne!==null;){y=ne;var D=y.child;if(y.subtreeFlags&2064&&D!==null)D.return=y,ne=D;else e:for(y=T;ne!==null;){if(E=ne,E.flags&2048)try{switch(E.tag){case 0:case 11:case 15:Qs(9,E)}}catch(oe){We(E,E.return,oe)}if(E===y){ne=null;break e}var Y=E.sibling;if(Y!==null){Y.return=E.return,ne=Y;break e}ne=E.return}}if(xe=f,bn(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(ls,r)}catch{}u=!0}return u}finally{Ie=l,Ft.transition=i}}return!1}function Tm(r,i,l){i=Xr(l,i),i=Hp(r,i,1),r=zn(r,i,1),i=ht(),r!==null&&(Pi(r,1,i),Et(r,i))}function We(r,i,l){if(r.tag===3)Tm(r,r,l);else for(;i!==null;){if(i.tag===3){Tm(i,r,l);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Un===null||!Un.has(u))){r=Xr(l,r),r=jp(i,r,1),i=zn(i,r,1),r=ht(),i!==null&&(Pi(i,1,r),Et(i,r));break}}i=i.return}}function Rw(r,i,l){var u=r.pingCache;u!==null&&u.delete(i),i=ht(),r.pingedLanes|=r.suspendedLanes&l,Xe===r&&(it&l)===l&&(Ke===4||Ke===3&&(it&130023424)===it&&500>je()-oc?dr(r,0):ic|=l),Et(r,i)}function km(r,i){i===0&&(r.mode&1?(i=us,us<<=1,!(us&130023424)&&(us=4194304)):i=1);var l=ht();r=pn(r,i),r!==null&&(Pi(r,i,l),Et(r,l))}function Pw(r){var i=r.memoizedState,l=0;i!==null&&(l=i.retryLane),km(r,l)}function Dw(r,i){var l=0;switch(r.tag){case 13:var u=r.stateNode,f=r.memoizedState;f!==null&&(l=f.retryLane);break;case 19:u=r.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(i),km(r,l)}var Nm;Nm=function(r,i,l){if(r!==null)if(r.memoizedProps!==i.pendingProps||_t.current)vt=!0;else{if(!(r.lanes&l)&&!(i.flags&128))return vt=!1,yw(r,i,l);vt=!!(r.flags&131072)}else vt=!1,Fe&&i.flags&1048576&&sp(i,Ds,i.index);switch(i.lanes=0,i.tag){case 2:var u=i.type;qs(r,i),r=i.pendingProps;var f=Hr(i,at.current);Kr(i,l),f=bu(null,i,u,r,f,l);var m=Fu();return i.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,yt(u)?(m=!0,Is(i)):m=!1,i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Ru(i),f.updater=js,i.stateNode=f,f._reactInternals=i,Hu(i,u,r,l),i=Gu(null,i,u,!0,m,l)):(i.tag=0,Fe&&m&&vu(i),dt(null,i,f,l),i=i.child),i;case 16:u=i.elementType;e:{switch(qs(r,i),r=i.pendingProps,f=u._init,u=f(u._payload),i.type=u,f=i.tag=Aw(u),r=Ht(u,r),f){case 0:i=qu(null,i,u,r,l);break e;case 1:i=Zp(null,i,u,r,l);break e;case 11:i=Qp(null,i,u,r,l);break e;case 14:i=Kp(null,i,u,Ht(u.type,r),l);break e}throw Error(n(306,u,""))}return i;case 0:return u=i.type,f=i.pendingProps,f=i.elementType===u?f:Ht(u,f),qu(r,i,u,f,l);case 1:return u=i.type,f=i.pendingProps,f=i.elementType===u?f:Ht(u,f),Zp(r,i,u,f,l);case 3:e:{if(em(i),r===null)throw Error(n(387));u=i.pendingProps,m=i.memoizedState,f=m.element,mp(r,i),Fs(i,u,null,l);var y=i.memoizedState;if(u=y.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){f=Xr(Error(n(423)),i),i=tm(r,i,u,l,f);break e}else if(u!==f){f=Xr(Error(n(424)),i),i=tm(r,i,u,l,f);break e}else for(Rt=An(i.stateNode.containerInfo.firstChild),It=i,Fe=!0,Bt=null,l=hp(i,null,u,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(qr(),u===f){i=gn(r,i,l);break e}dt(r,i,u,l)}i=i.child}return i;case 5:return yp(i),r===null&&Cu(i),u=i.type,f=i.pendingProps,m=r!==null?r.memoizedProps:null,y=f.children,hu(u,f)?y=null:m!==null&&hu(u,m)&&(i.flags|=32),Jp(r,i),dt(r,i,y,l),i.child;case 6:return r===null&&Cu(i),null;case 13:return nm(r,i,l);case 4:return Pu(i,i.stateNode.containerInfo),u=i.pendingProps,r===null?i.child=Gr(i,null,u,l):dt(r,i,u,l),i.child;case 11:return u=i.type,f=i.pendingProps,f=i.elementType===u?f:Ht(u,f),Qp(r,i,u,f,l);case 7:return dt(r,i,i.pendingProps,l),i.child;case 8:return dt(r,i,i.pendingProps.children,l),i.child;case 12:return dt(r,i,i.pendingProps.children,l),i.child;case 10:e:{if(u=i.type._context,f=i.pendingProps,m=i.memoizedProps,y=f.value,De(Ms,u._currentValue),u._currentValue=y,m!==null)if(Wt(m.value,y)){if(m.children===f.children&&!_t.current){i=gn(r,i,l);break e}}else for(m=i.child,m!==null&&(m.return=i);m!==null;){var E=m.dependencies;if(E!==null){y=m.child;for(var S=E.firstContext;S!==null;){if(S.context===u){if(m.tag===1){S=mn(-1,l&-l),S.tag=2;var A=m.updateQueue;if(A!==null){A=A.shared;var q=A.pending;q===null?S.next=S:(S.next=q.next,q.next=S),A.pending=S}}m.lanes|=l,S=m.alternate,S!==null&&(S.lanes|=l),Nu(m.return,l,i),E.lanes|=l;break}S=S.next}}else if(m.tag===10)y=m.type===i.type?null:m.child;else if(m.tag===18){if(y=m.return,y===null)throw Error(n(341));y.lanes|=l,E=y.alternate,E!==null&&(E.lanes|=l),Nu(y,l,i),y=m.sibling}else y=m.child;if(y!==null)y.return=m;else for(y=m;y!==null;){if(y===i){y=null;break}if(m=y.sibling,m!==null){m.return=y.return,y=m;break}y=y.return}m=y}dt(r,i,f.children,l),i=i.child}return i;case 9:return f=i.type,u=i.pendingProps.children,Kr(i,l),f=Lt(f),u=u(f),i.flags|=1,dt(r,i,u,l),i.child;case 14:return u=i.type,f=Ht(u,i.pendingProps),f=Ht(u.type,f),Kp(r,i,u,f,l);case 15:return Yp(r,i,i.type,i.pendingProps,l);case 17:return u=i.type,f=i.pendingProps,f=i.elementType===u?f:Ht(u,f),qs(r,i),i.tag=1,yt(u)?(r=!0,Is(i)):r=!1,Kr(i,l),Wp(i,u,f),Hu(i,u,f,l),Gu(null,i,u,!0,r,l);case 19:return im(r,i,l);case 22:return Xp(r,i,l)}throw Error(n(156,i.tag))};function Im(r,i){return lh(r,i)}function Ow(r,i,l,u){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(r,i,l,u){return new Ow(r,i,l,u)}function hc(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Aw(r){if(typeof r=="function")return hc(r)?1:0;if(r!=null){if(r=r.$$typeof,r===me)return 11;if(r===ee)return 14}return 2}function jn(r,i){var l=r.alternate;return l===null?(l=zt(r.tag,i,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=i,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,i=r.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function rl(r,i,l,u,f,m){var y=2;if(u=r,typeof r=="function")hc(r)&&(y=1);else if(typeof r=="string")y=5;else e:switch(r){case L:return pr(l.children,f,m,i);case U:y=8,f|=8;break;case Z:return r=zt(12,l,i,f|2),r.elementType=Z,r.lanes=m,r;case Te:return r=zt(13,l,i,f),r.elementType=Te,r.lanes=m,r;case O:return r=zt(19,l,i,f),r.elementType=O,r.lanes=m,r;case K:return il(l,f,m,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case J:y=10;break e;case ce:y=9;break e;case me:y=11;break e;case ee:y=14;break e;case W:y=16,u=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return i=zt(y,l,i,f),i.elementType=r,i.type=u,i.lanes=m,i}function pr(r,i,l,u){return r=zt(7,r,u,i),r.lanes=l,r}function il(r,i,l,u){return r=zt(22,r,u,i),r.elementType=K,r.lanes=l,r.stateNode={isHidden:!1},r}function pc(r,i,l){return r=zt(6,r,null,i),r.lanes=l,r}function mc(r,i,l){return i=zt(4,r.children!==null?r.children:[],r.key,i),i.lanes=l,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function Mw(r,i,l,u,f){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ba(0),this.expirationTimes=Ba(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ba(0),this.identifierPrefix=u,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function gc(r,i,l,u,f,m,y,E,S){return r=new Mw(r,i,l,E,S),i===1?(i=1,m===!0&&(i|=8)):i=0,m=zt(3,null,null,i),r.current=m,m.stateNode=r,m.memoizedState={element:u,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ru(m),r}function Lw(r,i,l){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:b,key:u==null?null:""+u,children:r,containerInfo:i,implementation:l}}function Rm(r){if(!r)return Ln;r=r._reactInternals;e:{if(nr(r)!==r||r.tag!==1)throw Error(n(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(yt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(r.tag===1){var l=r.type;if(yt(l))return rp(r,l,i)}return i}function Pm(r,i,l,u,f,m,y,E,S){return r=gc(l,u,!0,r,f,m,y,E,S),r.context=Rm(null),l=r.current,u=ht(),f=Bn(l),m=mn(u,f),m.callback=i??null,zn(l,m,f),r.current.lanes=f,Pi(r,f,u),Et(r,u),r}function ol(r,i,l,u){var f=i.current,m=ht(),y=Bn(f);return l=Rm(l),i.context===null?i.context=l:i.pendingContext=l,i=mn(m,y),i.payload={element:r},u=u===void 0?null:u,u!==null&&(i.callback=u),r=zn(f,i,y),r!==null&&(qt(r,f,y,m),bs(r,f,y)),y}function sl(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Dm(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<i?l:i}}function _c(r,i){Dm(r,i),(r=r.alternate)&&Dm(r,i)}function bw(){return null}var Om=typeof reportError=="function"?reportError:function(r){console.error(r)};function yc(r){this._internalRoot=r}ll.prototype.render=yc.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(n(409));ol(r,i,null,null)},ll.prototype.unmount=yc.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;fr(function(){ol(null,r,null,null)}),i[cn]=null}};function ll(r){this._internalRoot=r}ll.prototype.unstable_scheduleHydration=function(r){if(r){var i=mh();r={blockedOn:null,target:r,priority:i};for(var l=0;l<Pn.length&&i!==0&&i<Pn[l].priority;l++);Pn.splice(l,0,r),l===0&&yh(r)}};function vc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function al(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Am(){}function Fw(r,i,l,u,f){if(f){if(typeof u=="function"){var m=u;u=function(){var A=sl(y);m.call(A)}}var y=Pm(i,u,r,0,null,!1,!1,"",Am);return r._reactRootContainer=y,r[cn]=y.current,ji(r.nodeType===8?r.parentNode:r),fr(),y}for(;f=r.lastChild;)r.removeChild(f);if(typeof u=="function"){var E=u;u=function(){var A=sl(S);E.call(A)}}var S=gc(r,0,!1,null,null,!1,!1,"",Am);return r._reactRootContainer=S,r[cn]=S.current,ji(r.nodeType===8?r.parentNode:r),fr(function(){ol(i,S,l,u)}),S}function ul(r,i,l,u,f){var m=l._reactRootContainer;if(m){var y=m;if(typeof f=="function"){var E=f;f=function(){var S=sl(y);E.call(S)}}ol(i,y,r,f)}else y=Fw(l,i,r,f,u);return sl(y)}hh=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var l=Ri(i.pendingLanes);l!==0&&(Ha(i,l|1),Et(i,je()),!(xe&6)&&(ei=je()+500,bn()))}break;case 13:fr(function(){var u=pn(r,1);if(u!==null){var f=ht();qt(u,r,1,f)}}),_c(r,1)}},ja=function(r){if(r.tag===13){var i=pn(r,134217728);if(i!==null){var l=ht();qt(i,r,134217728,l)}_c(r,134217728)}},ph=function(r){if(r.tag===13){var i=Bn(r),l=pn(r,i);if(l!==null){var u=ht();qt(l,r,i,u)}_c(r,i)}},mh=function(){return Ie},gh=function(r,i){var l=Ie;try{return Ie=r,i()}finally{Ie=l}},ba=function(r,i,l){switch(i){case"input":if(Ia(r,l),i=l.name,l.type==="radio"&&i!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var u=l[i];if(u!==r&&u.form===r.form){var f=ks(u);if(!f)throw Error(n(90));Ud(u),Ia(u,f)}}}break;case"textarea":Vd(r,l);break;case"select":i=l.value,i!=null&&Dr(r,!!l.multiple,i,!1)}},eh=cc,th=fr;var zw={usingClientEntryPoint:!1,Events:[Gi,Wr,ks,Jd,Zd,cc]},lo={findFiberByHostInstance:rr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$w={bundleType:lo.bundleType,version:lo.version,rendererPackageName:lo.rendererPackageName,rendererConfig:lo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:V.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=oh(r),r===null?null:r.stateNode},findFiberByHostInstance:lo.findFiberByHostInstance||bw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cl.isDisabled&&cl.supportsFiber)try{ls=cl.inject($w),en=cl}catch{}}return Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zw,Ct.createPortal=function(r,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vc(i))throw Error(n(200));return Lw(r,i,null,l)},Ct.createRoot=function(r,i){if(!vc(r))throw Error(n(299));var l=!1,u="",f=Om;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onRecoverableError!==void 0&&(f=i.onRecoverableError)),i=gc(r,1,!1,null,null,l,!1,u,f),r[cn]=i.current,ji(r.nodeType===8?r.parentNode:r),new yc(i)},Ct.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=oh(i),r=r===null?null:r.stateNode,r},Ct.flushSync=function(r){return fr(r)},Ct.hydrate=function(r,i,l){if(!al(i))throw Error(n(200));return ul(null,r,i,!0,l)},Ct.hydrateRoot=function(r,i,l){if(!vc(r))throw Error(n(405));var u=l!=null&&l.hydratedSources||null,f=!1,m="",y=Om;if(l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onRecoverableError!==void 0&&(y=l.onRecoverableError)),i=Pm(i,null,r,1,l??null,f,!1,m,y),r[cn]=i.current,ji(r),u)for(r=0;r<u.length;r++)l=u[r],f=l._getVersion,f=f(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,f]:i.mutableSourceEagerHydrationData.push(l,f);return new ll(i)},Ct.render=function(r,i,l){if(!al(i))throw Error(n(200));return ul(null,r,i,!1,l)},Ct.unmountComponentAtNode=function(r){if(!al(r))throw Error(n(40));return r._reactRootContainer?(fr(function(){ul(null,null,r,!1,function(){r._reactRootContainer=null,r[cn]=null})}),!0):!1},Ct.unstable_batchedUpdates=cc,Ct.unstable_renderSubtreeIntoContainer=function(r,i,l,u){if(!al(l))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return ul(r,i,l,!1,u)},Ct.version="18.3.1-next-f1338f8080-20240426",Ct}var Wm;function N_(){if(Wm)return Cc.exports;Wm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Cc.exports=Kw(),Cc.exports}var Bm;function Yw(){if(Bm)return dl;Bm=1;var t=N_();return dl.createRoot=t.createRoot,dl.hydrateRoot=t.hydrateRoot,dl}var Xw=Yw();const Jw=$f(Xw);var uo={},Hm;function Zw(){if(Hm)return uo;Hm=1,Object.defineProperty(uo,"__esModule",{value:!0}),uo.parse=c,uo.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function c(_,w){const C=new a,N=_.length;if(N<2)return C;const I=(w==null?void 0:w.decode)||g;let k=0;do{const R=_.indexOf("=",k);if(R===-1)break;const M=_.indexOf(";",k),V=M===-1?N:M;if(R>V){k=_.lastIndexOf(";",R-1)+1;continue}const $=d(_,k,R),b=h(_,R,$),L=_.slice($,b);if(C[L]===void 0){let U=d(_,R+1,V),Z=h(_,V,U);const J=I(_.slice(U,Z));C[L]=J}k=V+1}while(k<N);return C}function d(_,w,C){do{const N=_.charCodeAt(w);if(N!==32&&N!==9)return w}while(++w<C);return C}function h(_,w,C){for(;w>C;){const N=_.charCodeAt(--w);if(N!==32&&N!==9)return w+1}return C}function p(_,w,C){const N=(C==null?void 0:C.encode)||encodeURIComponent;if(!t.test(_))throw new TypeError(`argument name is invalid: ${_}`);const I=N(w);if(!e.test(I))throw new TypeError(`argument val is invalid: ${w}`);let k=_+"="+I;if(!C)return k;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);k+="; Max-Age="+C.maxAge}if(C.domain){if(!n.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);k+="; Domain="+C.domain}if(C.path){if(!o.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);k+="; Path="+C.path}if(C.expires){if(!v(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);k+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(k+="; HttpOnly"),C.secure&&(k+="; Secure"),C.partitioned&&(k+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return k}function g(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function v(_){return s.call(_)==="[object Date]"}return uo}Zw();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var jm="popstate";function e1(t={}){function e(s,a){let{pathname:c="/",search:d="",hash:h=""}=Nr(s.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),tf("",{pathname:c,search:d,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){let c=s.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let h=s.location.href,p=h.indexOf("#");d=p===-1?h:h.slice(0,p)}return d+"#"+(typeof a=="string"?a:Io(a))}function o(s,a){Xt(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return n1(e,n,o,t)}function Ue(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Xt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function t1(){return Math.random().toString(36).substring(2,10)}function Vm(t,e){return{usr:t.state,key:t.key,idx:e}}function tf(t,e,n=null,o){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Nr(e):e,state:n,key:e&&e.key||o||t1()}}function Io({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Nr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let o=t.indexOf("?");o>=0&&(e.search=t.substring(o),t=t.substring(0,o)),t&&(e.pathname=t)}return e}function n1(t,e,n,o={}){let{window:s=document.defaultView,v5Compat:a=!1}=o,c=s.history,d="POP",h=null,p=g();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function g(){return(c.state||{idx:null}).idx}function v(){d="POP";let I=g(),k=I==null?null:I-p;p=I,h&&h({action:d,location:N.location,delta:k})}function _(I,k){d="PUSH";let R=tf(N.location,I,k);n&&n(R,I),p=g()+1;let M=Vm(R,p),V=N.createHref(R);try{c.pushState(M,"",V)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;s.location.assign(V)}a&&h&&h({action:d,location:N.location,delta:1})}function w(I,k){d="REPLACE";let R=tf(N.location,I,k);n&&n(R,I),p=g();let M=Vm(R,p),V=N.createHref(R);c.replaceState(M,"",V),a&&h&&h({action:d,location:N.location,delta:0})}function C(I){let k=s.location.origin!=="null"?s.location.origin:s.location.href,R=typeof I=="string"?I:Io(I);return R=R.replace(/ $/,"%20"),Ue(k,`No window.location.(origin|href) available to create URL for href: ${R}`),new URL(R,k)}let N={get action(){return d},get location(){return t(s,c)},listen(I){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(jm,v),h=I,()=>{s.removeEventListener(jm,v),h=null}},createHref(I){return e(s,I)},createURL:C,encodeLocation(I){let k=C(I);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:_,replace:w,go(I){return c.go(I)}};return N}function I_(t,e,n="/"){return r1(t,e,n,!1)}function r1(t,e,n,o){let s=typeof e=="string"?Nr(e):e,a=Xn(s.pathname||"/",n);if(a==null)return null;let c=R_(t);i1(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let p=m1(a);d=h1(c[h],p,o)}return d}function R_(t,e=[],n=[],o=""){let s=(a,c,d)=>{let h={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};h.relativePath.startsWith("/")&&(Ue(h.relativePath.startsWith(o),`Absolute route path "${h.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(o.length));let p=En([o,h.relativePath]),g=n.concat(h);a.children&&a.children.length>0&&(Ue(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),R_(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:f1(p,a.index),routesMeta:g})};return t.forEach((a,c)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))s(a,c);else for(let h of P_(a.path))s(a,c,h)}),e}function P_(t){let e=t.split("/");if(e.length===0)return[];let[n,...o]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(o.length===0)return s?[a,""]:[a];let c=P_(o.join("/")),d=[];return d.push(...c.map(h=>h===""?a:[a,h].join("/"))),s&&d.push(...c),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function i1(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:d1(e.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}var o1=/^:[\w-]+$/,s1=3,l1=2,a1=1,u1=10,c1=-2,qm=t=>t==="*";function f1(t,e){let n=t.split("/"),o=n.length;return n.some(qm)&&(o+=c1),e&&(o+=l1),n.filter(s=>!qm(s)).reduce((s,a)=>s+(o1.test(a)?s1:a===""?a1:u1),o)}function d1(t,e){return t.length===e.length&&t.slice(0,-1).every((o,s)=>o===e[s])?t[t.length-1]-e[e.length-1]:0}function h1(t,e,n=!1){let{routesMeta:o}=t,s={},a="/",c=[];for(let d=0;d<o.length;++d){let h=o[d],p=d===o.length-1,g=a==="/"?e:e.slice(a.length)||"/",v=bl({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},g),_=h.route;if(!v&&p&&n&&!o[o.length-1].route.index&&(v=bl({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!v)return null;Object.assign(s,v.params),c.push({params:s,pathname:En([a,v.pathname]),pathnameBase:v1(En([a,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(a=En([a,v.pathnameBase]))}return c}function bl(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,o]=p1(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],c=a.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:o.reduce((p,{paramName:g,isOptional:v},_)=>{if(g==="*"){let C=d[_]||"";c=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}const w=d[_];return v&&!w?p[g]=void 0:p[g]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:c,pattern:t}}function p1(t,e=!1,n=!0){Xt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let o=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(o.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(o.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),o]}function m1(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xt(!1,`The URL path "${t}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Xn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,o=t.charAt(n);return o&&o!=="/"?null:t.slice(n)||"/"}function g1(t,e="/"){let{pathname:n,search:o="",hash:s=""}=typeof t=="string"?Nr(t):t;return{pathname:n?n.startsWith("/")?n:_1(n,e):e,search:w1(o),hash:E1(s)}}function _1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Tc(t,e,n,o){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function y1(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function D_(t){let e=y1(t);return e.map((n,o)=>o===e.length-1?n.pathname:n.pathnameBase)}function O_(t,e,n,o=!1){let s;typeof t=="string"?s=Nr(t):(s={...t},Ue(!s.pathname||!s.pathname.includes("?"),Tc("?","pathname","search",s)),Ue(!s.pathname||!s.pathname.includes("#"),Tc("#","pathname","hash",s)),Ue(!s.search||!s.search.includes("#"),Tc("#","search","hash",s)));let a=t===""||s.pathname==="",c=a?"/":s.pathname,d;if(c==null)d=n;else{let v=e.length-1;if(!o&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),v-=1;s.pathname=_.join("/")}d=v>=0?e[v]:"/"}let h=g1(s,d),p=c&&c!=="/"&&c.endsWith("/"),g=(a||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||g)&&(h.pathname+="/"),h}var En=t=>t.join("/").replace(/\/\/+/g,"/"),v1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),w1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,E1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function C1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var A_=["POST","PUT","PATCH","DELETE"];new Set(A_);var S1=["GET",...A_];new Set(S1);var yi=B.createContext(null);yi.displayName="DataRouter";var aa=B.createContext(null);aa.displayName="DataRouterState";var M_=B.createContext({isTransitioning:!1});M_.displayName="ViewTransition";var x1=B.createContext(new Map);x1.displayName="Fetchers";var T1=B.createContext(null);T1.displayName="Await";var ln=B.createContext(null);ln.displayName="Navigation";var Ho=B.createContext(null);Ho.displayName="Location";var kn=B.createContext({outlet:null,matches:[],isDataRoute:!1});kn.displayName="Route";var Uf=B.createContext(null);Uf.displayName="RouteError";function k1(t,{relative:e}={}){Ue(jo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:o}=B.useContext(ln),{hash:s,pathname:a,search:c}=Vo(t,{relative:e}),d=a;return n!=="/"&&(d=a==="/"?n:En([n,a])),o.createHref({pathname:d,search:c,hash:s})}function jo(){return B.useContext(Ho)!=null}function Ir(){return Ue(jo(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(Ho).location}var L_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function b_(t){B.useContext(ln).static||B.useLayoutEffect(t)}function N1(){let{isDataRoute:t}=B.useContext(kn);return t?U1():I1()}function I1(){Ue(jo(),"useNavigate() may be used only in the context of a <Router> component.");let t=B.useContext(yi),{basename:e,navigator:n}=B.useContext(ln),{matches:o}=B.useContext(kn),{pathname:s}=Ir(),a=JSON.stringify(D_(o)),c=B.useRef(!1);return b_(()=>{c.current=!0}),B.useCallback((h,p={})=>{if(Xt(c.current,L_),!c.current)return;if(typeof h=="number"){n.go(h);return}let g=O_(h,JSON.parse(a),s,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:En([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,a,s,t])}B.createContext(null);function Vo(t,{relative:e}={}){let{matches:n}=B.useContext(kn),{pathname:o}=Ir(),s=JSON.stringify(D_(n));return B.useMemo(()=>O_(t,JSON.parse(s),o,e==="path"),[t,s,o,e])}function R1(t,e){return F_(t,e)}function F_(t,e,n,o){var k;Ue(jo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=B.useContext(ln),{matches:a}=B.useContext(kn),c=a[a.length-1],d=c?c.params:{},h=c?c.pathname:"/",p=c?c.pathnameBase:"/",g=c&&c.route;{let R=g&&g.path||"";z_(h,!g||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let v=Ir(),_;if(e){let R=typeof e=="string"?Nr(e):e;Ue(p==="/"||((k=R.pathname)==null?void 0:k.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${R.pathname}" was given in the \`location\` prop.`),_=R}else _=v;let w=_.pathname||"/",C=w;if(p!=="/"){let R=p.replace(/^\//,"").split("/");C="/"+w.replace(/^\//,"").split("/").slice(R.length).join("/")}let N=I_(t,{pathname:C});Xt(g||N!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Xt(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=M1(N&&N.map(R=>Object.assign({},R,{params:Object.assign({},d,R.params),pathname:En([p,s.encodeLocation?s.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?p:En([p,s.encodeLocation?s.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),a,n,o);return e&&I?B.createElement(Ho.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},I):I}function P1(){let t=$1(),e=C1(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:o},a={padding:"2px 4px",backgroundColor:o},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=B.createElement(B.Fragment,null,B.createElement("p",null,"💿 Hey developer 👋"),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:a},"ErrorBoundary")," or"," ",B.createElement("code",{style:a},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:s},n):null,c)}var D1=B.createElement(P1,null),O1=class extends B.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?B.createElement(kn.Provider,{value:this.props.routeContext},B.createElement(Uf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function A1({routeContext:t,match:e,children:n}){let o=B.useContext(yi);return o&&o.static&&o.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(kn.Provider,{value:t},n)}function M1(t,e=[],n=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n==null?void 0:n.errors;if(a!=null){let h=s.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);Ue(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let c=!1,d=-1;if(n)for(let h=0;h<s.length;h++){let p=s[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=h),p.route.id){let{loaderData:g,errors:v}=n,_=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||_){c=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((h,p,g)=>{let v,_=!1,w=null,C=null;n&&(v=a&&p.route.id?a[p.route.id]:void 0,w=p.route.errorElement||D1,c&&(d<0&&g===0?(z_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,C=null):d===g&&(_=!0,C=p.route.hydrateFallbackElement||null)));let N=e.concat(s.slice(0,g+1)),I=()=>{let k;return v?k=w:_?k=C:p.route.Component?k=B.createElement(p.route.Component,null):p.route.element?k=p.route.element:k=h,B.createElement(A1,{match:p,routeContext:{outlet:h,matches:N,isDataRoute:n!=null},children:k})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?B.createElement(O1,{location:n.location,revalidation:n.revalidation,component:w,error:v,children:I(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):I()},null)}function Wf(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function L1(t){let e=B.useContext(yi);return Ue(e,Wf(t)),e}function b1(t){let e=B.useContext(aa);return Ue(e,Wf(t)),e}function F1(t){let e=B.useContext(kn);return Ue(e,Wf(t)),e}function Bf(t){let e=F1(t),n=e.matches[e.matches.length-1];return Ue(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function z1(){return Bf("useRouteId")}function $1(){var o;let t=B.useContext(Uf),e=b1("useRouteError"),n=Bf("useRouteError");return t!==void 0?t:(o=e.errors)==null?void 0:o[n]}function U1(){let{router:t}=L1("useNavigate"),e=Bf("useNavigate"),n=B.useRef(!1);return b_(()=>{n.current=!0}),B.useCallback(async(s,a={})=>{Xt(n.current,L_),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var Gm={};function z_(t,e,n){!e&&!Gm[t]&&(Gm[t]=!0,Xt(!1,n))}B.memo(W1);function W1({routes:t,future:e,state:n}){return F_(t,void 0,n,e)}function nf(t){Ue(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function B1({basename:t="/",children:e=null,location:n,navigationType:o="POP",navigator:s,static:a=!1}){Ue(!jo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=B.useMemo(()=>({basename:c,navigator:s,static:a,future:{}}),[c,s,a]);typeof n=="string"&&(n=Nr(n));let{pathname:h="/",search:p="",hash:g="",state:v=null,key:_="default"}=n,w=B.useMemo(()=>{let C=Xn(h,c);return C==null?null:{location:{pathname:C,search:p,hash:g,state:v,key:_},navigationType:o}},[c,h,p,g,v,_,o]);return Xt(w!=null,`<Router basename="${c}"> is not able to match the URL "${h}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:B.createElement(ln.Provider,{value:d},B.createElement(Ho.Provider,{children:e,value:w}))}function H1({children:t,location:e}){return R1(rf(t),e)}function rf(t,e=[]){let n=[];return B.Children.forEach(t,(o,s)=>{if(!B.isValidElement(o))return;let a=[...e,s];if(o.type===B.Fragment){n.push.apply(n,rf(o.props.children,a));return}Ue(o.type===nf,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ue(!o.props.index||!o.props.children,"An index route cannot have child routes.");let c={id:o.props.id||a.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(c.children=rf(o.props.children,a)),n.push(c)}),n}var Il="get",Rl="application/x-www-form-urlencoded";function ua(t){return t!=null&&typeof t.tagName=="string"}function j1(t){return ua(t)&&t.tagName.toLowerCase()==="button"}function V1(t){return ua(t)&&t.tagName.toLowerCase()==="form"}function q1(t){return ua(t)&&t.tagName.toLowerCase()==="input"}function G1(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Q1(t,e){return t.button===0&&(!e||e==="_self")&&!G1(t)}var hl=null;function K1(){if(hl===null)try{new FormData(document.createElement("form"),0),hl=!1}catch{hl=!0}return hl}var Y1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function kc(t){return t!=null&&!Y1.has(t)?(Xt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rl}"`),null):t}function X1(t,e){let n,o,s,a,c;if(V1(t)){let d=t.getAttribute("action");o=d?Xn(d,e):null,n=t.getAttribute("method")||Il,s=kc(t.getAttribute("enctype"))||Rl,a=new FormData(t)}else if(j1(t)||q1(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||d.getAttribute("action");if(o=h?Xn(h,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Il,s=kc(t.getAttribute("formenctype"))||kc(d.getAttribute("enctype"))||Rl,a=new FormData(d,t),!K1()){let{name:p,type:g,value:v}=t;if(g==="image"){let _=p?`${p}.`:"";a.append(`${_}x`,"0"),a.append(`${_}y`,"0")}else p&&a.append(p,v)}}else{if(ua(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Il,o=null,s=Rl,c=t}return a&&s==="text/plain"&&(c=a,a=void 0),{action:o,method:n.toLowerCase(),encType:s,formData:a,body:c}}function Hf(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function J1(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Z1(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function eE(t,e,n){let o=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let c=await J1(a,n);return c.links?c.links():[]}return[]}));return iE(o.flat(1).filter(Z1).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Qm(t,e,n,o,s,a){let c=(h,p)=>n[p]?h.route.id!==n[p].route.id:!0,d=(h,p)=>{var g;return n[p].pathname!==h.pathname||((g=n[p].route.path)==null?void 0:g.endsWith("*"))&&n[p].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,p)=>c(h,p)||d(h,p)):a==="data"?e.filter((h,p)=>{var v;let g=o.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(c(h,p)||d(h,p))return!0;if(h.route.shouldRevalidate){let _=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function tE(t,e){return nE(t.map(n=>{let o=e.routes[n.route.id];if(!o)return[];let s=[o.module];return o.imports&&(s=s.concat(o.imports)),s}).flat(1))}function nE(t){return[...new Set(t)]}function rE(t){let e={},n=Object.keys(t).sort();for(let o of n)e[o]=t[o];return e}function iE(t,e){let n=new Set;return new Set(e),t.reduce((o,s)=>{let a=JSON.stringify(rE(s));return n.has(a)||(n.add(a),o.push({key:a,link:s})),o},[])}function oE(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function sE(){let t=B.useContext(yi);return Hf(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function lE(){let t=B.useContext(aa);return Hf(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var jf=B.createContext(void 0);jf.displayName="FrameworkContext";function $_(){let t=B.useContext(jf);return Hf(t,"You must render this element inside a <HydratedRouter> element"),t}function aE(t,e){let n=B.useContext(jf),[o,s]=B.useState(!1),[a,c]=B.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:p,onMouseLeave:g,onTouchStart:v}=e,_=B.useRef(null);B.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let N=k=>{k.forEach(R=>{c(R.isIntersecting)})},I=new IntersectionObserver(N,{threshold:.5});return _.current&&I.observe(_.current),()=>{I.disconnect()}}},[t]),B.useEffect(()=>{if(o){let N=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(N)}}},[o]);let w=()=>{s(!0)},C=()=>{s(!1),c(!1)};return n?t!=="intent"?[a,_,{}]:[a,_,{onFocus:co(d,w),onBlur:co(h,C),onMouseEnter:co(p,w),onMouseLeave:co(g,C),onTouchStart:co(v,w)}]:[!1,_,{}]}function co(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function uE({page:t,...e}){let{router:n}=sE(),o=B.useMemo(()=>I_(n.routes,t,n.basename),[n.routes,t,n.basename]);return o?B.createElement(fE,{page:t,matches:o,...e}):(console.warn(`Tried to prefetch ${t} but no routes matched.`),null)}function cE(t){let{manifest:e,routeModules:n}=$_(),[o,s]=B.useState([]);return B.useEffect(()=>{let a=!1;return eE(t,e,n).then(c=>{a||s(c)}),()=>{a=!0}},[t,e,n]),o}function fE({page:t,matches:e,...n}){let o=Ir(),{manifest:s,routeModules:a}=$_(),{loaderData:c,matches:d}=lE(),h=B.useMemo(()=>Qm(t,e,d,s,o,"data"),[t,e,d,s,o]),p=B.useMemo(()=>Qm(t,e,d,s,o,"assets"),[t,e,d,s,o]),g=B.useMemo(()=>{if(t===o.pathname+o.search+o.hash)return[];let w=new Set,C=!1;if(e.forEach(I=>{var R;let k=s.routes[I.route.id];!k||!k.hasLoader||(!h.some(M=>M.route.id===I.route.id)&&I.route.id in c&&((R=a[I.route.id])!=null&&R.shouldRevalidate)||k.hasClientLoader?C=!0:w.add(I.route.id))}),w.size===0)return[];let N=oE(t);return C&&w.size>0&&N.searchParams.set("_routes",e.filter(I=>w.has(I.route.id)).map(I=>I.route.id).join(",")),[N.pathname+N.search]},[c,o,s,h,e,t,a]),v=B.useMemo(()=>tE(p,s),[p,s]),_=cE(p);return B.createElement(B.Fragment,null,g.map(w=>B.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),v.map(w=>B.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),_.map(({key:w,link:C})=>B.createElement("link",{key:w,...C})))}function dE(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var U_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{U_&&(window.__reactRouterVersion="7.0.2")}catch{}function hE({basename:t,children:e,window:n}){let o=B.useRef();o.current==null&&(o.current=e1({window:n,v5Compat:!0}));let s=o.current,[a,c]=B.useState({action:s.action,location:s.location}),d=B.useCallback(h=>{B.startTransition(()=>c(h))},[c]);return B.useLayoutEffect(()=>s.listen(d),[s,d]),B.createElement(B1,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s})}var W_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fl=B.forwardRef(function({onClick:e,discover:n="render",prefetch:o="none",relative:s,reloadDocument:a,replace:c,state:d,target:h,to:p,preventScrollReset:g,viewTransition:v,..._},w){let{basename:C}=B.useContext(ln),N=typeof p=="string"&&W_.test(p),I,k=!1;if(typeof p=="string"&&N&&(I=p,U_))try{let Z=new URL(window.location.href),J=p.startsWith("//")?new URL(Z.protocol+p):new URL(p),ce=Xn(J.pathname,C);J.origin===Z.origin&&ce!=null?p=ce+J.search+J.hash:k=!0}catch{Xt(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=k1(p,{relative:s}),[M,V,$]=aE(o,_),b=_E(p,{replace:c,state:d,target:h,preventScrollReset:g,relative:s,viewTransition:v});function L(Z){e&&e(Z),Z.defaultPrevented||b(Z)}let U=B.createElement("a",{..._,...$,href:I||R,onClick:k||a?e:L,ref:dE(w,V),target:h,"data-discover":!N&&n==="render"?"true":void 0});return M&&!N?B.createElement(B.Fragment,null,U,B.createElement(uE,{page:R})):U});Fl.displayName="Link";var pE=B.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:o="",end:s=!1,style:a,to:c,viewTransition:d,children:h,...p},g){let v=Vo(c,{relative:p.relative}),_=Ir(),w=B.useContext(aa),{navigator:C,basename:N}=B.useContext(ln),I=w!=null&&CE(v)&&d===!0,k=C.encodeLocation?C.encodeLocation(v).pathname:v.pathname,R=_.pathname,M=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(R=R.toLowerCase(),M=M?M.toLowerCase():null,k=k.toLowerCase()),M&&N&&(M=Xn(M,N)||M);const V=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let $=R===k||!s&&R.startsWith(k)&&R.charAt(V)==="/",b=M!=null&&(M===k||!s&&M.startsWith(k)&&M.charAt(k.length)==="/"),L={isActive:$,isPending:b,isTransitioning:I},U=$?e:void 0,Z;typeof o=="function"?Z=o(L):Z=[o,$?"active":null,b?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let J=typeof a=="function"?a(L):a;return B.createElement(Fl,{...p,"aria-current":U,className:Z,ref:g,style:J,to:c,viewTransition:d},typeof h=="function"?h(L):h)});pE.displayName="NavLink";var mE=B.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:o,replace:s,state:a,method:c=Il,action:d,onSubmit:h,relative:p,preventScrollReset:g,viewTransition:v,..._},w)=>{let C=wE(),N=EE(d,{relative:p}),I=c.toLowerCase()==="get"?"get":"post",k=typeof d=="string"&&W_.test(d),R=M=>{if(h&&h(M),M.defaultPrevented)return;M.preventDefault();let V=M.nativeEvent.submitter,$=(V==null?void 0:V.getAttribute("formmethod"))||c;C(V||M.currentTarget,{fetcherKey:e,method:$,navigate:n,replace:s,state:a,relative:p,preventScrollReset:g,viewTransition:v})};return B.createElement("form",{ref:w,method:I,action:N,onSubmit:o?h:R,..._,"data-discover":!k&&t==="render"?"true":void 0})});mE.displayName="Form";function gE(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function B_(t){let e=B.useContext(yi);return Ue(e,gE(t)),e}function _E(t,{target:e,replace:n,state:o,preventScrollReset:s,relative:a,viewTransition:c}={}){let d=N1(),h=Ir(),p=Vo(t,{relative:a});return B.useCallback(g=>{if(Q1(g,e)){g.preventDefault();let v=n!==void 0?n:Io(h)===Io(p);d(t,{replace:v,state:o,preventScrollReset:s,relative:a,viewTransition:c})}},[h,d,p,n,o,e,t,s,a,c])}var yE=0,vE=()=>`__${String(++yE)}__`;function wE(){let{router:t}=B_("useSubmit"),{basename:e}=B.useContext(ln),n=z1();return B.useCallback(async(o,s={})=>{let{action:a,method:c,encType:d,formData:h,body:p}=X1(o,e);if(s.navigate===!1){let g=s.fetcherKey||vE();await t.fetch(g,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:p,formMethod:s.method||c,formEncType:s.encType||d,flushSync:s.flushSync})}else await t.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:p,formMethod:s.method||c,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function EE(t,{relative:e}={}){let{basename:n}=B.useContext(ln),o=B.useContext(kn);Ue(o,"useFormAction must be used inside a RouteContext");let[s]=o.matches.slice(-1),a={...Vo(t||".",{relative:e})},c=Ir();if(t==null){a.search=c.search;let d=new URLSearchParams(a.search),h=d.getAll("index");if(h.some(g=>g==="")){d.delete("index"),h.filter(v=>v).forEach(v=>d.append("index",v));let g=d.toString();a.search=g?`?${g}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:En([n,a.pathname])),Io(a)}function CE(t,e={}){let n=B.useContext(M_);Ue(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=B_("useViewTransitionState"),s=Vo(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=Xn(n.currentLocation.pathname,o)||n.currentLocation.pathname,c=Xn(n.nextLocation.pathname,o)||n.nextLocation.pathname;return bl(s.pathname,c)!=null||bl(s.pathname,a)!=null}new TextEncoder;const SE=()=>Se.jsxs("div",{className:"text-center",children:[Se.jsx("h2",{style:{margin:0},children:"Witaj na stronie drzewińskich"}),Se.jsx("p",{children:"Ta strona przedstawia drzewo genealogiczne rodziny drzewinskich."})]});var Km={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X=function(t,e){if(!t)throw vi(e)},vi=function(t){return new Error("Firebase Database ("+H_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_=function(t){const e=[];let n=0;for(let o=0;o<t.length;o++){let s=t.charCodeAt(o);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&o+1<t.length&&(t.charCodeAt(o+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++o)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},xE=function(t){const e=[];let n=0,o=0;for(;n<t.length;){const s=t[n++];if(s<128)e[o++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[o++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],c=t[n++],d=t[n++],h=((s&7)<<18|(a&63)<<12|(c&63)<<6|d&63)-65536;e[o++]=String.fromCharCode(55296+(h>>10)),e[o++]=String.fromCharCode(56320+(h&1023))}else{const a=t[n++],c=t[n++];e[o++]=String.fromCharCode((s&15)<<12|(a&63)<<6|c&63)}}return e.join("")},Vf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let s=0;s<t.length;s+=3){const a=t[s],c=s+1<t.length,d=c?t[s+1]:0,h=s+2<t.length,p=h?t[s+2]:0,g=a>>2,v=(a&3)<<4|d>>4;let _=(d&15)<<2|p>>6,w=p&63;h||(w=64,c||(_=64)),o.push(n[g],n[v],n[_],n[w])}return o.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(j_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):xE(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],d=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const v=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||d==null||p==null||v==null)throw new TE;const _=a<<2|d>>4;if(o.push(_),p!==64){const w=d<<4&240|p>>2;if(o.push(w),v!==64){const C=p<<6&192|v;o.push(C)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class TE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const V_=function(t){const e=j_(t);return Vf.encodeByteArray(e,!0)},zl=function(t){return V_(t).replace(/\./g,"")},of=function(t){try{return Vf.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(t){return q_(void 0,t)}function q_(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!NE(n)||(t[n]=q_(t[n],e[n]));return t}function NE(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=()=>IE().__FIREBASE_DEFAULTS__,PE=()=>{if(typeof process>"u"||typeof Km>"u")return;const t=Km.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},DE=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&of(t[1]);return e&&JSON.parse(e)},G_=()=>{try{return RE()||PE()||DE()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},OE=t=>{var e,n;return(n=(e=G_())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},AE=t=>{const e=OE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const o=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),o]:[e.substring(0,n),o]},Q_=()=>{var t;return(t=G_())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,o)=>{n?this.reject(n):this.resolve(o),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},o=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[zl(JSON.stringify(n)),zl(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function K_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(LE())}function bE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Y_(){return H_.NODE_ADMIN===!0}function FE(){try{return typeof indexedDB=="object"}catch{return!1}}function zE(){return new Promise((t,e)=>{try{let n=!0;const o="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(o);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(o),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="FirebaseError";class Go extends Error{constructor(e,n,o){super(n),this.code=e,this.customData=o,this.name=$E,Object.setPrototypeOf(this,Go.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,X_.prototype.create)}}class X_{constructor(e,n,o){this.service=e,this.serviceName=n,this.errors=o}create(e,...n){const o=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],c=a?UE(a,o):"Error",d=`${this.serviceName}: ${c} (${s}).`;return new Go(s,d,o)}}function UE(t,e){return t.replace(WE,(n,o)=>{const s=e[o];return s!=null?String(s):`<${o}?>`})}const WE=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(t){return JSON.parse(t)}function nt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_=function(t){let e={},n={},o={},s="";try{const a=t.split(".");e=Ro(of(a[0])||""),n=Ro(of(a[1])||""),s=a[2],o=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:o,signature:s}},BE=function(t){const e=J_(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},HE=function(t){const e=J_(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ci(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Ym(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function $l(t,e,n){const o={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(o[s]=e.call(n,t[s],s,t));return o}function sf(t,e){if(t===e)return!0;const n=Object.keys(t),o=Object.keys(e);for(const s of n){if(!o.includes(s))return!1;const a=t[s],c=e[s];if(Xm(a)&&Xm(c)){if(!sf(a,c))return!1}else if(a!==c)return!1}for(const s of o)if(!n.includes(s))return!1;return!0}function Xm(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(t){const e=[];for(const[n,o]of Object.entries(t))Array.isArray(o)?o.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(o));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const o=this.W_;if(typeof e=="string")for(let v=0;v<16;v++)o[v]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let v=0;v<16;v++)o[v]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let v=16;v<80;v++){const _=o[v-3]^o[v-8]^o[v-14]^o[v-16];o[v]=(_<<1|_>>>31)&4294967295}let s=this.chain_[0],a=this.chain_[1],c=this.chain_[2],d=this.chain_[3],h=this.chain_[4],p,g;for(let v=0;v<80;v++){v<40?v<20?(p=d^a&(c^d),g=1518500249):(p=a^c^d,g=1859775393):v<60?(p=a&c|d&(a|c),g=2400959708):(p=a^c^d,g=3395469782);const _=(s<<5|s>>>27)+p+h+g+o[v]&4294967295;h=d,d=c,c=(a<<30|a>>>2)&4294967295,a=s,s=_}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const o=n-this.blockSize;let s=0;const a=this.buf_;let c=this.inbuf_;for(;s<n;){if(c===0)for(;s<=o;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(a[c]=e.charCodeAt(s),++c,++s,c===this.blockSize){this.compress_(a),c=0;break}}else for(;s<n;)if(a[c]=e[s],++c,++s,c===this.blockSize){this.compress_(a),c=0;break}}this.inbuf_=c,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let o=0;for(let s=0;s<5;s++)for(let a=24;a>=0;a-=8)e[o]=this.chain_[s]>>a&255,++o;return e}}function ca(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE=function(t){const e=[];let n=0;for(let o=0;o<t.length;o++){let s=t.charCodeAt(o);if(s>=55296&&s<=56319){const a=s-55296;o++,X(o<t.length,"Surrogate pair missing trail surrogate.");const c=t.charCodeAt(o)-56320;s=65536+(a<<10)+c}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},fa=function(t){let e=0;for(let n=0;n<t.length;n++){const o=t.charCodeAt(n);o<128?e++:o<2048?e+=2:o>=55296&&o<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(t){return t&&t._delegate?t._delegate:t}class Po{constructor(e,n,o){this.name=e,this.instanceFactory=n,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const o=new qo;if(this.instancesDeferred.set(n,o),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&o.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const o=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KE(e))try{this.getOrInitializeService({instanceIdentifier:gr})}catch{}for(const[n,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});o.resolve(a)}catch{}}}}clearInstance(e=gr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=gr){return this.instances.has(e)}getOptions(e=gr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:o,options:n});for(const[a,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);o===d&&c.resolve(s)}return s}onInit(e,n){var o;const s=this.normalizeInstanceIdentifier(n),a=(o=this.onInitCallbacks.get(s))!==null&&o!==void 0?o:new Set;a.add(e),this.onInitCallbacks.set(s,a);const c=this.instances.get(s);return c&&e(c,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const o=this.onInitCallbacks.get(n);if(o)for(const s of o)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let o=this.instances.get(e);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:QE(e),options:n}),this.instances.set(e,o),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(o,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,o)}catch{}return o||null}normalizeInstanceIdentifier(e=gr){return this.component?this.component.multipleInstances?e:gr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QE(t){return t===gr?void 0:t}function KE(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new GE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ae||(Ae={}));const XE={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},JE=Ae.INFO,ZE={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},eC=(t,e,...n)=>{if(e<t.logLevel)return;const o=new Date().toISOString(),s=ZE[e];if(s)console[s](`[${o}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Z_{constructor(e){this.name=e,this._logLevel=JE,this._logHandler=eC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const tC=(t,e)=>e.some(n=>t instanceof n);let Jm,Zm;function nC(){return Jm||(Jm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rC(){return Zm||(Zm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ey=new WeakMap,lf=new WeakMap,ty=new WeakMap,Nc=new WeakMap,qf=new WeakMap;function iC(t){const e=new Promise((n,o)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",c)},a=()=>{n(Qn(t.result)),s()},c=()=>{o(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&ey.set(n,t)}).catch(()=>{}),qf.set(e,t),e}function oC(t){if(lf.has(t))return;const e=new Promise((n,o)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",c),t.removeEventListener("abort",c)},a=()=>{n(),s()},c=()=>{o(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",c),t.addEventListener("abort",c)});lf.set(t,e)}let af={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return lf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ty.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function sC(t){af=t(af)}function lC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const o=t.call(Ic(this),e,...n);return ty.set(o,e.sort?e.sort():[e]),Qn(o)}:rC().includes(t)?function(...e){return t.apply(Ic(this),e),Qn(ey.get(this))}:function(...e){return Qn(t.apply(Ic(this),e))}}function aC(t){return typeof t=="function"?lC(t):(t instanceof IDBTransaction&&oC(t),tC(t,nC())?new Proxy(t,af):t)}function Qn(t){if(t instanceof IDBRequest)return iC(t);if(Nc.has(t))return Nc.get(t);const e=aC(t);return e!==t&&(Nc.set(t,e),qf.set(e,t)),e}const Ic=t=>qf.get(t);function uC(t,e,{blocked:n,upgrade:o,blocking:s,terminated:a}={}){const c=indexedDB.open(t,e),d=Qn(c);return o&&c.addEventListener("upgradeneeded",h=>{o(Qn(c.result),h.oldVersion,h.newVersion,Qn(c.transaction),h)}),n&&c.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),d.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const cC=["get","getKey","getAll","getAllKeys","count"],fC=["put","add","delete","clear"],Rc=new Map;function eg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Rc.get(e))return Rc.get(e);const n=e.replace(/FromIndex$/,""),o=e!==n,s=fC.includes(n);if(!(n in(o?IDBIndex:IDBObjectStore).prototype)||!(s||cC.includes(n)))return;const a=async function(c,...d){const h=this.transaction(c,s?"readwrite":"readonly");let p=h.store;return o&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),s&&h.done]))[0]};return Rc.set(e,a),a}sC(t=>({...t,get:(e,n,o)=>eg(e,n)||t.get(e,n,o),has:(e,n)=>!!eg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hC(n)){const o=n.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(n=>n).join(" ")}}function hC(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const uf="@firebase/app",tg="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn=new Z_("@firebase/app"),pC="@firebase/app-compat",mC="@firebase/analytics-compat",gC="@firebase/analytics",_C="@firebase/app-check-compat",yC="@firebase/app-check",vC="@firebase/auth",wC="@firebase/auth-compat",EC="@firebase/database",CC="@firebase/data-connect",SC="@firebase/database-compat",xC="@firebase/functions",TC="@firebase/functions-compat",kC="@firebase/installations",NC="@firebase/installations-compat",IC="@firebase/messaging",RC="@firebase/messaging-compat",PC="@firebase/performance",DC="@firebase/performance-compat",OC="@firebase/remote-config",AC="@firebase/remote-config-compat",MC="@firebase/storage",LC="@firebase/storage-compat",bC="@firebase/firestore",FC="@firebase/vertexai",zC="@firebase/firestore-compat",$C="firebase",UC="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cf="[DEFAULT]",WC={[uf]:"fire-core",[pC]:"fire-core-compat",[gC]:"fire-analytics",[mC]:"fire-analytics-compat",[yC]:"fire-app-check",[_C]:"fire-app-check-compat",[vC]:"fire-auth",[wC]:"fire-auth-compat",[EC]:"fire-rtdb",[CC]:"fire-data-connect",[SC]:"fire-rtdb-compat",[xC]:"fire-fn",[TC]:"fire-fn-compat",[kC]:"fire-iid",[NC]:"fire-iid-compat",[IC]:"fire-fcm",[RC]:"fire-fcm-compat",[PC]:"fire-perf",[DC]:"fire-perf-compat",[OC]:"fire-rc",[AC]:"fire-rc-compat",[MC]:"fire-gcs",[LC]:"fire-gcs-compat",[bC]:"fire-fst",[zC]:"fire-fst-compat",[FC]:"fire-vertex","fire-js":"fire-js",[$C]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul=new Map,BC=new Map,ff=new Map;function ng(t,e){try{t.container.addComponent(e)}catch(n){Sn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wl(t){const e=t.name;if(ff.has(e))return Sn.debug(`There were multiple attempts to register component ${e}.`),!1;ff.set(e,t);for(const n of Ul.values())ng(n,t);for(const n of BC.values())ng(n,t);return!0}function HC(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kn=new X_("app","Firebase",jC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,n,o){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Po("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=UC;function ny(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const o=Object.assign({name:cf,automaticDataCollectionEnabled:!1},e),s=o.name;if(typeof s!="string"||!s)throw Kn.create("bad-app-name",{appName:String(s)});if(n||(n=Q_()),!n)throw Kn.create("no-options");const a=Ul.get(s);if(a){if(sf(n,a.options)&&sf(o,a.config))return a;throw Kn.create("duplicate-app",{appName:s})}const c=new YE(s);for(const h of ff.values())c.addComponent(h);const d=new VC(n,o,c);return Ul.set(s,d),d}function GC(t=cf){const e=Ul.get(t);if(!e&&t===cf&&Q_())return ny();if(!e)throw Kn.create("no-app",{appName:t});return e}function oi(t,e,n){var o;let s=(o=WC[t])!==null&&o!==void 0?o:t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const d=[`Unable to register library "${s}" with version "${e}":`];a&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Sn.warn(d.join(" "));return}Wl(new Po(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC="firebase-heartbeat-database",KC=1,Do="firebase-heartbeat-store";let Pc=null;function ry(){return Pc||(Pc=uC(QC,KC,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Do)}catch(n){console.warn(n)}}}}).catch(t=>{throw Kn.create("idb-open",{originalErrorMessage:t.message})})),Pc}async function YC(t){try{const n=(await ry()).transaction(Do),o=await n.objectStore(Do).get(iy(t));return await n.done,o}catch(e){if(e instanceof Go)Sn.warn(e.message);else{const n=Kn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Sn.warn(n.message)}}}async function rg(t,e){try{const o=(await ry()).transaction(Do,"readwrite");await o.objectStore(Do).put(e,iy(t)),await o.done}catch(n){if(n instanceof Go)Sn.warn(n.message);else{const o=Kn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Sn.warn(o.message)}}}function iy(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=1024,JC=30*24*60*60*1e3;class ZC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tS(n),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=ig();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const d=new Date(c.date).valueOf();return Date.now()-d<=JC}),this._storage.overwrite(this._heartbeatsCache))}catch(o){Sn.warn(o)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ig(),{heartbeatsToSend:o,unsentEntries:s}=eS(this._heartbeatsCache.heartbeats),a=zl(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Sn.warn(n),""}}}function ig(){return new Date().toISOString().substring(0,10)}function eS(t,e=XC){const n=[];let o=t.slice();for(const s of t){const a=n.find(c=>c.agent===s.agent);if(a){if(a.dates.push(s.date),og(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),og(n)>e){n.pop();break}o=o.slice(1)}return{heartbeatsToSend:n,unsentEntries:o}}class tS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FE()?zE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await YC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return rg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return rg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function og(t){return zl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(t){Wl(new Po("platform-logger",e=>new dC(e),"PRIVATE")),Wl(new Po("heartbeat",e=>new ZC(e),"PRIVATE")),oi(uf,tg,t),oi(uf,tg,"esm2017"),oi("fire-js","")}nS("");var rS="firebase",iS="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oi(rS,iS,"app");var sg={};const lg="@firebase/database",ag="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oy="";function oS(t){oy=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),nt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ro(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return an(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new sS(e)}}catch{}return new lS},vr=sy("localStorage"),aS=sy("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si=new Z_("@firebase/database"),uS=function(){let t=1;return function(){return t++}}(),ly=function(t){const e=qE(t),n=new VE;n.update(e);const o=n.digest();return Vf.encodeByteArray(o)},Ko=function(...t){let e="";for(let n=0;n<t.length;n++){const o=t[n];Array.isArray(o)||o&&typeof o=="object"&&typeof o.length=="number"?e+=Ko.apply(null,o):typeof o=="object"?e+=nt(o):e+=o,e+=" "}return e};let Co=null,ug=!0;const cS=function(t,e){X(!e,"Can't turn on custom loggers persistently."),si.logLevel=Ae.VERBOSE,Co=si.log.bind(si)},st=function(...t){if(ug===!0&&(ug=!1,Co===null&&aS.get("logging_enabled")===!0&&cS()),Co){const e=Ko.apply(null,t);Co(e)}},Yo=function(t){return function(...e){st(t,...e)}},df=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ko(...t);si.error(e)},xn=function(...t){const e=`FIREBASE FATAL ERROR: ${Ko(...t)}`;throw si.error(e),new Error(e)},gt=function(...t){const e="FIREBASE WARNING: "+Ko(...t);si.warn(e)},fS=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&gt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Gf=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},dS=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},fi="[MIN_NAME]",Cr="[MAX_NAME]",Rr=function(t,e){if(t===e)return 0;if(t===fi||e===Cr)return-1;if(e===fi||t===Cr)return 1;{const n=cg(t),o=cg(e);return n!==null?o!==null?n-o===0?t.length-e.length:n-o:-1:o!==null?1:t<e?-1:1}},hS=function(t,e){return t===e?0:t<e?-1:1},fo=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+nt(e))},Qf=function(t){if(typeof t!="object"||t===null)return nt(t);const e=[];for(const o in t)e.push(o);e.sort();let n="{";for(let o=0;o<e.length;o++)o!==0&&(n+=","),n+=nt(e[o]),n+=":",n+=Qf(t[e[o]]);return n+="}",n},ay=function(t,e){const n=t.length;if(n<=e)return[t];const o=[];for(let s=0;s<n;s+=e)s+e>n?o.push(t.substring(s,n)):o.push(t.substring(s,s+e));return o};function lt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const uy=function(t){X(!Gf(t),"Invalid JSON number");const e=11,n=52,o=(1<<e-1)-1;let s,a,c,d,h;t===0?(a=0,c=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-o)?(d=Math.min(Math.floor(Math.log(t)/Math.LN2),o),a=d+o,c=Math.round(t*Math.pow(2,n-d)-Math.pow(2,n))):(a=0,c=Math.round(t/Math.pow(2,1-o-n))));const p=[];for(h=n;h;h-=1)p.push(c%2?1:0),c=Math.floor(c/2);for(h=e;h;h-=1)p.push(a%2?1:0),a=Math.floor(a/2);p.push(s?1:0),p.reverse();const g=p.join("");let v="";for(h=0;h<64;h+=8){let _=parseInt(g.substr(h,8),2).toString(16);_.length===1&&(_="0"+_),v=v+_}return v.toLowerCase()},pS=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},mS=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function gS(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const o=new Error(t+" at "+e._path.toString()+": "+n);return o.code=t.toUpperCase(),o}const _S=new RegExp("^-?(0*)\\d{1,10}$"),yS=-2147483648,vS=2147483647,cg=function(t){if(_S.test(t)){const e=Number(t);if(e>=yS&&e<=vS)return e}return null},wi=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw gt("Exception was thrown by user callback.",n),e},Math.floor(0))}},wS=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},So=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(o=>this.appCheck=o)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,o)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,o):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(o=>o.addTokenListener(e))}notifyForInvalidToken(){gt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,n,o){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(st("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,o)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,o):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',gt(e)}}class Pl{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Pl.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf="5",cy="v",fy="s",dy="r",hy="f",py=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,my="ls",gy="p",hf="ac",_y="websocket",yy="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,n,o,s,a=!1,c="",d=!1,h=!1){this.secure=n,this.namespace=o,this.webSocketOnly=s,this.nodeAdmin=a,this.persistenceKey=c,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=vr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&vr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function SS(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function wy(t,e,n){X(typeof e=="string","typeof type must == string"),X(typeof n=="object","typeof params must == object");let o;if(e===_y)o=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===yy)o=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);SS(t)&&(n.ns=t.namespace);const s=[];return lt(n,(a,c)=>{s.push(a+"="+c)}),o+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(){this.counters_={}}incrementCounter(e,n=1){an(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return kE(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc={},Oc={};function Yf(t){const e=t.toString();return Dc[e]||(Dc[e]=new xS),Dc[e]}function TS(t,e){const n=t.toString();return Oc[n]||(Oc[n]=e()),Oc[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<o.length;++s)o[s]&&wi(()=>{this.onMessage_(o[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg="start",NS="close",IS="pLPCommand",RS="pRTLPCB",Ey="id",Cy="pw",Sy="ser",PS="cb",DS="seg",OS="ts",AS="d",MS="dframe",xy=1870,Ty=30,LS=xy-Ty,bS=25e3,FS=3e4;class ii{constructor(e,n,o,s,a,c,d){this.connId=e,this.repoInfo=n,this.applicationId=o,this.appCheckToken=s,this.authToken=a,this.transportSessionId=c,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Yo(e),this.stats_=Yf(n),this.urlFn=h=>(this.appCheckToken&&(h[hf]=this.appCheckToken),wy(n,yy,h))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new kS(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(FS)),dS(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Xf((...a)=>{const[c,d,h,p,g]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===fg)this.id=d,this.password=h;else if(c===NS)d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...a)=>{const[c,d]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(c,d)},()=>{this.onClosed_()},this.urlFn);const o={};o[fg]="t",o[Sy]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(o[PS]=this.scriptTagHolder.uniqueCallbackIdentifier),o[cy]=Kf,this.transportSessionId&&(o[fy]=this.transportSessionId),this.lastSessionId&&(o[my]=this.lastSessionId),this.applicationId&&(o[gy]=this.applicationId),this.appCheckToken&&(o[hf]=this.appCheckToken),typeof location<"u"&&location.hostname&&py.test(location.hostname)&&(o[dy]=hy);const s=this.urlFn(o);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ii.forceAllow_=!0}static forceDisallow(){ii.forceDisallow_=!0}static isAvailable(){return ii.forceAllow_?!0:!ii.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!pS()&&!mS()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=nt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const o=V_(n),s=ay(o,LS);for(let a=0;a<s.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[a]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const o={};o[MS]="t",o[Ey]=e,o[Cy]=n,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=nt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Xf{constructor(e,n,o,s){this.onDisconnect=o,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=uS(),window[IS+this.uniqueCallbackIdentifier]=e,window[RS+this.uniqueCallbackIdentifier]=n,this.myIFrame=Xf.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(d){st("frame writing exception"),d.stack&&st(d.stack),st(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||st("No IE domain setting required")}catch{const o=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Ey]=this.myID,e[Cy]=this.myPW,e[Sy]=this.currentSerial;let n=this.urlFn(e),o="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Ty+o.length<=xy;){const c=this.pendingSegs.shift();o=o+"&"+DS+s+"="+c.seg+"&"+OS+s+"="+c.ts+"&"+AS+s+"="+c.d,s++}return n=n+o,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,o){this.pendingSegs.push({seg:e,ts:n,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const o=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(o,Math.floor(bS)),a=()=>{clearTimeout(s),o()};this.addTag(e,a)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=e,o.onload=o.onreadystatechange=function(){const s=o.readyState;(!s||s==="loaded"||s==="complete")&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),n())},o.onerror=()=>{st("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS=16384,$S=45e3;let Bl=null;typeof MozWebSocket<"u"?Bl=MozWebSocket:typeof WebSocket<"u"&&(Bl=WebSocket);class Gt{constructor(e,n,o,s,a,c,d){this.connId=e,this.applicationId=o,this.appCheckToken=s,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Yo(this.connId),this.stats_=Yf(n),this.connURL=Gt.connectionURL_(n,c,d,s,o),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,o,s,a){const c={};return c[cy]=Kf,typeof location<"u"&&location.hostname&&py.test(location.hostname)&&(c[dy]=hy),n&&(c[fy]=n),o&&(c[my]=o),s&&(c[hf]=s),a&&(c[gy]=a),wy(e,_y,c)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,vr.set("previous_websocket_failure",!0);try{let o;Y_(),this.mySock=new Bl(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const s=o.message||o.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const s=o.message||o.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Gt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,o=navigator.userAgent.match(n);o&&o.length>1&&parseFloat(o[1])<4.4&&(e=!0)}return!e&&Bl!==null&&!Gt.forceDisallow_}static previouslyFailed(){return vr.isInMemoryStorage||vr.get("previous_websocket_failure")===!0}markConnectionHealthy(){vr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const o=Ro(n);this.onMessage(o)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(X(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const o=this.extractFrameCount_(n);o!==null&&this.appendFrame_(o)}}send(e){this.resetKeepAlive();const n=nt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const o=ay(n,zS);o.length>1&&this.sendString_(String(o.length));for(let s=0;s<o.length;s++)this.sendString_(o[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor($S))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Gt.responsesRequiredToBeHealthy=2;Gt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{static get ALL_TRANSPORTS(){return[ii,Gt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Gt&&Gt.isAvailable();let o=n&&!Gt.previouslyFailed();if(e.webSocketOnly&&(n||gt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Gt];else{const s=this.transports_=[];for(const a of Oo.ALL_TRANSPORTS)a&&a.isAvailable()&&s.push(a);Oo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Oo.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US=6e4,WS=5e3,BS=10*1024,HS=100*1024,Ac="t",dg="d",jS="s",hg="r",VS="e",pg="o",mg="a",gg="n",_g="p",qS="h";class GS{constructor(e,n,o,s,a,c,d,h,p,g){this.id=e,this.repoInfo_=n,this.applicationId_=o,this.appCheckToken_=s,this.authToken_=a,this.onMessage_=c,this.onReady_=d,this.onDisconnect_=h,this.onKill_=p,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Yo("c:"+this.id+":"),this.transportManager_=new Oo(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,o)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=So(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>HS?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>BS?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Ac in e){const n=e[Ac];n===mg?this.upgradeIfSecondaryHealthy_():n===hg?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===pg&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=fo("t",e),o=fo("d",e);if(n==="c")this.onSecondaryControl_(o);else if(n==="d")this.pendingDataMessages.push(o);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:_g,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:mg,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:gg,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=fo("t",e),o=fo("d",e);n==="c"?this.onControl_(o):n==="d"&&this.onDataMessage_(o)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=fo(Ac,e);if(dg in e){const o=e[dg];if(n===qS){const s=Object.assign({},o);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===gg){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===jS?this.onConnectionShutdown_(o):n===hg?this.onReset_(o):n===VS?df("Server Error: "+o):n===pg?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):df("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,o=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Kf!==o&&gt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,o),So(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(US))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):So(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(WS))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:_g,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(vr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{put(e,n,o,s){}merge(e,n,o,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,o){}onDisconnectMerge(e,n,o){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e){this.allowedEvents_=e,this.listeners_={},X(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const o=[...this.listeners_[e]];for(let s=0;s<o.length;s++)o[s].callback.apply(o[s].context,n)}}on(e,n,o){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:o});const s=this.getInitialEvent(e);s&&n.apply(o,s)}off(e,n,o){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let a=0;a<s.length;a++)if(s[a].callback===n&&(!o||o===s[a].context)){s.splice(a,1);return}}validateEventType_(e){X(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl extends Ny{static getInstance(){return new Hl}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!K_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return X(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg=32,vg=768;let Pe=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let o=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[o]=this.pieces_[s],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function Ne(){return new Pe("")}function we(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Jn(t){return t.pieces_.length-t.pieceNum_}function Me(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Pe(t.pieces_,e)}function Jf(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function QS(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Ao(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Iy(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Pe(e,0)}function Be(t,e){const n=[];for(let o=t.pieceNum_;o<t.pieces_.length;o++)n.push(t.pieces_[o]);if(e instanceof Pe)for(let o=e.pieceNum_;o<e.pieces_.length;o++)n.push(e.pieces_[o]);else{const o=e.split("/");for(let s=0;s<o.length;s++)o[s].length>0&&n.push(o[s])}return new Pe(n,0)}function Ce(t){return t.pieceNum_>=t.pieces_.length}function St(t,e){const n=we(t),o=we(e);if(n===null)return e;if(n===o)return St(Me(t),Me(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function KS(t,e){const n=Ao(t,0),o=Ao(e,0);for(let s=0;s<n.length&&s<o.length;s++){const a=Rr(n[s],o[s]);if(a!==0)return a}return n.length===o.length?0:n.length<o.length?-1:1}function Zf(t,e){if(Jn(t)!==Jn(e))return!1;for(let n=t.pieceNum_,o=e.pieceNum_;n<=t.pieces_.length;n++,o++)if(t.pieces_[n]!==e.pieces_[o])return!1;return!0}function $t(t,e){let n=t.pieceNum_,o=e.pieceNum_;if(Jn(t)>Jn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[o])return!1;++n,++o}return!0}class YS{constructor(e,n){this.errorPrefix_=n,this.parts_=Ao(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=fa(this.parts_[o]);Ry(this)}}function XS(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=fa(e),Ry(t)}function JS(t){const e=t.parts_.pop();t.byteLength_-=fa(e),t.parts_.length>0&&(t.byteLength_-=1)}function Ry(t){if(t.byteLength_>vg)throw new Error(t.errorPrefix_+"has a key path longer than "+vg+" bytes ("+t.byteLength_+").");if(t.parts_.length>yg)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+yg+") or object contains a cycle "+_r(t))}function _r(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed extends Ny{static getInstance(){return new ed}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const o=!document[e];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}getInitialEvent(e){return X(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho=1e3,ZS=60*5*1e3,wg=30*1e3,ex=1.3,tx=3e4,nx="server_kill",Eg=3;class Cn extends ky{constructor(e,n,o,s,a,c,d,h){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=o,this.onConnectStatus_=s,this.onServerInfoUpdate_=a,this.authTokenProvider_=c,this.appCheckTokenProvider_=d,this.authOverride_=h,this.id=Cn.nextPersistentConnectionId_++,this.log_=Yo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ho,this.maxReconnectDelay_=ZS,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,h&&!Y_())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ed.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Hl.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,o){const s=++this.requestNumber_,a={r:s,a:e,b:n};this.log_(nt(a)),X(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),o&&(this.requestCBHash_[s]=o)}get(e){this.initConnection_();const n=new qo,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:c=>{const d=c.d;c.s==="ok"?n.resolve(d):n.reject(d)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),n.promise}listen(e,n,o,s){this.initConnection_();const a=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+a),this.listens.has(c)||this.listens.set(c,new Map),X(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),X(!this.listens.get(c).has(a),"listen() called twice for same path/queryId.");const d={onComplete:s,hashFn:n,query:e,tag:o};this.listens.get(c).set(a,d),this.connected_&&this.sendListen_(d)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,o=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(o)})}sendListen_(e){const n=e.query,o=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+o+" for "+s);const a={p:o},c="q";e.tag&&(a.q=n._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest(c,a,d=>{const h=d.d,p=d.s;Cn.warnOnListenWarnings_(h,n),(this.listens.get(o)&&this.listens.get(o).get(s))===e&&(this.log_("listen response",d),p!=="ok"&&this.removeListen_(o,s),e.onComplete&&e.onComplete(p,h))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&an(e,"w")){const o=ci(e,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',a=n._path.toString();gt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||HE(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=wg)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=BE(e)?"auth":"gauth",o={cred:e};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(n,o,s=>{const a=s.s,c=s.d||"error";this.authToken_===e&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,o=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,o)})}unlisten(e,n){const o=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+o+" "+s),X(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,s)&&this.connected_&&this.sendUnlisten_(o,s,e._queryObject,n)}sendUnlisten_(e,n,o,s){this.log_("Unlisten on "+e+" for "+n);const a={p:e},c="n";s&&(a.q=o,a.t=s),this.sendRequest(c,a)}onDisconnectPut(e,n,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:o})}onDisconnectMerge(e,n,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:o})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,o,s){const a={p:n,d:o};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,c=>{s&&setTimeout(()=>{s(c.s,c.d)},Math.floor(0))})}put(e,n,o,s){this.putInternal("p",e,n,o,s)}merge(e,n,o,s){this.putInternal("m",e,n,o,s)}putInternal(e,n,o,s,a){this.initConnection_();const c={p:n,d:o};a!==void 0&&(c.h=a),this.outstandingPuts_.push({action:e,request:c,onComplete:s}),this.outstandingPutCount_++;const d=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(d):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,o=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,o,a=>{this.log_(n+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(a.s,a.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,o=>{if(o.s!=="ok"){const a=o.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+nt(e));const n=e.r,o=this.requestCBHash_[n];o&&(delete this.requestCBHash_[n],o(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):df("Unrecognized action received from server: "+nt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){X(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ho,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ho,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>tx&&(this.reconnectDelay_=ho),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*ex)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Cn.nextConnectionId_++,a=this.lastSessionId;let c=!1,d=null;const h=function(){d?d.close():(c=!0,o())},p=function(v){X(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(v)};this.realtime_={close:h,sendRequest:p};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,_]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);c?st("getToken() completed but was canceled"):(st("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=_&&_.token,d=new GS(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,o,w=>{gt(w+" ("+this.repoInfo_.toString()+")"),this.interrupt(nx)},a))}catch(v){this.log_("Failed to get token: "+v),c||(this.repoInfo_.nodeAdmin&&gt(v),h())}}}interrupt(e){st("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){st("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Ym(this.interruptReasons_)&&(this.reconnectDelay_=ho,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let o;n?o=n.map(a=>Qf(a)).join("$"):o="default";const s=this.removeListen_(e,o);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const o=new Pe(e).toString();let s;if(this.listens.has(o)){const a=this.listens.get(o);s=a.get(n),a.delete(n),a.size===0&&this.listens.delete(o)}else s=void 0;return s}onAuthRevoked_(e,n){st("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Eg&&(this.reconnectDelay_=wg,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){st("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Eg&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+oy.replace(/\./g,"-")]=1,K_()?e["framework.cordova"]=1:bE()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Hl.getInstance().currentlyOnline();return Ym(this.interruptReasons_)&&e}}Cn.nextPersistentConnectionId_=0;Cn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Ee(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const o=new Ee(fi,e),s=new Ee(fi,n);return this.compare(o,s)!==0}minPost(){return Ee.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pl;class Py extends da{static get __EMPTY_NODE(){return pl}static set __EMPTY_NODE(e){pl=e}compare(e,n){return Rr(e.name,n.name)}isDefinedOn(e){throw vi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Ee.MIN}maxPost(){return new Ee(Cr,pl)}makePost(e,n){return X(typeof e=="string","KeyIndex indexValue must always be a string."),new Ee(e,pl)}toString(){return".key"}}const li=new Py;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,n,o,s,a=null){this.isReverse_=s,this.resultGenerator_=a,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(e=e,c=n?o(e.key,n):1,s&&(c*=-1),c<0)this.isReverse_?e=e.left:e=e.right;else if(c===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class et{constructor(e,n,o,s,a){this.key=e,this.value=n,this.color=o??et.RED,this.left=s??xt.EMPTY_NODE,this.right=a??xt.EMPTY_NODE}copy(e,n,o,s,a){return new et(e??this.key,n??this.value,o??this.color,s??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let s=this;const a=o(e,s.key);return a<0?s=s.copy(null,null,null,s.left.insert(e,n,o),null):a===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,o)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return xt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let o,s;if(o=this,n(e,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),n(e,o.key)===0){if(o.right.isEmpty())return xt.EMPTY_NODE;s=o.right.min_(),o=o.copy(s.key,s.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,et.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,et.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}et.RED=!0;et.BLACK=!1;class rx{copy(e,n,o,s,a){return this}insert(e,n,o){return new et(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class xt{constructor(e,n=xt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new xt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,et.BLACK,null,null))}remove(e){return new xt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,et.BLACK,null,null))}get(e){let n,o=this.root_;for(;!o.isEmpty();){if(n=this.comparator_(e,o.key),n===0)return o.value;n<0?o=o.left:n>0&&(o=o.right)}return null}getPredecessorKey(e){let n,o=this.root_,s=null;for(;!o.isEmpty();)if(n=this.comparator_(e,o.key),n===0){if(o.left.isEmpty())return s?s.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}else n<0?o=o.left:n>0&&(s=o,o=o.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ml(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new ml(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new ml(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new ml(this.root_,null,this.comparator_,!0,e)}}xt.EMPTY_NODE=new rx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(t,e){return Rr(t.name,e.name)}function td(t,e){return Rr(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pf;function ox(t){pf=t}const Dy=function(t){return typeof t=="number"?"number:"+uy(t):"string:"+t},Oy=function(t){if(t.isLeafNode()){const e=t.val();X(typeof e=="string"||typeof e=="number"||typeof e=="object"&&an(e,".sv"),"Priority must be a string or number.")}else X(t===pf||t.isEmpty(),"priority of unexpected type.");X(t===pf||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cg;class Ze{static set __childrenNodeConstructor(e){Cg=e}static get __childrenNodeConstructor(){return Cg}constructor(e,n=Ze.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,X(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Oy(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ze(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ze.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ce(e)?this:we(e)===".priority"?this.priorityNode_:Ze.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ze.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const o=we(e);return o===null?n:n.isEmpty()&&o!==".priority"?this:(X(o!==".priority"||Jn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(o,Ze.__childrenNodeConstructor.EMPTY_NODE.updateChild(Me(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Dy(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=uy(this.value_):e+=this.value_,this.lazyHash_=ly(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ze.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ze.__childrenNodeConstructor?-1:(X(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,o=typeof this.value_,s=Ze.VALUE_TYPE_ORDER.indexOf(n),a=Ze.VALUE_TYPE_ORDER.indexOf(o);return X(s>=0,"Unknown leaf type: "+n),X(a>=0,"Unknown leaf type: "+o),s===a?o==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ze.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ay,My;function sx(t){Ay=t}function lx(t){My=t}class ax extends da{compare(e,n){const o=e.node.getPriority(),s=n.node.getPriority(),a=o.compareTo(s);return a===0?Rr(e.name,n.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Ee.MIN}maxPost(){return new Ee(Cr,new Ze("[PRIORITY-POST]",My))}makePost(e,n){const o=Ay(e);return new Ee(n,new Ze("[PRIORITY-POST]",o))}toString(){return".priority"}}const He=new ax;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux=Math.log(2);class cx{constructor(e){const n=a=>parseInt(Math.log(a)/ux,10),o=a=>parseInt(Array(a+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=o(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const jl=function(t,e,n,o){t.sort(e);const s=function(h,p){const g=p-h;let v,_;if(g===0)return null;if(g===1)return v=t[h],_=n?n(v):v,new et(_,v.node,et.BLACK,null,null);{const w=parseInt(g/2,10)+h,C=s(h,w),N=s(w+1,p);return v=t[w],_=n?n(v):v,new et(_,v.node,et.BLACK,C,N)}},a=function(h){let p=null,g=null,v=t.length;const _=function(C,N){const I=v-C,k=v;v-=C;const R=s(I+1,k),M=t[I],V=n?n(M):M;w(new et(V,M.node,N,null,R))},w=function(C){p?(p.left=C,p=C):(g=C,p=C)};for(let C=0;C<h.count;++C){const N=h.nextBitIsOne(),I=Math.pow(2,h.count-(C+1));N?_(I,et.BLACK):(_(I,et.BLACK),_(I,et.RED))}return g},c=new cx(t.length),d=a(c);return new xt(o||e,d)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mc;const ni={};class vn{static get Default(){return X(ni&&He,"ChildrenNode.ts has not been loaded"),Mc=Mc||new vn({".priority":ni},{".priority":He}),Mc}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=ci(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof xt?n:null}hasIndex(e){return an(this.indexSet_,e.toString())}addIndex(e,n){X(e!==li,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let s=!1;const a=n.getIterator(Ee.Wrap);let c=a.getNext();for(;c;)s=s||e.isDefinedOn(c.node),o.push(c),c=a.getNext();let d;s?d=jl(o,e.getCompare()):d=ni;const h=e.toString(),p=Object.assign({},this.indexSet_);p[h]=e;const g=Object.assign({},this.indexes_);return g[h]=d,new vn(g,p)}addToIndexes(e,n){const o=$l(this.indexes_,(s,a)=>{const c=ci(this.indexSet_,a);if(X(c,"Missing index implementation for "+a),s===ni)if(c.isDefinedOn(e.node)){const d=[],h=n.getIterator(Ee.Wrap);let p=h.getNext();for(;p;)p.name!==e.name&&d.push(p),p=h.getNext();return d.push(e),jl(d,c.getCompare())}else return ni;else{const d=n.get(e.name);let h=s;return d&&(h=h.remove(new Ee(e.name,d))),h.insert(e,e.node)}});return new vn(o,this.indexSet_)}removeFromIndexes(e,n){const o=$l(this.indexes_,s=>{if(s===ni)return s;{const a=n.get(e.name);return a?s.remove(new Ee(e.name,a)):s}});return new vn(o,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let po;class fe{static get EMPTY_NODE(){return po||(po=new fe(new xt(td),null,vn.Default))}constructor(e,n,o){this.children_=e,this.priorityNode_=n,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&Oy(this.priorityNode_),this.children_.isEmpty()&&X(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||po}updatePriority(e){return this.children_.isEmpty()?this:new fe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?po:n}}getChild(e){const n=we(e);return n===null?this:this.getImmediateChild(n).getChild(Me(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(X(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const o=new Ee(e,n);let s,a;n.isEmpty()?(s=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(o,this.children_)):(s=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(o,this.children_));const c=s.isEmpty()?po:this.priorityNode_;return new fe(s,c,a)}}updateChild(e,n){const o=we(e);if(o===null)return n;{X(we(e)!==".priority"||Jn(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(o).updateChild(Me(e),n);return this.updateImmediateChild(o,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let o=0,s=0,a=!0;if(this.forEachChild(He,(c,d)=>{n[c]=d.val(e),o++,a&&fe.INTEGER_REGEXP_.test(c)?s=Math.max(s,Number(c)):a=!1}),!e&&a&&s<2*o){const c=[];for(const d in n)c[d]=n[d];return c}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Dy(this.getPriority().val())+":"),this.forEachChild(He,(n,o)=>{const s=o.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":ly(e)}return this.lazyHash_}getPredecessorChildName(e,n,o){const s=this.resolveIndex_(o);if(s){const a=s.getPredecessorKey(new Ee(e,n));return a?a.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const o=n.minKey();return o&&o.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Ee(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const o=n.maxKey();return o&&o.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Ee(n,this.children_.get(n)):null}forEachChild(e,n){const o=this.resolveIndex_(e);return o?o.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const o=this.resolveIndex_(n);if(o)return o.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,Ee.Wrap);let a=s.peek();for(;a!=null&&n.compare(a,e)<0;)s.getNext(),a=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const o=this.resolveIndex_(n);if(o)return o.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,Ee.Wrap);let a=s.peek();for(;a!=null&&n.compare(a,e)>0;)s.getNext(),a=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Xo?-1:0}withIndex(e){if(e===li||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new fe(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===li||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const o=this.getIterator(He),s=n.getIterator(He);let a=o.getNext(),c=s.getNext();for(;a&&c;){if(a.name!==c.name||!a.node.equals(c.node))return!1;a=o.getNext(),c=s.getNext()}return a===null&&c===null}else return!1;else return!1}}resolveIndex_(e){return e===li?null:this.indexMap_.get(e.toString())}}fe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class fx extends fe{constructor(){super(new xt(td),fe.EMPTY_NODE,vn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return fe.EMPTY_NODE}isEmpty(){return!1}}const Xo=new fx;Object.defineProperties(Ee,{MIN:{value:new Ee(fi,fe.EMPTY_NODE)},MAX:{value:new Ee(Cr,Xo)}});Py.__EMPTY_NODE=fe.EMPTY_NODE;Ze.__childrenNodeConstructor=fe;ox(Xo);lx(Xo);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx=!0;function tt(t,e=null){if(t===null)return fe.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),X(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ze(n,tt(e))}if(!(t instanceof Array)&&dx){const n=[];let o=!1;if(lt(t,(c,d)=>{if(c.substring(0,1)!=="."){const h=tt(d);h.isEmpty()||(o=o||!h.getPriority().isEmpty(),n.push(new Ee(c,h)))}}),n.length===0)return fe.EMPTY_NODE;const a=jl(n,ix,c=>c.name,td);if(o){const c=jl(n,He.getCompare());return new fe(a,tt(e),new vn({".priority":c},{".priority":He}))}else return new fe(a,tt(e),vn.Default)}else{let n=fe.EMPTY_NODE;return lt(t,(o,s)=>{if(an(t,o)&&o.substring(0,1)!=="."){const a=tt(s);(a.isLeafNode()||!a.isEmpty())&&(n=n.updateImmediateChild(o,a))}}),n.updatePriority(tt(e))}}sx(tt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx extends da{constructor(e){super(),this.indexPath_=e,X(!Ce(e)&&we(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const o=this.extractChild(e.node),s=this.extractChild(n.node),a=o.compareTo(s);return a===0?Rr(e.name,n.name):a}makePost(e,n){const o=tt(e),s=fe.EMPTY_NODE.updateChild(this.indexPath_,o);return new Ee(n,s)}maxPost(){const e=fe.EMPTY_NODE.updateChild(this.indexPath_,Xo);return new Ee(Cr,e)}toString(){return Ao(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px extends da{compare(e,n){const o=e.node.compareTo(n.node);return o===0?Rr(e.name,n.name):o}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Ee.MIN}maxPost(){return Ee.MAX}makePost(e,n){const o=tt(e);return new Ee(n,o)}toString(){return".value"}}const mx=new px;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(t){return{type:"value",snapshotNode:t}}function di(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Mo(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Lo(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function gx(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e){this.index_=e}updateChild(e,n,o,s,a,c){X(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=e.getImmediateChild(n);return d.getChild(s).equals(o.getChild(s))&&d.isEmpty()===o.isEmpty()||(c!=null&&(o.isEmpty()?e.hasChild(n)?c.trackChildChange(Mo(n,d)):X(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?c.trackChildChange(di(n,o)):c.trackChildChange(Lo(n,o,d))),e.isLeafNode()&&o.isEmpty())?e:e.updateImmediateChild(n,o).withIndex(this.index_)}updateFullNode(e,n,o){return o!=null&&(e.isLeafNode()||e.forEachChild(He,(s,a)=>{n.hasChild(s)||o.trackChildChange(Mo(s,a))}),n.isLeafNode()||n.forEachChild(He,(s,a)=>{if(e.hasChild(s)){const c=e.getImmediateChild(s);c.equals(a)||o.trackChildChange(Lo(s,a,c))}else o.trackChildChange(di(s,a))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?fe.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this.indexedFilter_=new nd(e.getIndex()),this.index_=e.getIndex(),this.startPost_=bo.getStartPost_(e),this.endPost_=bo.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,o=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&o}updateChild(e,n,o,s,a,c){return this.matches(new Ee(n,o))||(o=fe.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,o,s,a,c)}updateFullNode(e,n,o){n.isLeafNode()&&(n=fe.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(fe.EMPTY_NODE);const a=this;return n.forEachChild(He,(c,d)=>{a.matches(new Ee(c,d))||(s=s.updateImmediateChild(c,fe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,o)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const o=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?o<=0:o<0},this.withinEndPost=n=>{const o=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?o<=0:o<0},this.rangedFilter_=new bo(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,o,s,a,c){return this.rangedFilter_.matches(new Ee(n,o))||(o=fe.EMPTY_NODE),e.getImmediateChild(n).equals(o)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,o,s,a,c):this.fullLimitUpdateChild_(e,n,o,a,c)}updateFullNode(e,n,o){let s;if(n.isLeafNode()||n.isEmpty())s=fe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=fe.EMPTY_NODE.withIndex(this.index_);let a;this.reverse_?a=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;a.hasNext()&&c<this.limit_;){const d=a.getNext();if(this.withinDirectionalStart(d))if(this.withinDirectionalEnd(d))s=s.updateImmediateChild(d.name,d.node),c++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(fe.EMPTY_NODE);let a;this.reverse_?a=s.getReverseIterator(this.index_):a=s.getIterator(this.index_);let c=0;for(;a.hasNext();){const d=a.getNext();c<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?c++:s=s.updateImmediateChild(d.name,fe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,o)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,o,s,a){let c;if(this.reverse_){const v=this.index_.getCompare();c=(_,w)=>v(w,_)}else c=this.index_.getCompare();const d=e;X(d.numChildren()===this.limit_,"");const h=new Ee(n,o),p=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),g=this.rangedFilter_.matches(h);if(d.hasChild(n)){const v=d.getImmediateChild(n);let _=s.getChildAfterChild(this.index_,p,this.reverse_);for(;_!=null&&(_.name===n||d.hasChild(_.name));)_=s.getChildAfterChild(this.index_,_,this.reverse_);const w=_==null?1:c(_,h);if(g&&!o.isEmpty()&&w>=0)return a!=null&&a.trackChildChange(Lo(n,o,v)),d.updateImmediateChild(n,o);{a!=null&&a.trackChildChange(Mo(n,v));const N=d.updateImmediateChild(n,fe.EMPTY_NODE);return _!=null&&this.rangedFilter_.matches(_)?(a!=null&&a.trackChildChange(di(_.name,_.node)),N.updateImmediateChild(_.name,_.node)):N}}else return o.isEmpty()?e:g&&c(p,h)>=0?(a!=null&&(a.trackChildChange(Mo(p.name,p.node)),a.trackChildChange(di(n,o))),d.updateImmediateChild(n,o).updateImmediateChild(p.name,fe.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=He}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return X(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return X(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:fi}hasEnd(){return this.endSet_}getIndexEndValue(){return X(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return X(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Cr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return X(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===He}copy(){const e=new rd;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function yx(t){return t.loadsAllData()?new nd(t.getIndex()):t.hasLimit()?new _x(t):new bo(t)}function Sg(t){const e={};if(t.isDefault())return e;let n;if(t.index_===He?n="$priority":t.index_===mx?n="$value":t.index_===li?n="$key":(X(t.index_ instanceof hx,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=nt(n),t.startSet_){const o=t.startAfterSet_?"startAfter":"startAt";e[o]=nt(t.indexStartValue_),t.startNameSet_&&(e[o]+=","+nt(t.indexStartName_))}if(t.endSet_){const o=t.endBeforeSet_?"endBefore":"endAt";e[o]=nt(t.indexEndValue_),t.endNameSet_&&(e[o]+=","+nt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function xg(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==He&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl extends ky{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(X(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,o,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=o,this.appCheckTokenProvider_=s,this.log_=Yo("p:rest:"),this.listens_={}}listen(e,n,o,s){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const c=Vl.getListenId_(e,o),d={};this.listens_[c]=d;const h=Sg(e._queryParams);this.restRequest_(a+".json",h,(p,g)=>{let v=g;if(p===404&&(v=null,p=null),p===null&&this.onDataUpdate_(a,v,!1,o),ci(this.listens_,c)===d){let _;p?p===401?_="permission_denied":_="rest_error:"+p:_="ok",s(_,null)}})}unlisten(e,n){const o=Vl.getListenId_(e,n);delete this.listens_[o]}get(e){const n=Sg(e._queryParams),o=e._path.toString(),s=new qo;return this.restRequest_(o+".json",n,(a,c)=>{let d=c;a===404&&(d=null,a=null),a===null?(this.onDataUpdate_(o,d,!1,null),s.resolve(d)):s.reject(new Error(d))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},o){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,a])=>{s&&s.accessToken&&(n.auth=s.accessToken),a&&a.token&&(n.ac=a.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+jE(n);this.log_("Sending REST request for "+c);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(o&&d.readyState===4){this.log_("REST Response for "+c+" received. status:",d.status,"response:",d.responseText);let h=null;if(d.status>=200&&d.status<300){try{h=Ro(d.responseText)}catch{gt("Failed to parse JSON response for "+c+": "+d.responseText)}o(null,h)}else d.status!==401&&d.status!==404&&gt("Got unsuccessful REST response for "+c+" Status: "+d.status),o(d.status);o=null}},d.open("GET",c,!0),d.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(){this.rootNode_=fe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(){return{value:null,children:new Map}}function by(t,e,n){if(Ce(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const o=we(e);t.children.has(o)||t.children.set(o,ql());const s=t.children.get(o);e=Me(e),by(s,e,n)}}function mf(t,e,n){t.value!==null?n(e,t.value):wx(t,(o,s)=>{const a=new Pe(e.toString()+"/"+o);mf(s,a,n)})}function wx(t,e){t.children.forEach((n,o)=>{e(o,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&lt(this.last_,(o,s)=>{n[o]=n[o]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg=10*1e3,Cx=30*1e3,Sx=5*60*1e3;class xx{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Ex(e);const o=Tg+(Cx-Tg)*Math.random();So(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const e=this.statsListener_.get(),n={};let o=!1;lt(e,(s,a)=>{a>0&&an(this.statsToReport_,s)&&(n[s]=a,o=!0)}),o&&this.server_.reportStats(n),So(this.reportStats_.bind(this),Math.floor(Math.random()*2*Sx))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Kt||(Kt={}));function id(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function od(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function sd(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n,o){this.path=e,this.affectedTree=n,this.revert=o,this.type=Kt.ACK_USER_WRITE,this.source=id()}operationForChild(e){if(Ce(this.path)){if(this.affectedTree.value!=null)return X(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Pe(e));return new Gl(Ne(),n,this.revert)}}else return X(we(this.path)===e,"operationForChild called for unrelated child."),new Gl(Me(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,n){this.source=e,this.path=n,this.type=Kt.LISTEN_COMPLETE}operationForChild(e){return Ce(this.path)?new Fo(this.source,Ne()):new Fo(this.source,Me(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e,n,o){this.source=e,this.path=n,this.snap=o,this.type=Kt.OVERWRITE}operationForChild(e){return Ce(this.path)?new Sr(this.source,Ne(),this.snap.getImmediateChild(e)):new Sr(this.source,Me(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,n,o){this.source=e,this.path=n,this.children=o,this.type=Kt.MERGE}operationForChild(e){if(Ce(this.path)){const n=this.children.subtree(new Pe(e));return n.isEmpty()?null:n.value?new Sr(this.source,Ne(),n.value):new hi(this.source,Ne(),n)}else return X(we(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new hi(this.source,Me(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,n,o){this.node_=e,this.fullyInitialized_=n,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ce(e))return this.isFullyInitialized()&&!this.filtered_;const n=we(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function kx(t,e,n,o){const s=[],a=[];return e.forEach(c=>{c.type==="child_changed"&&t.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&a.push(gx(c.childName,c.snapshotNode))}),mo(t,s,"child_removed",e,o,n),mo(t,s,"child_added",e,o,n),mo(t,s,"child_moved",a,o,n),mo(t,s,"child_changed",e,o,n),mo(t,s,"value",e,o,n),s}function mo(t,e,n,o,s,a){const c=o.filter(d=>d.type===n);c.sort((d,h)=>Ix(t,d,h)),c.forEach(d=>{const h=Nx(t,d,a);s.forEach(p=>{p.respondsTo(d.type)&&e.push(p.createEvent(h,t.query_))})})}function Nx(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Ix(t,e,n){if(e.childName==null||n.childName==null)throw vi("Should only compare child_ events.");const o=new Ee(e.childName,e.snapshotNode),s=new Ee(n.childName,n.snapshotNode);return t.index_.compare(o,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(t,e){return{eventCache:t,serverCache:e}}function xo(t,e,n,o){return ha(new xr(e,n,o),t.serverCache)}function Fy(t,e,n,o){return ha(t.eventCache,new xr(e,n,o))}function gf(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Tr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lc;const Rx=()=>(Lc||(Lc=new xt(hS)),Lc);class Oe{static fromObject(e){let n=new Oe(null);return lt(e,(o,s)=>{n=n.set(new Pe(o),s)}),n}constructor(e,n=Rx()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ne(),value:this.value};if(Ce(e))return null;{const o=we(e),s=this.children.get(o);if(s!==null){const a=s.findRootMostMatchingPathAndValue(Me(e),n);return a!=null?{path:Be(new Pe(o),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ce(e))return this;{const n=we(e),o=this.children.get(n);return o!==null?o.subtree(Me(e)):new Oe(null)}}set(e,n){if(Ce(e))return new Oe(n,this.children);{const o=we(e),a=(this.children.get(o)||new Oe(null)).set(Me(e),n),c=this.children.insert(o,a);return new Oe(this.value,c)}}remove(e){if(Ce(e))return this.children.isEmpty()?new Oe(null):new Oe(null,this.children);{const n=we(e),o=this.children.get(n);if(o){const s=o.remove(Me(e));let a;return s.isEmpty()?a=this.children.remove(n):a=this.children.insert(n,s),this.value===null&&a.isEmpty()?new Oe(null):new Oe(this.value,a)}else return this}}get(e){if(Ce(e))return this.value;{const n=we(e),o=this.children.get(n);return o?o.get(Me(e)):null}}setTree(e,n){if(Ce(e))return n;{const o=we(e),a=(this.children.get(o)||new Oe(null)).setTree(Me(e),n);let c;return a.isEmpty()?c=this.children.remove(o):c=this.children.insert(o,a),new Oe(this.value,c)}}fold(e){return this.fold_(Ne(),e)}fold_(e,n){const o={};return this.children.inorderTraversal((s,a)=>{o[s]=a.fold_(Be(e,s),n)}),n(e,this.value,o)}findOnPath(e,n){return this.findOnPath_(e,Ne(),n)}findOnPath_(e,n,o){const s=this.value?o(n,this.value):!1;if(s)return s;if(Ce(e))return null;{const a=we(e),c=this.children.get(a);return c?c.findOnPath_(Me(e),Be(n,a),o):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ne(),n)}foreachOnPath_(e,n,o){if(Ce(e))return this;{this.value&&o(n,this.value);const s=we(e),a=this.children.get(s);return a?a.foreachOnPath_(Me(e),Be(n,s),o):new Oe(null)}}foreach(e){this.foreach_(Ne(),e)}foreach_(e,n){this.children.inorderTraversal((o,s)=>{s.foreach_(Be(e,o),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,o)=>{o.value&&e(n,o.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.writeTree_=e}static empty(){return new Yt(new Oe(null))}}function To(t,e,n){if(Ce(e))return new Yt(new Oe(n));{const o=t.writeTree_.findRootMostValueAndPath(e);if(o!=null){const s=o.path;let a=o.value;const c=St(s,e);return a=a.updateChild(c,n),new Yt(t.writeTree_.set(s,a))}else{const s=new Oe(n),a=t.writeTree_.setTree(e,s);return new Yt(a)}}}function _f(t,e,n){let o=t;return lt(n,(s,a)=>{o=To(o,Be(e,s),a)}),o}function kg(t,e){if(Ce(e))return Yt.empty();{const n=t.writeTree_.setTree(e,new Oe(null));return new Yt(n)}}function yf(t,e){return Pr(t,e)!=null}function Pr(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(St(n.path,e)):null}function Ng(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(He,(o,s)=>{e.push(new Ee(o,s))}):t.writeTree_.children.inorderTraversal((o,s)=>{s.value!=null&&e.push(new Ee(o,s.value))}),e}function Yn(t,e){if(Ce(e))return t;{const n=Pr(t,e);return n!=null?new Yt(new Oe(n)):new Yt(t.writeTree_.subtree(e))}}function vf(t){return t.writeTree_.isEmpty()}function pi(t,e){return zy(Ne(),t.writeTree_,e)}function zy(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let o=null;return e.children.inorderTraversal((s,a)=>{s===".priority"?(X(a.value!==null,"Priority writes must always be leaf nodes"),o=a.value):n=zy(Be(t,s),a,n)}),!n.getChild(t).isEmpty()&&o!==null&&(n=n.updateChild(Be(t,".priority"),o)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(t,e){return By(e,t)}function Px(t,e,n,o,s){X(o>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:o,visible:s}),s&&(t.visibleWrites=To(t.visibleWrites,e,n)),t.lastWriteId=o}function Dx(t,e,n,o){X(o>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:o,visible:!0}),t.visibleWrites=_f(t.visibleWrites,e,n),t.lastWriteId=o}function Ox(t,e){for(let n=0;n<t.allWrites.length;n++){const o=t.allWrites[n];if(o.writeId===e)return o}return null}function Ax(t,e){const n=t.allWrites.findIndex(d=>d.writeId===e);X(n>=0,"removeWrite called with nonexistent writeId.");const o=t.allWrites[n];t.allWrites.splice(n,1);let s=o.visible,a=!1,c=t.allWrites.length-1;for(;s&&c>=0;){const d=t.allWrites[c];d.visible&&(c>=n&&Mx(d,o.path)?s=!1:$t(o.path,d.path)&&(a=!0)),c--}if(s){if(a)return Lx(t),!0;if(o.snap)t.visibleWrites=kg(t.visibleWrites,o.path);else{const d=o.children;lt(d,h=>{t.visibleWrites=kg(t.visibleWrites,Be(o.path,h))})}return!0}else return!1}function Mx(t,e){if(t.snap)return $t(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&$t(Be(t.path,n),e))return!0;return!1}function Lx(t){t.visibleWrites=$y(t.allWrites,bx,Ne()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function bx(t){return t.visible}function $y(t,e,n){let o=Yt.empty();for(let s=0;s<t.length;++s){const a=t[s];if(e(a)){const c=a.path;let d;if(a.snap)$t(n,c)?(d=St(n,c),o=To(o,d,a.snap)):$t(c,n)&&(d=St(c,n),o=To(o,Ne(),a.snap.getChild(d)));else if(a.children){if($t(n,c))d=St(n,c),o=_f(o,d,a.children);else if($t(c,n))if(d=St(c,n),Ce(d))o=_f(o,Ne(),a.children);else{const h=ci(a.children,we(d));if(h){const p=h.getChild(Me(d));o=To(o,Ne(),p)}}}else throw vi("WriteRecord should have .snap or .children")}}return o}function Uy(t,e,n,o,s){if(!o&&!s){const a=Pr(t.visibleWrites,e);if(a!=null)return a;{const c=Yn(t.visibleWrites,e);if(vf(c))return n;if(n==null&&!yf(c,Ne()))return null;{const d=n||fe.EMPTY_NODE;return pi(c,d)}}}else{const a=Yn(t.visibleWrites,e);if(!s&&vf(a))return n;if(!s&&n==null&&!yf(a,Ne()))return null;{const c=function(p){return(p.visible||s)&&(!o||!~o.indexOf(p.writeId))&&($t(p.path,e)||$t(e,p.path))},d=$y(t.allWrites,c,e),h=n||fe.EMPTY_NODE;return pi(d,h)}}}function Fx(t,e,n){let o=fe.EMPTY_NODE;const s=Pr(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(He,(a,c)=>{o=o.updateImmediateChild(a,c)}),o;if(n){const a=Yn(t.visibleWrites,e);return n.forEachChild(He,(c,d)=>{const h=pi(Yn(a,new Pe(c)),d);o=o.updateImmediateChild(c,h)}),Ng(a).forEach(c=>{o=o.updateImmediateChild(c.name,c.node)}),o}else{const a=Yn(t.visibleWrites,e);return Ng(a).forEach(c=>{o=o.updateImmediateChild(c.name,c.node)}),o}}function zx(t,e,n,o,s){X(o||s,"Either existingEventSnap or existingServerSnap must exist");const a=Be(e,n);if(yf(t.visibleWrites,a))return null;{const c=Yn(t.visibleWrites,a);return vf(c)?s.getChild(n):pi(c,s.getChild(n))}}function $x(t,e,n,o){const s=Be(e,n),a=Pr(t.visibleWrites,s);if(a!=null)return a;if(o.isCompleteForChild(n)){const c=Yn(t.visibleWrites,s);return pi(c,o.getNode().getImmediateChild(n))}else return null}function Ux(t,e){return Pr(t.visibleWrites,e)}function Wx(t,e,n,o,s,a,c){let d;const h=Yn(t.visibleWrites,e),p=Pr(h,Ne());if(p!=null)d=p;else if(n!=null)d=pi(h,n);else return[];if(d=d.withIndex(c),!d.isEmpty()&&!d.isLeafNode()){const g=[],v=c.getCompare(),_=a?d.getReverseIteratorFrom(o,c):d.getIteratorFrom(o,c);let w=_.getNext();for(;w&&g.length<s;)v(w,o)!==0&&g.push(w),w=_.getNext();return g}else return[]}function Bx(){return{visibleWrites:Yt.empty(),allWrites:[],lastWriteId:-1}}function Ql(t,e,n,o){return Uy(t.writeTree,t.treePath,e,n,o)}function ad(t,e){return Fx(t.writeTree,t.treePath,e)}function Ig(t,e,n,o){return zx(t.writeTree,t.treePath,e,n,o)}function Kl(t,e){return Ux(t.writeTree,Be(t.treePath,e))}function Hx(t,e,n,o,s,a){return Wx(t.writeTree,t.treePath,e,n,o,s,a)}function ud(t,e,n){return $x(t.writeTree,t.treePath,e,n)}function Wy(t,e){return By(Be(t.treePath,e),t.writeTree)}function By(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,o=e.childName;X(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),X(o!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(o);if(s){const a=s.type;if(n==="child_added"&&a==="child_removed")this.changeMap.set(o,Lo(o,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&a==="child_added")this.changeMap.delete(o);else if(n==="child_removed"&&a==="child_changed")this.changeMap.set(o,Mo(o,s.oldSnap));else if(n==="child_changed"&&a==="child_added")this.changeMap.set(o,di(o,e.snapshotNode));else if(n==="child_changed"&&a==="child_changed")this.changeMap.set(o,Lo(o,e.snapshotNode,s.oldSnap));else throw vi("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(o,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{getCompleteChild(e){return null}getChildAfterChild(e,n,o){return null}}const Hy=new Vx;class cd{constructor(e,n,o=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=o}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const o=this.optCompleteServerCache_!=null?new xr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ud(this.writes_,e,o)}}getChildAfterChild(e,n,o){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Tr(this.viewCache_),a=Hx(this.writes_,s,n,1,o,e);return a.length===0?null:a[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(t){return{filter:t}}function Gx(t,e){X(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),X(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Qx(t,e,n,o,s){const a=new jx;let c,d;if(n.type===Kt.OVERWRITE){const p=n;p.source.fromUser?c=wf(t,e,p.path,p.snap,o,s,a):(X(p.source.fromServer,"Unknown source."),d=p.source.tagged||e.serverCache.isFiltered()&&!Ce(p.path),c=Yl(t,e,p.path,p.snap,o,s,d,a))}else if(n.type===Kt.MERGE){const p=n;p.source.fromUser?c=Yx(t,e,p.path,p.children,o,s,a):(X(p.source.fromServer,"Unknown source."),d=p.source.tagged||e.serverCache.isFiltered(),c=Ef(t,e,p.path,p.children,o,s,d,a))}else if(n.type===Kt.ACK_USER_WRITE){const p=n;p.revert?c=Zx(t,e,p.path,o,s,a):c=Xx(t,e,p.path,p.affectedTree,o,s,a)}else if(n.type===Kt.LISTEN_COMPLETE)c=Jx(t,e,n.path,o,a);else throw vi("Unknown operation type: "+n.type);const h=a.getChanges();return Kx(e,c,h),{viewCache:c,changes:h}}function Kx(t,e,n){const o=e.eventCache;if(o.isFullyInitialized()){const s=o.getNode().isLeafNode()||o.getNode().isEmpty(),a=gf(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!o.getNode().equals(a)||!o.getNode().getPriority().equals(a.getPriority()))&&n.push(Ly(gf(e)))}}function jy(t,e,n,o,s,a){const c=e.eventCache;if(Kl(o,n)!=null)return e;{let d,h;if(Ce(n))if(X(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=Tr(e),g=p instanceof fe?p:fe.EMPTY_NODE,v=ad(o,g);d=t.filter.updateFullNode(e.eventCache.getNode(),v,a)}else{const p=Ql(o,Tr(e));d=t.filter.updateFullNode(e.eventCache.getNode(),p,a)}else{const p=we(n);if(p===".priority"){X(Jn(n)===1,"Can't have a priority with additional path components");const g=c.getNode();h=e.serverCache.getNode();const v=Ig(o,n,g,h);v!=null?d=t.filter.updatePriority(g,v):d=c.getNode()}else{const g=Me(n);let v;if(c.isCompleteForChild(p)){h=e.serverCache.getNode();const _=Ig(o,n,c.getNode(),h);_!=null?v=c.getNode().getImmediateChild(p).updateChild(g,_):v=c.getNode().getImmediateChild(p)}else v=ud(o,p,e.serverCache);v!=null?d=t.filter.updateChild(c.getNode(),p,v,g,s,a):d=c.getNode()}}return xo(e,d,c.isFullyInitialized()||Ce(n),t.filter.filtersNodes())}}function Yl(t,e,n,o,s,a,c,d){const h=e.serverCache;let p;const g=c?t.filter:t.filter.getIndexedFilter();if(Ce(n))p=g.updateFullNode(h.getNode(),o,null);else if(g.filtersNodes()&&!h.isFiltered()){const w=h.getNode().updateChild(n,o);p=g.updateFullNode(h.getNode(),w,null)}else{const w=we(n);if(!h.isCompleteForPath(n)&&Jn(n)>1)return e;const C=Me(n),I=h.getNode().getImmediateChild(w).updateChild(C,o);w===".priority"?p=g.updatePriority(h.getNode(),I):p=g.updateChild(h.getNode(),w,I,C,Hy,null)}const v=Fy(e,p,h.isFullyInitialized()||Ce(n),g.filtersNodes()),_=new cd(s,v,a);return jy(t,v,n,s,_,d)}function wf(t,e,n,o,s,a,c){const d=e.eventCache;let h,p;const g=new cd(s,e,a);if(Ce(n))p=t.filter.updateFullNode(e.eventCache.getNode(),o,c),h=xo(e,p,!0,t.filter.filtersNodes());else{const v=we(n);if(v===".priority")p=t.filter.updatePriority(e.eventCache.getNode(),o),h=xo(e,p,d.isFullyInitialized(),d.isFiltered());else{const _=Me(n),w=d.getNode().getImmediateChild(v);let C;if(Ce(_))C=o;else{const N=g.getCompleteChild(v);N!=null?Jf(_)===".priority"&&N.getChild(Iy(_)).isEmpty()?C=N:C=N.updateChild(_,o):C=fe.EMPTY_NODE}if(w.equals(C))h=e;else{const N=t.filter.updateChild(d.getNode(),v,C,_,g,c);h=xo(e,N,d.isFullyInitialized(),t.filter.filtersNodes())}}}return h}function Rg(t,e){return t.eventCache.isCompleteForChild(e)}function Yx(t,e,n,o,s,a,c){let d=e;return o.foreach((h,p)=>{const g=Be(n,h);Rg(e,we(g))&&(d=wf(t,d,g,p,s,a,c))}),o.foreach((h,p)=>{const g=Be(n,h);Rg(e,we(g))||(d=wf(t,d,g,p,s,a,c))}),d}function Pg(t,e,n){return n.foreach((o,s)=>{e=e.updateChild(o,s)}),e}function Ef(t,e,n,o,s,a,c,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let h=e,p;Ce(n)?p=o:p=new Oe(null).setTree(n,o);const g=e.serverCache.getNode();return p.children.inorderTraversal((v,_)=>{if(g.hasChild(v)){const w=e.serverCache.getNode().getImmediateChild(v),C=Pg(t,w,_);h=Yl(t,h,new Pe(v),C,s,a,c,d)}}),p.children.inorderTraversal((v,_)=>{const w=!e.serverCache.isCompleteForChild(v)&&_.value===null;if(!g.hasChild(v)&&!w){const C=e.serverCache.getNode().getImmediateChild(v),N=Pg(t,C,_);h=Yl(t,h,new Pe(v),N,s,a,c,d)}}),h}function Xx(t,e,n,o,s,a,c){if(Kl(s,n)!=null)return e;const d=e.serverCache.isFiltered(),h=e.serverCache;if(o.value!=null){if(Ce(n)&&h.isFullyInitialized()||h.isCompleteForPath(n))return Yl(t,e,n,h.getNode().getChild(n),s,a,d,c);if(Ce(n)){let p=new Oe(null);return h.getNode().forEachChild(li,(g,v)=>{p=p.set(new Pe(g),v)}),Ef(t,e,n,p,s,a,d,c)}else return e}else{let p=new Oe(null);return o.foreach((g,v)=>{const _=Be(n,g);h.isCompleteForPath(_)&&(p=p.set(g,h.getNode().getChild(_)))}),Ef(t,e,n,p,s,a,d,c)}}function Jx(t,e,n,o,s){const a=e.serverCache,c=Fy(e,a.getNode(),a.isFullyInitialized()||Ce(n),a.isFiltered());return jy(t,c,n,o,Hy,s)}function Zx(t,e,n,o,s,a){let c;if(Kl(o,n)!=null)return e;{const d=new cd(o,e,s),h=e.eventCache.getNode();let p;if(Ce(n)||we(n)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=Ql(o,Tr(e));else{const v=e.serverCache.getNode();X(v instanceof fe,"serverChildren would be complete if leaf node"),g=ad(o,v)}g=g,p=t.filter.updateFullNode(h,g,a)}else{const g=we(n);let v=ud(o,g,e.serverCache);v==null&&e.serverCache.isCompleteForChild(g)&&(v=h.getImmediateChild(g)),v!=null?p=t.filter.updateChild(h,g,v,Me(n),d,a):e.eventCache.getNode().hasChild(g)?p=t.filter.updateChild(h,g,fe.EMPTY_NODE,Me(n),d,a):p=h,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=Ql(o,Tr(e)),c.isLeafNode()&&(p=t.filter.updateFullNode(p,c,a)))}return c=e.serverCache.isFullyInitialized()||Kl(o,Ne())!=null,xo(e,p,c,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const o=this.query_._queryParams,s=new nd(o.getIndex()),a=yx(o);this.processor_=qx(a);const c=n.serverCache,d=n.eventCache,h=s.updateFullNode(fe.EMPTY_NODE,c.getNode(),null),p=a.updateFullNode(fe.EMPTY_NODE,d.getNode(),null),g=new xr(h,c.isFullyInitialized(),s.filtersNodes()),v=new xr(p,d.isFullyInitialized(),a.filtersNodes());this.viewCache_=ha(v,g),this.eventGenerator_=new Tx(this.query_)}get query(){return this.query_}}function tT(t){return t.viewCache_.serverCache.getNode()}function nT(t,e){const n=Tr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Ce(e)&&!n.getImmediateChild(we(e)).isEmpty())?n.getChild(e):null}function Dg(t){return t.eventRegistrations_.length===0}function rT(t,e){t.eventRegistrations_.push(e)}function Og(t,e,n){const o=[];if(n){X(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(a=>{const c=a.createCancelEvent(n,s);c&&o.push(c)})}if(e){let s=[];for(let a=0;a<t.eventRegistrations_.length;++a){const c=t.eventRegistrations_[a];if(!c.matches(e))s.push(c);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(a+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return o}function Ag(t,e,n,o){e.type===Kt.MERGE&&e.source.queryId!==null&&(X(Tr(t.viewCache_),"We should always have a full cache before handling merges"),X(gf(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,a=Qx(t.processor_,s,e,n,o);return Gx(t.processor_,a.viewCache),X(a.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=a.viewCache,Vy(t,a.changes,a.viewCache.eventCache.getNode(),null)}function iT(t,e){const n=t.viewCache_.eventCache,o=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(He,(a,c)=>{o.push(di(a,c))}),n.isFullyInitialized()&&o.push(Ly(n.getNode())),Vy(t,o,n.getNode(),e)}function Vy(t,e,n,o){const s=o?[o]:t.eventRegistrations_;return kx(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xl;class oT{constructor(){this.views=new Map}}function sT(t){X(!Xl,"__referenceConstructor has already been defined"),Xl=t}function lT(){return X(Xl,"Reference.ts has not been loaded"),Xl}function aT(t){return t.views.size===0}function fd(t,e,n,o){const s=e.source.queryId;if(s!==null){const a=t.views.get(s);return X(a!=null,"SyncTree gave us an op for an invalid query."),Ag(a,e,n,o)}else{let a=[];for(const c of t.views.values())a=a.concat(Ag(c,e,n,o));return a}}function uT(t,e,n,o,s){const a=e._queryIdentifier,c=t.views.get(a);if(!c){let d=Ql(n,s?o:null),h=!1;d?h=!0:o instanceof fe?(d=ad(n,o),h=!1):(d=fe.EMPTY_NODE,h=!1);const p=ha(new xr(d,h,!1),new xr(o,s,!1));return new eT(e,p)}return c}function cT(t,e,n,o,s,a){const c=uT(t,e,o,s,a);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,c),rT(c,n),iT(c,n)}function fT(t,e,n,o){const s=e._queryIdentifier,a=[];let c=[];const d=Zn(t);if(s==="default")for(const[h,p]of t.views.entries())c=c.concat(Og(p,n,o)),Dg(p)&&(t.views.delete(h),p.query._queryParams.loadsAllData()||a.push(p.query));else{const h=t.views.get(s);h&&(c=c.concat(Og(h,n,o)),Dg(h)&&(t.views.delete(s),h.query._queryParams.loadsAllData()||a.push(h.query)))}return d&&!Zn(t)&&a.push(new(lT())(e._repo,e._path)),{removed:a,events:c}}function qy(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ai(t,e){let n=null;for(const o of t.views.values())n=n||nT(o,e);return n}function Gy(t,e){if(e._queryParams.loadsAllData())return pa(t);{const o=e._queryIdentifier;return t.views.get(o)}}function Qy(t,e){return Gy(t,e)!=null}function Zn(t){return pa(t)!=null}function pa(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jl;function dT(t){X(!Jl,"__referenceConstructor has already been defined"),Jl=t}function hT(){return X(Jl,"Reference.ts has not been loaded"),Jl}let pT=1;class Mg{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Oe(null),this.pendingWriteTree_=Bx(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Ky(t,e,n,o,s){return Px(t.pendingWriteTree_,e,n,o,s),s?Ei(t,new Sr(id(),e,n)):[]}function mT(t,e,n,o){Dx(t.pendingWriteTree_,e,n,o);const s=Oe.fromObject(n);return Ei(t,new hi(id(),e,s))}function Gn(t,e,n=!1){const o=Ox(t.pendingWriteTree_,e);if(Ax(t.pendingWriteTree_,e)){let a=new Oe(null);return o.snap!=null?a=a.set(Ne(),!0):lt(o.children,c=>{a=a.set(new Pe(c),!0)}),Ei(t,new Gl(o.path,a,n))}else return[]}function ma(t,e,n){return Ei(t,new Sr(od(),e,n))}function gT(t,e,n){const o=Oe.fromObject(n);return Ei(t,new hi(od(),e,o))}function _T(t,e){return Ei(t,new Fo(od(),e))}function yT(t,e,n){const o=hd(t,n);if(o){const s=pd(o),a=s.path,c=s.queryId,d=St(a,e),h=new Fo(sd(c),d);return md(t,a,h)}else return[]}function Cf(t,e,n,o,s=!1){const a=e._path,c=t.syncPointTree_.get(a);let d=[];if(c&&(e._queryIdentifier==="default"||Qy(c,e))){const h=fT(c,e,n,o);aT(c)&&(t.syncPointTree_=t.syncPointTree_.remove(a));const p=h.removed;if(d=h.events,!s){const g=p.findIndex(_=>_._queryParams.loadsAllData())!==-1,v=t.syncPointTree_.findOnPath(a,(_,w)=>Zn(w));if(g&&!v){const _=t.syncPointTree_.subtree(a);if(!_.isEmpty()){const w=ET(_);for(let C=0;C<w.length;++C){const N=w[C],I=N.query,k=Jy(t,N);t.listenProvider_.startListening(ko(I),Zl(t,I),k.hashFn,k.onComplete)}}}!v&&p.length>0&&!o&&(g?t.listenProvider_.stopListening(ko(e),null):p.forEach(_=>{const w=t.queryToTagMap.get(ga(_));t.listenProvider_.stopListening(ko(_),w)}))}CT(t,p)}return d}function vT(t,e,n,o){const s=hd(t,o);if(s!=null){const a=pd(s),c=a.path,d=a.queryId,h=St(c,e),p=new Sr(sd(d),h,n);return md(t,c,p)}else return[]}function wT(t,e,n,o){const s=hd(t,o);if(s){const a=pd(s),c=a.path,d=a.queryId,h=St(c,e),p=Oe.fromObject(n),g=new hi(sd(d),h,p);return md(t,c,g)}else return[]}function Lg(t,e,n,o=!1){const s=e._path;let a=null,c=!1;t.syncPointTree_.foreachOnPath(s,(_,w)=>{const C=St(_,s);a=a||ai(w,C),c=c||Zn(w)});let d=t.syncPointTree_.get(s);d?(c=c||Zn(d),a=a||ai(d,Ne())):(d=new oT,t.syncPointTree_=t.syncPointTree_.set(s,d));let h;a!=null?h=!0:(h=!1,a=fe.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((w,C)=>{const N=ai(C,Ne());N&&(a=a.updateImmediateChild(w,N))}));const p=Qy(d,e);if(!p&&!e._queryParams.loadsAllData()){const _=ga(e);X(!t.queryToTagMap.has(_),"View does not exist, but we have a tag");const w=ST();t.queryToTagMap.set(_,w),t.tagToQueryMap.set(w,_)}const g=ld(t.pendingWriteTree_,s);let v=cT(d,e,n,g,a,h);if(!p&&!c&&!o){const _=Gy(d,e);v=v.concat(xT(t,e,_))}return v}function dd(t,e,n){const s=t.pendingWriteTree_,a=t.syncPointTree_.findOnPath(e,(c,d)=>{const h=St(c,e),p=ai(d,h);if(p)return p});return Uy(s,e,a,n,!0)}function Ei(t,e){return Yy(e,t.syncPointTree_,null,ld(t.pendingWriteTree_,Ne()))}function Yy(t,e,n,o){if(Ce(t.path))return Xy(t,e,n,o);{const s=e.get(Ne());n==null&&s!=null&&(n=ai(s,Ne()));let a=[];const c=we(t.path),d=t.operationForChild(c),h=e.children.get(c);if(h&&d){const p=n?n.getImmediateChild(c):null,g=Wy(o,c);a=a.concat(Yy(d,h,p,g))}return s&&(a=a.concat(fd(s,t,o,n))),a}}function Xy(t,e,n,o){const s=e.get(Ne());n==null&&s!=null&&(n=ai(s,Ne()));let a=[];return e.children.inorderTraversal((c,d)=>{const h=n?n.getImmediateChild(c):null,p=Wy(o,c),g=t.operationForChild(c);g&&(a=a.concat(Xy(g,d,h,p)))}),s&&(a=a.concat(fd(s,t,o,n))),a}function Jy(t,e){const n=e.query,o=Zl(t,n);return{hashFn:()=>(tT(e)||fe.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return o?yT(t,n._path,o):_T(t,n._path);{const a=gS(s,n);return Cf(t,n,null,a)}}}}function Zl(t,e){const n=ga(e);return t.queryToTagMap.get(n)}function ga(t){return t._path.toString()+"$"+t._queryIdentifier}function hd(t,e){return t.tagToQueryMap.get(e)}function pd(t){const e=t.indexOf("$");return X(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Pe(t.substr(0,e))}}function md(t,e,n){const o=t.syncPointTree_.get(e);X(o,"Missing sync point for query tag that we're tracking");const s=ld(t.pendingWriteTree_,e);return fd(o,n,s,null)}function ET(t){return t.fold((e,n,o)=>{if(n&&Zn(n))return[pa(n)];{let s=[];return n&&(s=qy(n)),lt(o,(a,c)=>{s=s.concat(c)}),s}})}function ko(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(hT())(t._repo,t._path):t}function CT(t,e){for(let n=0;n<e.length;++n){const o=e[n];if(!o._queryParams.loadsAllData()){const s=ga(o),a=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(a)}}}function ST(){return pT++}function xT(t,e,n){const o=e._path,s=Zl(t,e),a=Jy(t,n),c=t.listenProvider_.startListening(ko(e),s,a.hashFn,a.onComplete),d=t.syncPointTree_.subtree(o);if(s)X(!Zn(d.value),"If we're adding a query, it shouldn't be shadowed");else{const h=d.fold((p,g,v)=>{if(!Ce(p)&&g&&Zn(g))return[pa(g).query];{let _=[];return g&&(_=_.concat(qy(g).map(w=>w.query))),lt(v,(w,C)=>{_=_.concat(C)}),_}});for(let p=0;p<h.length;++p){const g=h[p];t.listenProvider_.stopListening(ko(g),Zl(t,g))}}return c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new gd(n)}node(){return this.node_}}class _d{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Be(this.path_,e);return new _d(this.syncTree_,n)}node(){return dd(this.syncTree_,this.path_)}}const TT=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},bg=function(t,e,n){if(!t||typeof t!="object")return t;if(X(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return kT(t[".sv"],e,n);if(typeof t[".sv"]=="object")return NT(t[".sv"],e);X(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},kT=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:X(!1,"Unexpected server value: "+t)}},NT=function(t,e,n){t.hasOwnProperty("increment")||X(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const o=t.increment;typeof o!="number"&&X(!1,"Unexpected increment value: "+o);const s=e.node();if(X(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return o;const c=s.getValue();return typeof c!="number"?o:c+o},Zy=function(t,e,n,o){return yd(e,new _d(n,t),o)},ev=function(t,e,n){return yd(t,new gd(e),n)};function yd(t,e,n){const o=t.getPriority().val(),s=bg(o,e.getImmediateChild(".priority"),n);let a;if(t.isLeafNode()){const c=t,d=bg(c.getValue(),e,n);return d!==c.getValue()||s!==c.getPriority().val()?new Ze(d,tt(s)):t}else{const c=t;return a=c,s!==c.getPriority().val()&&(a=a.updatePriority(new Ze(s))),c.forEachChild(He,(d,h)=>{const p=yd(h,e.getImmediateChild(d),n);p!==h&&(a=a.updateImmediateChild(d,p))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vd=class{constructor(e="",n=null,o={children:{},childCount:0}){this.name=e,this.parent=n,this.node=o}};function wd(t,e){let n=e instanceof Pe?e:new Pe(e),o=t,s=we(n);for(;s!==null;){const a=ci(o.node.children,s)||{children:{},childCount:0};o=new vd(s,o,a),n=Me(n),s=we(n)}return o}function Ci(t){return t.node.value}function tv(t,e){t.node.value=e,Sf(t)}function nv(t){return t.node.childCount>0}function IT(t){return Ci(t)===void 0&&!nv(t)}function _a(t,e){lt(t.node.children,(n,o)=>{e(new vd(n,t,o))})}function rv(t,e,n,o){n&&!o&&e(t),_a(t,s=>{rv(s,e,!0,o)}),n&&o&&e(t)}function RT(t,e,n){let o=t.parent;for(;o!==null;){if(e(o))return!0;o=o.parent}return!1}function Jo(t){return new Pe(t.parent===null?t.name:Jo(t.parent)+"/"+t.name)}function Sf(t){t.parent!==null&&PT(t.parent,t.name,t)}function PT(t,e,n){const o=IT(n),s=an(t.node.children,e);o&&s?(delete t.node.children[e],t.node.childCount--,Sf(t)):!o&&!s&&(t.node.children[e]=n.node,t.node.childCount++,Sf(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=/[\[\].#$\/\u0000-\u001F\u007F]/,OT=/[\[\].#$\u0000-\u001F\u007F]/,bc=10*1024*1024,Ed=function(t){return typeof t=="string"&&t.length!==0&&!DT.test(t)},iv=function(t){return typeof t=="string"&&t.length!==0&&!OT.test(t)},AT=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),iv(t)},MT=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Gf(t)||t&&typeof t=="object"&&an(t,".sv")},LT=function(t,e,n,o){ya(ca(t,"value"),e,n)},ya=function(t,e,n){const o=n instanceof Pe?new YS(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+_r(o));if(typeof e=="function")throw new Error(t+"contains a function "+_r(o)+" with contents = "+e.toString());if(Gf(e))throw new Error(t+"contains "+e.toString()+" "+_r(o));if(typeof e=="string"&&e.length>bc/3&&fa(e)>bc)throw new Error(t+"contains a string greater than "+bc+" utf8 bytes "+_r(o)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,a=!1;if(lt(e,(c,d)=>{if(c===".value")s=!0;else if(c!==".priority"&&c!==".sv"&&(a=!0,!Ed(c)))throw new Error(t+" contains an invalid key ("+c+") "+_r(o)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);XS(o,c),ya(t,d,o),JS(o)}),s&&a)throw new Error(t+' contains ".value" child '+_r(o)+" in addition to actual children.")}},bT=function(t,e){let n,o;for(n=0;n<e.length;n++){o=e[n];const a=Ao(o);for(let c=0;c<a.length;c++)if(!(a[c]===".priority"&&c===a.length-1)){if(!Ed(a[c]))throw new Error(t+"contains an invalid key ("+a[c]+") in path "+o.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(KS);let s=null;for(n=0;n<e.length;n++){if(o=e[n],s!==null&&$t(s,o))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+o.toString());s=o}},FT=function(t,e,n,o){const s=ca(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");const a=[];lt(e,(c,d)=>{const h=new Pe(c);if(ya(s,d,Be(n,h)),Jf(h)===".priority"&&!MT(d))throw new Error(s+"contains an invalid value for '"+h.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(h)}),bT(s,a)},ov=function(t,e,n,o){if(!iv(n))throw new Error(ca(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},zT=function(t,e,n,o){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ov(t,e,n)},$T=function(t,e){if(we(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},UT=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Ed(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!AT(n))throw new Error(ca(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function va(t,e){let n=null;for(let o=0;o<e.length;o++){const s=e[o],a=s.getPath();n!==null&&!Zf(a,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:a}),n.events.push(s)}n&&t.eventLists_.push(n)}function sv(t,e,n){va(t,n),lv(t,o=>Zf(o,e))}function Jt(t,e,n){va(t,n),lv(t,o=>$t(o,e)||$t(e,o))}function lv(t,e){t.recursionDepth_++;let n=!0;for(let o=0;o<t.eventLists_.length;o++){const s=t.eventLists_[o];if(s){const a=s.path;e(a)?(BT(t.eventLists_[o]),t.eventLists_[o]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function BT(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const o=n.getEventRunner();Co&&st("event: "+n.toString()),wi(o)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="repo_interrupt",jT=25;class VT{constructor(e,n,o,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=o,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new WT,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ql(),this.transactionQueueTree_=new vd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function qT(t,e,n){if(t.stats_=Yf(t.repoInfo_),t.forceRestClient_||wS())t.server_=new Vl(t.repoInfo_,(o,s,a,c)=>{Fg(t,o,s,a,c)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>zg(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{nt(n)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}t.persistentConnection_=new Cn(t.repoInfo_,e,(o,s,a,c)=>{Fg(t,o,s,a,c)},o=>{zg(t,o)},o=>{QT(t,o)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(o=>{t.server_.refreshAuthToken(o)}),t.appCheckProvider_.addTokenChangeListener(o=>{t.server_.refreshAppCheckToken(o.token)}),t.statsReporter_=TS(t.repoInfo_,()=>new xx(t.stats_,t.server_)),t.infoData_=new vx,t.infoSyncTree_=new Mg({startListening:(o,s,a,c)=>{let d=[];const h=t.infoData_.getNode(o._path);return h.isEmpty()||(d=ma(t.infoSyncTree_,o._path,h),setTimeout(()=>{c("ok")},0)),d},stopListening:()=>{}}),Cd(t,"connected",!1),t.serverSyncTree_=new Mg({startListening:(o,s,a,c)=>(t.server_.listen(o,a,s,(d,h)=>{const p=c(d,h);Jt(t.eventQueue_,o._path,p)}),[]),stopListening:(o,s)=>{t.server_.unlisten(o,s)}})}function GT(t){const n=t.infoData_.getNode(new Pe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function wa(t){return TT({timestamp:GT(t)})}function Fg(t,e,n,o,s){t.dataUpdateCount++;const a=new Pe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let c=[];if(s)if(o){const h=$l(n,p=>tt(p));c=wT(t.serverSyncTree_,a,h,s)}else{const h=tt(n);c=vT(t.serverSyncTree_,a,h,s)}else if(o){const h=$l(n,p=>tt(p));c=gT(t.serverSyncTree_,a,h)}else{const h=tt(n);c=ma(t.serverSyncTree_,a,h)}let d=a;c.length>0&&(d=mi(t,a)),Jt(t.eventQueue_,d,c)}function zg(t,e){Cd(t,"connected",e),e===!1&&XT(t)}function QT(t,e){lt(e,(n,o)=>{Cd(t,n,o)})}function Cd(t,e,n){const o=new Pe("/.info/"+e),s=tt(n);t.infoData_.updateSnapshot(o,s);const a=ma(t.infoSyncTree_,o,s);Jt(t.eventQueue_,o,a)}function Sd(t){return t.nextWriteId_++}function KT(t,e,n,o,s){Ea(t,"set",{path:e.toString(),value:n,priority:o});const a=wa(t),c=tt(n,o),d=dd(t.serverSyncTree_,e),h=ev(c,d,a),p=Sd(t),g=Ky(t.serverSyncTree_,e,h,p,!0);va(t.eventQueue_,g),t.server_.put(e.toString(),c.val(!0),(_,w)=>{const C=_==="ok";C||gt("set at "+e+" failed: "+_);const N=Gn(t.serverSyncTree_,p,!C);Jt(t.eventQueue_,e,N),xf(t,s,_,w)});const v=Td(t,e);mi(t,v),Jt(t.eventQueue_,v,[])}function YT(t,e,n,o){Ea(t,"update",{path:e.toString(),value:n});let s=!0;const a=wa(t),c={};if(lt(n,(d,h)=>{s=!1,c[d]=Zy(Be(e,d),tt(h),t.serverSyncTree_,a)}),s)st("update() called with empty data.  Don't do anything."),xf(t,o,"ok",void 0);else{const d=Sd(t),h=mT(t.serverSyncTree_,e,c,d);va(t.eventQueue_,h),t.server_.merge(e.toString(),n,(p,g)=>{const v=p==="ok";v||gt("update at "+e+" failed: "+p);const _=Gn(t.serverSyncTree_,d,!v),w=_.length>0?mi(t,e):e;Jt(t.eventQueue_,w,_),xf(t,o,p,g)}),lt(n,p=>{const g=Td(t,Be(e,p));mi(t,g)}),Jt(t.eventQueue_,e,[])}}function XT(t){Ea(t,"onDisconnectEvents");const e=wa(t),n=ql();mf(t.onDisconnect_,Ne(),(s,a)=>{const c=Zy(s,a,t.serverSyncTree_,e);by(n,s,c)});let o=[];mf(n,Ne(),(s,a)=>{o=o.concat(ma(t.serverSyncTree_,s,a));const c=Td(t,s);mi(t,c)}),t.onDisconnect_=ql(),Jt(t.eventQueue_,Ne(),o)}function JT(t,e,n){let o;we(e._path)===".info"?o=Lg(t.infoSyncTree_,e,n):o=Lg(t.serverSyncTree_,e,n),sv(t.eventQueue_,e._path,o)}function ZT(t,e,n){let o;we(e._path)===".info"?o=Cf(t.infoSyncTree_,e,n):o=Cf(t.serverSyncTree_,e,n),sv(t.eventQueue_,e._path,o)}function ek(t){t.persistentConnection_&&t.persistentConnection_.interrupt(HT)}function Ea(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),st(n,...e)}function xf(t,e,n,o){e&&wi(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let a=s;o&&(a+=": "+o);const c=new Error(a);c.code=s,e(c)}})}function av(t,e,n){return dd(t.serverSyncTree_,e,n)||fe.EMPTY_NODE}function xd(t,e=t.transactionQueueTree_){if(e||Ca(t,e),Ci(e)){const n=cv(t,e);X(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&tk(t,Jo(e),n)}else nv(e)&&_a(e,n=>{xd(t,n)})}function tk(t,e,n){const o=n.map(p=>p.currentWriteId),s=av(t,e,o);let a=s;const c=s.hash();for(let p=0;p<n.length;p++){const g=n[p];X(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const v=St(e,g.path);a=a.updateChild(v,g.currentOutputSnapshotRaw)}const d=a.val(!0),h=e;t.server_.put(h.toString(),d,p=>{Ea(t,"transaction put response",{path:h.toString(),status:p});let g=[];if(p==="ok"){const v=[];for(let _=0;_<n.length;_++)n[_].status=2,g=g.concat(Gn(t.serverSyncTree_,n[_].currentWriteId)),n[_].onComplete&&v.push(()=>n[_].onComplete(null,!0,n[_].currentOutputSnapshotResolved)),n[_].unwatcher();Ca(t,wd(t.transactionQueueTree_,e)),xd(t,t.transactionQueueTree_),Jt(t.eventQueue_,e,g);for(let _=0;_<v.length;_++)wi(v[_])}else{if(p==="datastale")for(let v=0;v<n.length;v++)n[v].status===3?n[v].status=4:n[v].status=0;else{gt("transaction at "+h.toString()+" failed: "+p);for(let v=0;v<n.length;v++)n[v].status=4,n[v].abortReason=p}mi(t,e)}},c)}function mi(t,e){const n=uv(t,e),o=Jo(n),s=cv(t,n);return nk(t,s,o),o}function nk(t,e,n){if(e.length===0)return;const o=[];let s=[];const c=e.filter(d=>d.status===0).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const h=e[d],p=St(n,h.path);let g=!1,v;if(X(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),h.status===4)g=!0,v=h.abortReason,s=s.concat(Gn(t.serverSyncTree_,h.currentWriteId,!0));else if(h.status===0)if(h.retryCount>=jT)g=!0,v="maxretry",s=s.concat(Gn(t.serverSyncTree_,h.currentWriteId,!0));else{const _=av(t,h.path,c);h.currentInputSnapshot=_;const w=e[d].update(_.val());if(w!==void 0){ya("transaction failed: Data returned ",w,h.path);let C=tt(w);typeof w=="object"&&w!=null&&an(w,".priority")||(C=C.updatePriority(_.getPriority()));const I=h.currentWriteId,k=wa(t),R=ev(C,_,k);h.currentOutputSnapshotRaw=C,h.currentOutputSnapshotResolved=R,h.currentWriteId=Sd(t),c.splice(c.indexOf(I),1),s=s.concat(Ky(t.serverSyncTree_,h.path,R,h.currentWriteId,h.applyLocally)),s=s.concat(Gn(t.serverSyncTree_,I,!0))}else g=!0,v="nodata",s=s.concat(Gn(t.serverSyncTree_,h.currentWriteId,!0))}Jt(t.eventQueue_,n,s),s=[],g&&(e[d].status=2,function(_){setTimeout(_,Math.floor(0))}(e[d].unwatcher),e[d].onComplete&&(v==="nodata"?o.push(()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot)):o.push(()=>e[d].onComplete(new Error(v),!1,null))))}Ca(t,t.transactionQueueTree_);for(let d=0;d<o.length;d++)wi(o[d]);xd(t,t.transactionQueueTree_)}function uv(t,e){let n,o=t.transactionQueueTree_;for(n=we(e);n!==null&&Ci(o)===void 0;)o=wd(o,n),e=Me(e),n=we(e);return o}function cv(t,e){const n=[];return fv(t,e,n),n.sort((o,s)=>o.order-s.order),n}function fv(t,e,n){const o=Ci(e);if(o)for(let s=0;s<o.length;s++)n.push(o[s]);_a(e,s=>{fv(t,s,n)})}function Ca(t,e){const n=Ci(e);if(n){let o=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[o]=n[s],o++);n.length=o,tv(e,n.length>0?n:void 0)}_a(e,o=>{Ca(t,o)})}function Td(t,e){const n=Jo(uv(t,e)),o=wd(t.transactionQueueTree_,e);return RT(o,s=>{Fc(t,s)}),Fc(t,o),rv(o,s=>{Fc(t,s)}),n}function Fc(t,e){const n=Ci(e);if(n){const o=[];let s=[],a=-1;for(let c=0;c<n.length;c++)n[c].status===3||(n[c].status===1?(X(a===c-1,"All SENT items should be at beginning of queue."),a=c,n[c].status=3,n[c].abortReason="set"):(X(n[c].status===0,"Unexpected transaction status in abort"),n[c].unwatcher(),s=s.concat(Gn(t.serverSyncTree_,n[c].currentWriteId,!0)),n[c].onComplete&&o.push(n[c].onComplete.bind(null,new Error("set"),!1,null))));a===-1?tv(e,void 0):n.length=a+1,Jt(t.eventQueue_,Jo(e),s);for(let c=0;c<o.length;c++)wi(o[c])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(t){let e="";const n=t.split("/");for(let o=0;o<n.length;o++)if(n[o].length>0){let s=n[o];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function ik(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const o=n.split("=");o.length===2?e[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):gt(`Invalid query segment '${n}' in query '${t}'`)}return e}const $g=function(t,e){const n=ok(t),o=n.namespace;n.domain==="firebase.com"&&xn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||o==="undefined")&&n.domain!=="localhost"&&xn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||fS();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new vy(n.host,n.secure,o,s,e,"",o!==n.subdomain),path:new Pe(n.pathString)}},ok=function(t){let e="",n="",o="",s="",a="",c=!0,d="https",h=443;if(typeof t=="string"){let p=t.indexOf("//");p>=0&&(d=t.substring(0,p-1),t=t.substring(p+2));let g=t.indexOf("/");g===-1&&(g=t.length);let v=t.indexOf("?");v===-1&&(v=t.length),e=t.substring(0,Math.min(g,v)),g<v&&(s=rk(t.substring(g,v)));const _=ik(t.substring(Math.min(t.length,v)));p=e.indexOf(":"),p>=0?(c=d==="https"||d==="wss",h=parseInt(e.substring(p+1),10)):p=e.length;const w=e.slice(0,p);if(w.toLowerCase()==="localhost")n="localhost";else if(w.split(".").length<=2)n=w;else{const C=e.indexOf(".");o=e.substring(0,C).toLowerCase(),n=e.substring(C+1),a=o}"ns"in _&&(a=_.ns)}return{host:e,port:h,domain:n,subdomain:o,secure:c,scheme:d,pathString:s,namespace:a}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e,n,o,s){this.eventType=e,this.eventRegistration=n,this.snapshot=o,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+nt(this.snapshot.exportVal())}}class lk{constructor(e,n,o){this.eventRegistration=e,this.error=n,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return X(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n,o,s){this._repo=e,this._path=n,this._queryParams=o,this._orderByCalled=s}get key(){return Ce(this._path)?null:Jf(this._path)}get ref(){return new tr(this._repo,this._path)}get _queryIdentifier(){const e=xg(this._queryParams),n=Qf(e);return n==="{}"?"default":n}get _queryObject(){return xg(this._queryParams)}isEqual(e){if(e=Qo(e),!(e instanceof kd))return!1;const n=this._repo===e._repo,o=Zf(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&o&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+QS(this._path)}}class tr extends kd{constructor(e,n){super(e,n,new rd,!1)}get parent(){const e=Iy(this._path);return e===null?null:new tr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class ea{constructor(e,n,o){this._node=e,this.ref=n,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Pe(e),o=Tf(this.ref,e);return new ea(this._node.getChild(n),o,He)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(o,s)=>e(new ea(s,Tf(this.ref,o),He)))}hasChild(e){const n=new Pe(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Nd(t,e){return t=Qo(t),t._checkNotDeleted("ref"),e!==void 0?Tf(t._root,e):t._root}function Tf(t,e){return t=Qo(t),we(t._path)===null?zT("child","path",e):ov("child","path",e),new tr(t._repo,Be(t._path,e))}function uk(t,e){t=Qo(t),$T("set",t._path),LT("set",e,t._path);const n=new qo;return KT(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function ck(t,e){FT("update",e,t._path);const n=new qo;return YT(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class Id{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const o=n._queryParams.getIndex();return new sk("value",this,new ea(e.snapshotNode,new tr(n._repo,n._path),o))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new lk(this,e,n):null}matches(e){return e instanceof Id?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function fk(t,e,n,o,s){const a=new ak(n,void 0),c=new Id(a);return JT(t._repo,t,c),()=>ZT(t._repo,t,c)}function dk(t,e,n,o){return fk(t,"value",e)}sT(tr);dT(tr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk="FIREBASE_DATABASE_EMULATOR_HOST",kf={};let pk=!1;function mk(t,e,n,o){t.repoInfo_=new vy(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),o&&(t.authTokenProvider_=o)}function gk(t,e,n,o,s){let a=o||t.options.databaseURL;a===void 0&&(t.options.projectId||xn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),st("Using default host for project ",t.options.projectId),a=`${t.options.projectId}-default-rtdb.firebaseio.com`);let c=$g(a,s),d=c.repoInfo,h;typeof process<"u"&&sg&&(h=sg[hk]),h?(a=`http://${h}?ns=${d.namespace}`,c=$g(a,s),d=c.repoInfo):c.repoInfo.secure;const p=new CS(t.name,t.options,e);UT("Invalid Firebase Database URL",c),Ce(c.path)||xn("Database URL must point to the root of a Firebase Database (not including a child path).");const g=yk(d,t,p,new ES(t.name,n));return new vk(g,t)}function _k(t,e){const n=kf[e];(!n||n[t.key]!==t)&&xn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),ek(t),delete n[t.key]}function yk(t,e,n,o){let s=kf[e.name];s||(s={},kf[e.name]=s);let a=s[t.toURLString()];return a&&xn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new VT(t,pk,n,o),s[t.toURLString()]=a,a}class vk{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(qT(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new tr(this._repo,Ne())),this._rootInternal}_delete(){return this._rootInternal!==null&&(_k(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&xn("Cannot call "+e+" on a deleted database.")}}function wk(t=GC(),e){const n=HC(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const o=AE("database");o&&Ek(n,...o)}return n}function Ek(t,e,n,o={}){t=Qo(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&xn("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let a;if(s.repoInfo_.nodeAdmin)o.mockUserToken&&xn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Pl(Pl.OWNER);else if(o.mockUserToken){const c=typeof o.mockUserToken=="string"?o.mockUserToken:ME(o.mockUserToken,t.app.options.projectId);a=new Pl(c)}mk(s,e,n,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(t){oS(qC),Wl(new Po("database",(e,{instanceIdentifier:n})=>{const o=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return gk(o,s,a,n)},"PUBLIC").setMultipleInstances(!0)),oi(lg,ag,t),oi(lg,ag,"esm2017")}Cn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Cn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Ck();const Sk={apiKey:"AIzaSyAZlsiYBD8nuDHIW0FJZrAWjW4nQchQTU8",authDomain:"drzewinscy-67739.firebaseapp.com",databaseURL:"https://drzewinscy-67739-default-rtdb.europe-west1.firebasedatabase.app",projectId:"drzewinscy-67739",storageBucket:"drzewinscy-67739.firebasestorage.app",messagingSenderId:"217959363435",appId:"1:217959363435:web:46abf62e50d6c4b26cd22e"},xk=ny(Sk),Rd=wk(xk),go=async(t,e)=>{await uk(Nd(Rd,t),e)},Ug=async(t,e)=>{await ck(Nd(Rd,t),e)},Tk=(t,e,n)=>dk(Nd(Rd,t),e);function kk(t){var e=0,n=t.children,o=n&&n.length;if(!o)e=1;else for(;--o>=0;)e+=n[o].value;t.value=e}function Nk(){return this.eachAfter(kk)}function Ik(t){var e=this,n,o=[e],s,a,c;do for(n=o.reverse(),o=[];e=n.pop();)if(t(e),s=e.children,s)for(a=0,c=s.length;a<c;++a)o.push(s[a]);while(o.length);return this}function Rk(t){for(var e=this,n=[e],o,s;e=n.pop();)if(t(e),o=e.children,o)for(s=o.length-1;s>=0;--s)n.push(o[s]);return this}function Pk(t){for(var e=this,n=[e],o=[],s,a,c;e=n.pop();)if(o.push(e),s=e.children,s)for(a=0,c=s.length;a<c;++a)n.push(s[a]);for(;e=o.pop();)t(e);return this}function Dk(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,o=e.children,s=o&&o.length;--s>=0;)n+=o[s].value;e.value=n})}function Ok(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function Ak(t){for(var e=this,n=Mk(e,t),o=[e];e!==n;)e=e.parent,o.push(e);for(var s=o.length;t!==n;)o.splice(s,0,t),t=t.parent;return o}function Mk(t,e){if(t===e)return t;var n=t.ancestors(),o=e.ancestors(),s=null;for(t=n.pop(),e=o.pop();t===e;)s=t,t=n.pop(),e=o.pop();return s}function Lk(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function bk(){var t=[];return this.each(function(e){t.push(e)}),t}function Fk(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function zk(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function Pd(t,e){var n=new zo(t),o=+t.value&&(n.value=t.value),s,a=[n],c,d,h,p;for(e==null&&(e=Uk);s=a.pop();)if(o&&(s.value=+s.data.value),(d=e(s.data))&&(p=d.length))for(s.children=new Array(p),h=p-1;h>=0;--h)a.push(c=s.children[h]=new zo(d[h])),c.parent=s,c.depth=s.depth+1;return n.eachBefore(Bk)}function $k(){return Pd(this).eachBefore(Wk)}function Uk(t){return t.children}function Wk(t){t.data=t.data.data}function Bk(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function zo(t){this.data=t,this.depth=this.height=0,this.parent=null}zo.prototype=Pd.prototype={constructor:zo,count:Nk,each:Ik,eachAfter:Pk,eachBefore:Rk,sum:Dk,sort:Ok,path:Ak,ancestors:Lk,descendants:bk,leaves:Fk,links:zk,copy:$k};function Hk(t,e){return t.parent===e.parent?1:2}function zc(t){var e=t.children;return e?e[0]:t.t}function $c(t){var e=t.children;return e?e[e.length-1]:t.t}function jk(t,e,n){var o=n/(e.i-t.i);e.c-=o,e.s+=n,t.c+=o,e.z+=n,e.m+=n}function Vk(t){for(var e=0,n=0,o=t.children,s=o.length,a;--s>=0;)a=o[s],a.z+=e,a.m+=e,e+=a.s+(n+=a.c)}function qk(t,e,n){return t.a.parent===e.parent?t.a:n}function Dl(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}Dl.prototype=Object.create(zo.prototype);function Gk(t){for(var e=new Dl(t,0),n,o=[e],s,a,c,d;n=o.pop();)if(a=n._.children)for(n.children=new Array(d=a.length),c=d-1;c>=0;--c)o.push(s=n.children[c]=new Dl(a[c],c)),s.parent=n;return(e.parent=new Dl(null,0)).children=[e],e}function Qk(){var t=Hk,e=1,n=1,o=null;function s(p){var g=Gk(p);if(g.eachAfter(a),g.parent.m=-g.z,g.eachBefore(c),o)p.eachBefore(h);else{var v=p,_=p,w=p;p.eachBefore(function(R){R.x<v.x&&(v=R),R.x>_.x&&(_=R),R.depth>w.depth&&(w=R)});var C=v===_?1:t(v,_)/2,N=C-v.x,I=e/(_.x+C+N),k=n/(w.depth||1);p.eachBefore(function(R){R.x=(R.x+N)*I,R.y=R.depth*k})}return p}function a(p){var g=p.children,v=p.parent.children,_=p.i?v[p.i-1]:null;if(g){Vk(p);var w=(g[0].z+g[g.length-1].z)/2;_?(p.z=_.z+t(p._,_._),p.m=p.z-w):p.z=w}else _&&(p.z=_.z+t(p._,_._));p.parent.A=d(p,_,p.parent.A||v[0])}function c(p){p._.x=p.z+p.parent.m,p.m+=p.parent.m}function d(p,g,v){if(g){for(var _=p,w=p,C=g,N=_.parent.children[0],I=_.m,k=w.m,R=C.m,M=N.m,V;C=$c(C),_=zc(_),C&&_;)N=zc(N),w=$c(w),w.a=p,V=C.z+R-_.z-I+t(C._,_._),V>0&&(jk(qk(C,p,v),p,V),I+=V,k+=V),R+=C.m,I+=_.m,M+=N.m,k+=w.m;C&&!$c(w)&&(w.t=C,w.m+=R-k),_&&!zc(N)&&(N.t=_,N.m+=I-M,v=p)}return v}function h(p){p.x*=e,p.y=p.depth*n}return s.separation=function(p){return arguments.length?(t=p,s):t},s.size=function(p){return arguments.length?(o=!1,e=+p[0],n=+p[1],s):o?null:[e,n]},s.nodeSize=function(p){return arguments.length?(o=!0,e=+p[0],n=+p[1],s):o?[e,n]:null},s}var Nf="http://www.w3.org/1999/xhtml";const Wg={svg:"http://www.w3.org/2000/svg",xhtml:Nf,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Sa(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Wg.hasOwnProperty(e)?{space:Wg[e],local:t}:t}function Kk(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Nf&&e.documentElement.namespaceURI===Nf?e.createElement(t):e.createElementNS(n,t)}}function Yk(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function dv(t){var e=Sa(t);return(e.local?Yk:Kk)(e)}function Xk(){}function Dd(t){return t==null?Xk:function(){return this.querySelector(t)}}function Jk(t){typeof t!="function"&&(t=Dd(t));for(var e=this._groups,n=e.length,o=new Array(n),s=0;s<n;++s)for(var a=e[s],c=a.length,d=o[s]=new Array(c),h,p,g=0;g<c;++g)(h=a[g])&&(p=t.call(h,h.__data__,g,a))&&("__data__"in h&&(p.__data__=h.__data__),d[g]=p);return new Ot(o,this._parents)}function Zk(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function eN(){return[]}function hv(t){return t==null?eN:function(){return this.querySelectorAll(t)}}function tN(t){return function(){return Zk(t.apply(this,arguments))}}function nN(t){typeof t=="function"?t=tN(t):t=hv(t);for(var e=this._groups,n=e.length,o=[],s=[],a=0;a<n;++a)for(var c=e[a],d=c.length,h,p=0;p<d;++p)(h=c[p])&&(o.push(t.call(h,h.__data__,p,c)),s.push(h));return new Ot(o,s)}function pv(t){return function(){return this.matches(t)}}function mv(t){return function(e){return e.matches(t)}}var rN=Array.prototype.find;function iN(t){return function(){return rN.call(this.children,t)}}function oN(){return this.firstElementChild}function sN(t){return this.select(t==null?oN:iN(typeof t=="function"?t:mv(t)))}var lN=Array.prototype.filter;function aN(){return Array.from(this.children)}function uN(t){return function(){return lN.call(this.children,t)}}function cN(t){return this.selectAll(t==null?aN:uN(typeof t=="function"?t:mv(t)))}function fN(t){typeof t!="function"&&(t=pv(t));for(var e=this._groups,n=e.length,o=new Array(n),s=0;s<n;++s)for(var a=e[s],c=a.length,d=o[s]=[],h,p=0;p<c;++p)(h=a[p])&&t.call(h,h.__data__,p,a)&&d.push(h);return new Ot(o,this._parents)}function gv(t){return new Array(t.length)}function dN(){return new Ot(this._enter||this._groups.map(gv),this._parents)}function ta(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ta.prototype={constructor:ta,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function hN(t){return function(){return t}}function pN(t,e,n,o,s,a){for(var c=0,d,h=e.length,p=a.length;c<p;++c)(d=e[c])?(d.__data__=a[c],o[c]=d):n[c]=new ta(t,a[c]);for(;c<h;++c)(d=e[c])&&(s[c]=d)}function mN(t,e,n,o,s,a,c){var d,h,p=new Map,g=e.length,v=a.length,_=new Array(g),w;for(d=0;d<g;++d)(h=e[d])&&(_[d]=w=c.call(h,h.__data__,d,e)+"",p.has(w)?s[d]=h:p.set(w,h));for(d=0;d<v;++d)w=c.call(t,a[d],d,a)+"",(h=p.get(w))?(o[d]=h,h.__data__=a[d],p.delete(w)):n[d]=new ta(t,a[d]);for(d=0;d<g;++d)(h=e[d])&&p.get(_[d])===h&&(s[d]=h)}function gN(t){return t.__data__}function _N(t,e){if(!arguments.length)return Array.from(this,gN);var n=e?mN:pN,o=this._parents,s=this._groups;typeof t!="function"&&(t=hN(t));for(var a=s.length,c=new Array(a),d=new Array(a),h=new Array(a),p=0;p<a;++p){var g=o[p],v=s[p],_=v.length,w=yN(t.call(g,g&&g.__data__,p,o)),C=w.length,N=d[p]=new Array(C),I=c[p]=new Array(C),k=h[p]=new Array(_);n(g,v,N,I,k,w,e);for(var R=0,M=0,V,$;R<C;++R)if(V=N[R]){for(R>=M&&(M=R+1);!($=I[M])&&++M<C;);V._next=$||null}}return c=new Ot(c,o),c._enter=d,c._exit=h,c}function yN(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function vN(){return new Ot(this._exit||this._groups.map(gv),this._parents)}function wN(t,e,n){var o=this.enter(),s=this,a=this.exit();return typeof t=="function"?(o=t(o),o&&(o=o.selection())):o=o.append(t+""),e!=null&&(s=e(s),s&&(s=s.selection())),n==null?a.remove():n(a),o&&s?o.merge(s).order():s}function EN(t){for(var e=t.selection?t.selection():t,n=this._groups,o=e._groups,s=n.length,a=o.length,c=Math.min(s,a),d=new Array(s),h=0;h<c;++h)for(var p=n[h],g=o[h],v=p.length,_=d[h]=new Array(v),w,C=0;C<v;++C)(w=p[C]||g[C])&&(_[C]=w);for(;h<s;++h)d[h]=n[h];return new Ot(d,this._parents)}function CN(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var o=t[e],s=o.length-1,a=o[s],c;--s>=0;)(c=o[s])&&(a&&c.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(c,a),a=c);return this}function SN(t){t||(t=xN);function e(v,_){return v&&_?t(v.__data__,_.__data__):!v-!_}for(var n=this._groups,o=n.length,s=new Array(o),a=0;a<o;++a){for(var c=n[a],d=c.length,h=s[a]=new Array(d),p,g=0;g<d;++g)(p=c[g])&&(h[g]=p);h.sort(e)}return new Ot(s,this._parents).order()}function xN(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function TN(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function kN(){return Array.from(this)}function NN(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],s=0,a=o.length;s<a;++s){var c=o[s];if(c)return c}return null}function IN(){let t=0;for(const e of this)++t;return t}function RN(){return!this.node()}function PN(t){for(var e=this._groups,n=0,o=e.length;n<o;++n)for(var s=e[n],a=0,c=s.length,d;a<c;++a)(d=s[a])&&t.call(d,d.__data__,a,s);return this}function DN(t){return function(){this.removeAttribute(t)}}function ON(t){return function(){this.removeAttributeNS(t.space,t.local)}}function AN(t,e){return function(){this.setAttribute(t,e)}}function MN(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function LN(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function bN(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function FN(t,e){var n=Sa(t);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((e==null?n.local?ON:DN:typeof e=="function"?n.local?bN:LN:n.local?MN:AN)(n,e))}function _v(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function zN(t){return function(){this.style.removeProperty(t)}}function $N(t,e,n){return function(){this.style.setProperty(t,e,n)}}function UN(t,e,n){return function(){var o=e.apply(this,arguments);o==null?this.style.removeProperty(t):this.style.setProperty(t,o,n)}}function WN(t,e,n){return arguments.length>1?this.each((e==null?zN:typeof e=="function"?UN:$N)(t,e,n??"")):gi(this.node(),t)}function gi(t,e){return t.style.getPropertyValue(e)||_v(t).getComputedStyle(t,null).getPropertyValue(e)}function BN(t){return function(){delete this[t]}}function HN(t,e){return function(){this[t]=e}}function jN(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function VN(t,e){return arguments.length>1?this.each((e==null?BN:typeof e=="function"?jN:HN)(t,e)):this.node()[t]}function yv(t){return t.trim().split(/^|\s+/)}function Od(t){return t.classList||new vv(t)}function vv(t){this._node=t,this._names=yv(t.getAttribute("class")||"")}vv.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function wv(t,e){for(var n=Od(t),o=-1,s=e.length;++o<s;)n.add(e[o])}function Ev(t,e){for(var n=Od(t),o=-1,s=e.length;++o<s;)n.remove(e[o])}function qN(t){return function(){wv(this,t)}}function GN(t){return function(){Ev(this,t)}}function QN(t,e){return function(){(e.apply(this,arguments)?wv:Ev)(this,t)}}function KN(t,e){var n=yv(t+"");if(arguments.length<2){for(var o=Od(this.node()),s=-1,a=n.length;++s<a;)if(!o.contains(n[s]))return!1;return!0}return this.each((typeof e=="function"?QN:e?qN:GN)(n,e))}function YN(){this.textContent=""}function XN(t){return function(){this.textContent=t}}function JN(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function ZN(t){return arguments.length?this.each(t==null?YN:(typeof t=="function"?JN:XN)(t)):this.node().textContent}function eI(){this.innerHTML=""}function tI(t){return function(){this.innerHTML=t}}function nI(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function rI(t){return arguments.length?this.each(t==null?eI:(typeof t=="function"?nI:tI)(t)):this.node().innerHTML}function iI(){this.nextSibling&&this.parentNode.appendChild(this)}function oI(){return this.each(iI)}function sI(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function lI(){return this.each(sI)}function aI(t){var e=typeof t=="function"?t:dv(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function uI(){return null}function cI(t,e){var n=typeof t=="function"?t:dv(t),o=e==null?uI:typeof e=="function"?e:Dd(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function fI(){var t=this.parentNode;t&&t.removeChild(this)}function dI(){return this.each(fI)}function hI(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function pI(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function mI(t){return this.select(t?pI:hI)}function gI(t){return arguments.length?this.property("__data__",t):this.node().__data__}function _I(t){return function(e){t.call(this,e,this.__data__)}}function yI(t){return t.trim().split(/^|\s+/).map(function(e){var n="",o=e.indexOf(".");return o>=0&&(n=e.slice(o+1),e=e.slice(0,o)),{type:e,name:n}})}function vI(t){return function(){var e=this.__on;if(e){for(var n=0,o=-1,s=e.length,a;n<s;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++o]=a;++o?e.length=o:delete this.__on}}}function wI(t,e,n){return function(){var o=this.__on,s,a=_I(e);if(o){for(var c=0,d=o.length;c<d;++c)if((s=o[c]).type===t.type&&s.name===t.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=a,s.options=n),s.value=e;return}}this.addEventListener(t.type,a,n),s={type:t.type,name:t.name,value:e,listener:a,options:n},o?o.push(s):this.__on=[s]}}function EI(t,e,n){var o=yI(t+""),s,a=o.length,c;if(arguments.length<2){var d=this.node().__on;if(d){for(var h=0,p=d.length,g;h<p;++h)for(s=0,g=d[h];s<a;++s)if((c=o[s]).type===g.type&&c.name===g.name)return g.value}return}for(d=e?wI:vI,s=0;s<a;++s)this.each(d(o[s],e,n));return this}function Cv(t,e,n){var o=_v(t),s=o.CustomEvent;typeof s=="function"?s=new s(e,n):(s=o.document.createEvent("Event"),n?(s.initEvent(e,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(e,!1,!1)),t.dispatchEvent(s)}function CI(t,e){return function(){return Cv(this,t,e)}}function SI(t,e){return function(){return Cv(this,t,e.apply(this,arguments))}}function xI(t,e){return this.each((typeof e=="function"?SI:CI)(t,e))}function*TI(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],s=0,a=o.length,c;s<a;++s)(c=o[s])&&(yield c)}var Sv=[null];function Ot(t,e){this._groups=t,this._parents=e}function Zo(){return new Ot([[document.documentElement]],Sv)}function kI(){return this}Ot.prototype=Zo.prototype={constructor:Ot,select:Jk,selectAll:nN,selectChild:sN,selectChildren:cN,filter:fN,data:_N,enter:dN,exit:vN,join:wN,merge:EN,selection:kI,order:CN,sort:SN,call:TN,nodes:kN,node:NN,size:IN,empty:RN,each:PN,attr:FN,style:WN,property:VN,classed:KN,text:ZN,html:rI,raise:oI,lower:lI,append:aI,insert:cI,remove:dI,clone:mI,datum:gI,on:EI,dispatch:xI,[Symbol.iterator]:TI};function mt(t){return typeof t=="string"?new Ot([[document.querySelector(t)]],[document.documentElement]):new Ot([[t]],Sv)}function NI(t){let e;for(;e=t.sourceEvent;)t=e;return t}function mr(t,e){if(t=NI(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=t.clientX,o.y=t.clientY,o=o.matrixTransform(e.getScreenCTM().inverse()),[o.x,o.y]}if(e.getBoundingClientRect){var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}}return[t.pageX,t.pageY]}var II={value:()=>{}};function Ad(){for(var t=0,e=arguments.length,n={},o;t<e;++t){if(!(o=arguments[t]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new Ol(n)}function Ol(t){this._=t}function RI(t,e){return t.trim().split(/^|\s+/).map(function(n){var o="",s=n.indexOf(".");if(s>=0&&(o=n.slice(s+1),n=n.slice(0,s)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}Ol.prototype=Ad.prototype={constructor:Ol,on:function(t,e){var n=this._,o=RI(t+"",n),s,a=-1,c=o.length;if(arguments.length<2){for(;++a<c;)if((s=(t=o[a]).type)&&(s=PI(n[s],t.name)))return s;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<c;)if(s=(t=o[a]).type)n[s]=Bg(n[s],t.name,e);else if(e==null)for(s in n)n[s]=Bg(n[s],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Ol(t)},call:function(t,e){if((s=arguments.length-2)>0)for(var n=new Array(s),o=0,s,a;o<s;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],o=0,s=a.length;o<s;++o)a[o].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var o=this._[t],s=0,a=o.length;s<a;++s)o[s].value.apply(e,n)}};function PI(t,e){for(var n=0,o=t.length,s;n<o;++n)if((s=t[n]).name===e)return s.value}function Bg(t,e,n){for(var o=0,s=t.length;o<s;++o)if(t[o].name===e){t[o]=II,t=t.slice(0,o).concat(t.slice(o+1));break}return n!=null&&t.push({name:e,value:n}),t}const If={capture:!0,passive:!1};function Rf(t){t.preventDefault(),t.stopImmediatePropagation()}function DI(t){var e=t.document.documentElement,n=mt(t).on("dragstart.drag",Rf,If);"onselectstart"in e?n.on("selectstart.drag",Rf,If):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function OI(t,e){var n=t.document.documentElement,o=mt(t).on("dragstart.drag",null);e&&(o.on("click.drag",Rf,If),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Md(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function xv(t,e){var n=Object.create(t.prototype);for(var o in e)n[o]=e[o];return n}function es(){}var $o=.7,na=1/$o,ui="\\s*([+-]?\\d+)\\s*",Uo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",sn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",AI=/^#([0-9a-f]{3,8})$/,MI=new RegExp(`^rgb\\(${ui},${ui},${ui}\\)$`),LI=new RegExp(`^rgb\\(${sn},${sn},${sn}\\)$`),bI=new RegExp(`^rgba\\(${ui},${ui},${ui},${Uo}\\)$`),FI=new RegExp(`^rgba\\(${sn},${sn},${sn},${Uo}\\)$`),zI=new RegExp(`^hsl\\(${Uo},${sn},${sn}\\)$`),$I=new RegExp(`^hsla\\(${Uo},${sn},${sn},${Uo}\\)$`),Hg={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Md(es,Wo,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:jg,formatHex:jg,formatHex8:UI,formatHsl:WI,formatRgb:Vg,toString:Vg});function jg(){return this.rgb().formatHex()}function UI(){return this.rgb().formatHex8()}function WI(){return Tv(this).formatHsl()}function Vg(){return this.rgb().formatRgb()}function Wo(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=AI.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?qg(e):n===3?new Tt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?gl(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?gl(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=MI.exec(t))?new Tt(e[1],e[2],e[3],1):(e=LI.exec(t))?new Tt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=bI.exec(t))?gl(e[1],e[2],e[3],e[4]):(e=FI.exec(t))?gl(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=zI.exec(t))?Kg(e[1],e[2]/100,e[3]/100,1):(e=$I.exec(t))?Kg(e[1],e[2]/100,e[3]/100,e[4]):Hg.hasOwnProperty(t)?qg(Hg[t]):t==="transparent"?new Tt(NaN,NaN,NaN,0):null}function qg(t){return new Tt(t>>16&255,t>>8&255,t&255,1)}function gl(t,e,n,o){return o<=0&&(t=e=n=NaN),new Tt(t,e,n,o)}function BI(t){return t instanceof es||(t=Wo(t)),t?(t=t.rgb(),new Tt(t.r,t.g,t.b,t.opacity)):new Tt}function Pf(t,e,n,o){return arguments.length===1?BI(t):new Tt(t,e,n,o??1)}function Tt(t,e,n,o){this.r=+t,this.g=+e,this.b=+n,this.opacity=+o}Md(Tt,Pf,xv(es,{brighter(t){return t=t==null?na:Math.pow(na,t),new Tt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?$o:Math.pow($o,t),new Tt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Tt(Er(this.r),Er(this.g),Er(this.b),ra(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Gg,formatHex:Gg,formatHex8:HI,formatRgb:Qg,toString:Qg}));function Gg(){return`#${wr(this.r)}${wr(this.g)}${wr(this.b)}`}function HI(){return`#${wr(this.r)}${wr(this.g)}${wr(this.b)}${wr((isNaN(this.opacity)?1:this.opacity)*255)}`}function Qg(){const t=ra(this.opacity);return`${t===1?"rgb(":"rgba("}${Er(this.r)}, ${Er(this.g)}, ${Er(this.b)}${t===1?")":`, ${t})`}`}function ra(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Er(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function wr(t){return t=Er(t),(t<16?"0":"")+t.toString(16)}function Kg(t,e,n,o){return o<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Qt(t,e,n,o)}function Tv(t){if(t instanceof Qt)return new Qt(t.h,t.s,t.l,t.opacity);if(t instanceof es||(t=Wo(t)),!t)return new Qt;if(t instanceof Qt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,o=t.b/255,s=Math.min(e,n,o),a=Math.max(e,n,o),c=NaN,d=a-s,h=(a+s)/2;return d?(e===a?c=(n-o)/d+(n<o)*6:n===a?c=(o-e)/d+2:c=(e-n)/d+4,d/=h<.5?a+s:2-a-s,c*=60):d=h>0&&h<1?0:c,new Qt(c,d,h,t.opacity)}function jI(t,e,n,o){return arguments.length===1?Tv(t):new Qt(t,e,n,o??1)}function Qt(t,e,n,o){this.h=+t,this.s=+e,this.l=+n,this.opacity=+o}Md(Qt,jI,xv(es,{brighter(t){return t=t==null?na:Math.pow(na,t),new Qt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?$o:Math.pow($o,t),new Qt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*e,s=2*n-o;return new Tt(Uc(t>=240?t-240:t+120,s,o),Uc(t,s,o),Uc(t<120?t+240:t-120,s,o),this.opacity)},clamp(){return new Qt(Yg(this.h),_l(this.s),_l(this.l),ra(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ra(this.opacity);return`${t===1?"hsl(":"hsla("}${Yg(this.h)}, ${_l(this.s)*100}%, ${_l(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Yg(t){return t=(t||0)%360,t<0?t+360:t}function _l(t){return Math.max(0,Math.min(1,t||0))}function Uc(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const kv=t=>()=>t;function VI(t,e){return function(n){return t+n*e}}function qI(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(o){return Math.pow(t+o*e,n)}}function GI(t){return(t=+t)==1?Nv:function(e,n){return n-e?qI(e,n,t):kv(isNaN(e)?n:e)}}function Nv(t,e){var n=e-t;return n?VI(t,n):kv(isNaN(t)?e:t)}const Xg=function t(e){var n=GI(e);function o(s,a){var c=n((s=Pf(s)).r,(a=Pf(a)).r),d=n(s.g,a.g),h=n(s.b,a.b),p=Nv(s.opacity,a.opacity);return function(g){return s.r=c(g),s.g=d(g),s.b=h(g),s.opacity=p(g),s+""}}return o.gamma=t,o}(1);function qn(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Df=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Wc=new RegExp(Df.source,"g");function QI(t){return function(){return t}}function KI(t){return function(e){return t(e)+""}}function YI(t,e){var n=Df.lastIndex=Wc.lastIndex=0,o,s,a,c=-1,d=[],h=[];for(t=t+"",e=e+"";(o=Df.exec(t))&&(s=Wc.exec(e));)(a=s.index)>n&&(a=e.slice(n,a),d[c]?d[c]+=a:d[++c]=a),(o=o[0])===(s=s[0])?d[c]?d[c]+=s:d[++c]=s:(d[++c]=null,h.push({i:c,x:qn(o,s)})),n=Wc.lastIndex;return n<e.length&&(a=e.slice(n),d[c]?d[c]+=a:d[++c]=a),d.length<2?h[0]?KI(h[0].x):QI(e):(e=h.length,function(p){for(var g=0,v;g<e;++g)d[(v=h[g]).i]=v.x(p);return d.join("")})}var Jg=180/Math.PI,Of={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Iv(t,e,n,o,s,a){var c,d,h;return(c=Math.sqrt(t*t+e*e))&&(t/=c,e/=c),(h=t*n+e*o)&&(n-=t*h,o-=e*h),(d=Math.sqrt(n*n+o*o))&&(n/=d,o/=d,h/=d),t*o<e*n&&(t=-t,e=-e,h=-h,c=-c),{translateX:s,translateY:a,rotate:Math.atan2(e,t)*Jg,skewX:Math.atan(h)*Jg,scaleX:c,scaleY:d}}var yl;function XI(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Of:Iv(e.a,e.b,e.c,e.d,e.e,e.f)}function JI(t){return t==null||(yl||(yl=document.createElementNS("http://www.w3.org/2000/svg","g")),yl.setAttribute("transform",t),!(t=yl.transform.baseVal.consolidate()))?Of:(t=t.matrix,Iv(t.a,t.b,t.c,t.d,t.e,t.f))}function Rv(t,e,n,o){function s(p){return p.length?p.pop()+" ":""}function a(p,g,v,_,w,C){if(p!==v||g!==_){var N=w.push("translate(",null,e,null,n);C.push({i:N-4,x:qn(p,v)},{i:N-2,x:qn(g,_)})}else(v||_)&&w.push("translate("+v+e+_+n)}function c(p,g,v,_){p!==g?(p-g>180?g+=360:g-p>180&&(p+=360),_.push({i:v.push(s(v)+"rotate(",null,o)-2,x:qn(p,g)})):g&&v.push(s(v)+"rotate("+g+o)}function d(p,g,v,_){p!==g?_.push({i:v.push(s(v)+"skewX(",null,o)-2,x:qn(p,g)}):g&&v.push(s(v)+"skewX("+g+o)}function h(p,g,v,_,w,C){if(p!==v||g!==_){var N=w.push(s(w)+"scale(",null,",",null,")");C.push({i:N-4,x:qn(p,v)},{i:N-2,x:qn(g,_)})}else(v!==1||_!==1)&&w.push(s(w)+"scale("+v+","+_+")")}return function(p,g){var v=[],_=[];return p=t(p),g=t(g),a(p.translateX,p.translateY,g.translateX,g.translateY,v,_),c(p.rotate,g.rotate,v,_),d(p.skewX,g.skewX,v,_),h(p.scaleX,p.scaleY,g.scaleX,g.scaleY,v,_),p=g=null,function(w){for(var C=-1,N=_.length,I;++C<N;)v[(I=_[C]).i]=I.x(w);return v.join("")}}}var ZI=Rv(XI,"px, ","px)","deg)"),eR=Rv(JI,", ",")",")"),tR=1e-12;function Zg(t){return((t=Math.exp(t))+1/t)/2}function nR(t){return((t=Math.exp(t))-1/t)/2}function rR(t){return((t=Math.exp(2*t))-1)/(t+1)}const iR=function t(e,n,o){function s(a,c){var d=a[0],h=a[1],p=a[2],g=c[0],v=c[1],_=c[2],w=g-d,C=v-h,N=w*w+C*C,I,k;if(N<tR)k=Math.log(_/p)/e,I=function(L){return[d+L*w,h+L*C,p*Math.exp(e*L*k)]};else{var R=Math.sqrt(N),M=(_*_-p*p+o*N)/(2*p*n*R),V=(_*_-p*p-o*N)/(2*_*n*R),$=Math.log(Math.sqrt(M*M+1)-M),b=Math.log(Math.sqrt(V*V+1)-V);k=(b-$)/e,I=function(L){var U=L*k,Z=Zg($),J=p/(n*R)*(Z*rR(e*U+$)-nR($));return[d+J*w,h+J*C,p*Z/Zg(e*U+$)]}}return I.duration=k*1e3*e/Math.SQRT2,I}return s.rho=function(a){var c=Math.max(.001,+a),d=c*c,h=d*d;return t(c,d,h)},s}(Math.SQRT2,2,4);var _i=0,wo=0,_o=0,Pv=1e3,ia,Eo,oa=0,kr=0,xa=0,Bo=typeof performance=="object"&&performance.now?performance:Date,Dv=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ld(){return kr||(Dv(oR),kr=Bo.now()+xa)}function oR(){kr=0}function sa(){this._call=this._time=this._next=null}sa.prototype=Ov.prototype={constructor:sa,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Ld():+n)+(e==null?0:+e),!this._next&&Eo!==this&&(Eo?Eo._next=this:ia=this,Eo=this),this._call=t,this._time=n,Af()},stop:function(){this._call&&(this._call=null,this._time=1/0,Af())}};function Ov(t,e,n){var o=new sa;return o.restart(t,e,n),o}function sR(){Ld(),++_i;for(var t=ia,e;t;)(e=kr-t._time)>=0&&t._call.call(void 0,e),t=t._next;--_i}function e_(){kr=(oa=Bo.now())+xa,_i=wo=0;try{sR()}finally{_i=0,aR(),kr=0}}function lR(){var t=Bo.now(),e=t-oa;e>Pv&&(xa-=e,oa=t)}function aR(){for(var t,e=ia,n,o=1/0;e;)e._call?(o>e._time&&(o=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:ia=n);Eo=t,Af(o)}function Af(t){if(!_i){wo&&(wo=clearTimeout(wo));var e=t-kr;e>24?(t<1/0&&(wo=setTimeout(e_,t-Bo.now()-xa)),_o&&(_o=clearInterval(_o))):(_o||(oa=Bo.now(),_o=setInterval(lR,Pv)),_i=1,Dv(e_))}}function t_(t,e,n){var o=new sa;return e=e==null?0:+e,o.restart(s=>{o.stop(),t(s+e)},e,n),o}var uR=Ad("start","end","cancel","interrupt"),cR=[],Av=0,n_=1,Mf=2,Al=3,r_=4,Lf=5,Ml=6;function Ta(t,e,n,o,s,a){var c=t.__transition;if(!c)t.__transition={};else if(n in c)return;fR(t,n,{name:e,index:o,group:s,on:uR,tween:cR,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Av})}function bd(t,e){var n=Zt(t,e);if(n.state>Av)throw new Error("too late; already scheduled");return n}function un(t,e){var n=Zt(t,e);if(n.state>Al)throw new Error("too late; already running");return n}function Zt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function fR(t,e,n){var o=t.__transition,s;o[e]=n,n.timer=Ov(a,0,n.time);function a(p){n.state=n_,n.timer.restart(c,n.delay,n.time),n.delay<=p&&c(p-n.delay)}function c(p){var g,v,_,w;if(n.state!==n_)return h();for(g in o)if(w=o[g],w.name===n.name){if(w.state===Al)return t_(c);w.state===r_?(w.state=Ml,w.timer.stop(),w.on.call("interrupt",t,t.__data__,w.index,w.group),delete o[g]):+g<e&&(w.state=Ml,w.timer.stop(),w.on.call("cancel",t,t.__data__,w.index,w.group),delete o[g])}if(t_(function(){n.state===Al&&(n.state=r_,n.timer.restart(d,n.delay,n.time),d(p))}),n.state=Mf,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Mf){for(n.state=Al,s=new Array(_=n.tween.length),g=0,v=-1;g<_;++g)(w=n.tween[g].value.call(t,t.__data__,n.index,n.group))&&(s[++v]=w);s.length=v+1}}function d(p){for(var g=p<n.duration?n.ease.call(null,p/n.duration):(n.timer.restart(h),n.state=Lf,1),v=-1,_=s.length;++v<_;)s[v].call(t,g);n.state===Lf&&(n.on.call("end",t,t.__data__,n.index,n.group),h())}function h(){n.state=Ml,n.timer.stop(),delete o[e];for(var p in o)return;delete t.__transition}}function Ll(t,e){var n=t.__transition,o,s,a=!0,c;if(n){e=e==null?null:e+"";for(c in n){if((o=n[c]).name!==e){a=!1;continue}s=o.state>Mf&&o.state<Lf,o.state=Ml,o.timer.stop(),o.on.call(s?"interrupt":"cancel",t,t.__data__,o.index,o.group),delete n[c]}a&&delete t.__transition}}function dR(t){return this.each(function(){Ll(this,t)})}function hR(t,e){var n,o;return function(){var s=un(this,t),a=s.tween;if(a!==n){o=n=a;for(var c=0,d=o.length;c<d;++c)if(o[c].name===e){o=o.slice(),o.splice(c,1);break}}s.tween=o}}function pR(t,e,n){var o,s;if(typeof n!="function")throw new Error;return function(){var a=un(this,t),c=a.tween;if(c!==o){s=(o=c).slice();for(var d={name:e,value:n},h=0,p=s.length;h<p;++h)if(s[h].name===e){s[h]=d;break}h===p&&s.push(d)}a.tween=s}}function mR(t,e){var n=this._id;if(t+="",arguments.length<2){for(var o=Zt(this.node(),n).tween,s=0,a=o.length,c;s<a;++s)if((c=o[s]).name===t)return c.value;return null}return this.each((e==null?hR:pR)(n,t,e))}function Fd(t,e,n){var o=t._id;return t.each(function(){var s=un(this,o);(s.value||(s.value={}))[e]=n.apply(this,arguments)}),function(s){return Zt(s,o).value[e]}}function Mv(t,e){var n;return(typeof e=="number"?qn:e instanceof Wo?Xg:(n=Wo(e))?(e=n,Xg):YI)(t,e)}function gR(t){return function(){this.removeAttribute(t)}}function _R(t){return function(){this.removeAttributeNS(t.space,t.local)}}function yR(t,e,n){var o,s=n+"",a;return function(){var c=this.getAttribute(t);return c===s?null:c===o?a:a=e(o=c,n)}}function vR(t,e,n){var o,s=n+"",a;return function(){var c=this.getAttributeNS(t.space,t.local);return c===s?null:c===o?a:a=e(o=c,n)}}function wR(t,e,n){var o,s,a;return function(){var c,d=n(this),h;return d==null?void this.removeAttribute(t):(c=this.getAttribute(t),h=d+"",c===h?null:c===o&&h===s?a:(s=h,a=e(o=c,d)))}}function ER(t,e,n){var o,s,a;return function(){var c,d=n(this),h;return d==null?void this.removeAttributeNS(t.space,t.local):(c=this.getAttributeNS(t.space,t.local),h=d+"",c===h?null:c===o&&h===s?a:(s=h,a=e(o=c,d)))}}function CR(t,e){var n=Sa(t),o=n==="transform"?eR:Mv;return this.attrTween(t,typeof e=="function"?(n.local?ER:wR)(n,o,Fd(this,"attr."+t,e)):e==null?(n.local?_R:gR)(n):(n.local?vR:yR)(n,o,e))}function SR(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function xR(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function TR(t,e){var n,o;function s(){var a=e.apply(this,arguments);return a!==o&&(n=(o=a)&&xR(t,a)),n}return s._value=e,s}function kR(t,e){var n,o;function s(){var a=e.apply(this,arguments);return a!==o&&(n=(o=a)&&SR(t,a)),n}return s._value=e,s}function NR(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var o=Sa(t);return this.tween(n,(o.local?TR:kR)(o,e))}function IR(t,e){return function(){bd(this,t).delay=+e.apply(this,arguments)}}function RR(t,e){return e=+e,function(){bd(this,t).delay=e}}function PR(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?IR:RR)(e,t)):Zt(this.node(),e).delay}function DR(t,e){return function(){un(this,t).duration=+e.apply(this,arguments)}}function OR(t,e){return e=+e,function(){un(this,t).duration=e}}function AR(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?DR:OR)(e,t)):Zt(this.node(),e).duration}function MR(t,e){if(typeof e!="function")throw new Error;return function(){un(this,t).ease=e}}function LR(t){var e=this._id;return arguments.length?this.each(MR(e,t)):Zt(this.node(),e).ease}function bR(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;un(this,t).ease=n}}function FR(t){if(typeof t!="function")throw new Error;return this.each(bR(this._id,t))}function zR(t){typeof t!="function"&&(t=pv(t));for(var e=this._groups,n=e.length,o=new Array(n),s=0;s<n;++s)for(var a=e[s],c=a.length,d=o[s]=[],h,p=0;p<c;++p)(h=a[p])&&t.call(h,h.__data__,p,a)&&d.push(h);return new Tn(o,this._parents,this._name,this._id)}function $R(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,o=e.length,s=n.length,a=Math.min(o,s),c=new Array(o),d=0;d<a;++d)for(var h=e[d],p=n[d],g=h.length,v=c[d]=new Array(g),_,w=0;w<g;++w)(_=h[w]||p[w])&&(v[w]=_);for(;d<o;++d)c[d]=e[d];return new Tn(c,this._parents,this._name,this._id)}function UR(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function WR(t,e,n){var o,s,a=UR(e)?bd:un;return function(){var c=a(this,t),d=c.on;d!==o&&(s=(o=d).copy()).on(e,n),c.on=s}}function BR(t,e){var n=this._id;return arguments.length<2?Zt(this.node(),n).on.on(t):this.each(WR(n,t,e))}function HR(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function jR(){return this.on("end.remove",HR(this._id))}function VR(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Dd(t));for(var o=this._groups,s=o.length,a=new Array(s),c=0;c<s;++c)for(var d=o[c],h=d.length,p=a[c]=new Array(h),g,v,_=0;_<h;++_)(g=d[_])&&(v=t.call(g,g.__data__,_,d))&&("__data__"in g&&(v.__data__=g.__data__),p[_]=v,Ta(p[_],e,n,_,p,Zt(g,n)));return new Tn(a,this._parents,e,n)}function qR(t){var e=this._name,n=this._id;typeof t!="function"&&(t=hv(t));for(var o=this._groups,s=o.length,a=[],c=[],d=0;d<s;++d)for(var h=o[d],p=h.length,g,v=0;v<p;++v)if(g=h[v]){for(var _=t.call(g,g.__data__,v,h),w,C=Zt(g,n),N=0,I=_.length;N<I;++N)(w=_[N])&&Ta(w,e,n,N,_,C);a.push(_),c.push(g)}return new Tn(a,c,e,n)}var GR=Zo.prototype.constructor;function QR(){return new GR(this._groups,this._parents)}function KR(t,e){var n,o,s;return function(){var a=gi(this,t),c=(this.style.removeProperty(t),gi(this,t));return a===c?null:a===n&&c===o?s:s=e(n=a,o=c)}}function Lv(t){return function(){this.style.removeProperty(t)}}function YR(t,e,n){var o,s=n+"",a;return function(){var c=gi(this,t);return c===s?null:c===o?a:a=e(o=c,n)}}function XR(t,e,n){var o,s,a;return function(){var c=gi(this,t),d=n(this),h=d+"";return d==null&&(h=d=(this.style.removeProperty(t),gi(this,t))),c===h?null:c===o&&h===s?a:(s=h,a=e(o=c,d))}}function JR(t,e){var n,o,s,a="style."+e,c="end."+a,d;return function(){var h=un(this,t),p=h.on,g=h.value[a]==null?d||(d=Lv(e)):void 0;(p!==n||s!==g)&&(o=(n=p).copy()).on(c,s=g),h.on=o}}function ZR(t,e,n){var o=(t+="")=="transform"?ZI:Mv;return e==null?this.styleTween(t,KR(t,o)).on("end.style."+t,Lv(t)):typeof e=="function"?this.styleTween(t,XR(t,o,Fd(this,"style."+t,e))).each(JR(this._id,t)):this.styleTween(t,YR(t,o,e),n).on("end.style."+t,null)}function eP(t,e,n){return function(o){this.style.setProperty(t,e.call(this,o),n)}}function tP(t,e,n){var o,s;function a(){var c=e.apply(this,arguments);return c!==s&&(o=(s=c)&&eP(t,c,n)),o}return a._value=e,a}function nP(t,e,n){var o="style."+(t+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(e==null)return this.tween(o,null);if(typeof e!="function")throw new Error;return this.tween(o,tP(t,e,n??""))}function rP(t){return function(){this.textContent=t}}function iP(t){return function(){var e=t(this);this.textContent=e??""}}function oP(t){return this.tween("text",typeof t=="function"?iP(Fd(this,"text",t)):rP(t==null?"":t+""))}function sP(t){return function(e){this.textContent=t.call(this,e)}}function lP(t){var e,n;function o(){var s=t.apply(this,arguments);return s!==n&&(e=(n=s)&&sP(s)),e}return o._value=t,o}function aP(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,lP(t))}function uP(){for(var t=this._name,e=this._id,n=bv(),o=this._groups,s=o.length,a=0;a<s;++a)for(var c=o[a],d=c.length,h,p=0;p<d;++p)if(h=c[p]){var g=Zt(h,e);Ta(h,t,n,p,c,{time:g.time+g.delay+g.duration,delay:0,duration:g.duration,ease:g.ease})}return new Tn(o,this._parents,t,n)}function cP(){var t,e,n=this,o=n._id,s=n.size();return new Promise(function(a,c){var d={value:c},h={value:function(){--s===0&&a()}};n.each(function(){var p=un(this,o),g=p.on;g!==t&&(e=(t=g).copy(),e._.cancel.push(d),e._.interrupt.push(d),e._.end.push(h)),p.on=e}),s===0&&a()})}var fP=0;function Tn(t,e,n,o){this._groups=t,this._parents=e,this._name=n,this._id=o}function bv(){return++fP}var yn=Zo.prototype;Tn.prototype={constructor:Tn,select:VR,selectAll:qR,selectChild:yn.selectChild,selectChildren:yn.selectChildren,filter:zR,merge:$R,selection:QR,transition:uP,call:yn.call,nodes:yn.nodes,node:yn.node,size:yn.size,empty:yn.empty,each:yn.each,on:BR,attr:CR,attrTween:NR,style:ZR,styleTween:nP,text:oP,textTween:aP,remove:jR,tween:mR,delay:PR,duration:AR,ease:LR,easeVarying:FR,end:cP,[Symbol.iterator]:yn[Symbol.iterator]};function dP(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var hP={time:null,delay:0,duration:250,ease:dP};function pP(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function mP(t){var e,n;t instanceof Tn?(e=t._id,t=t._name):(e=bv(),(n=hP).time=Ld(),t=t==null?null:t+"");for(var o=this._groups,s=o.length,a=0;a<s;++a)for(var c=o[a],d=c.length,h,p=0;p<d;++p)(h=c[p])&&Ta(h,t,e,p,c,n||pP(h,e));return new Tn(o,this._parents,t,e)}Zo.prototype.interrupt=dR;Zo.prototype.transition=mP;const vl=t=>()=>t;function gP(t,{sourceEvent:e,target:n,transform:o,dispatch:s}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:s}})}function wn(t,e,n){this.k=t,this.x=e,this.y=n}wn.prototype={constructor:wn,scale:function(t){return t===1?this:new wn(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new wn(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var la=new wn(1,0,0);wn.prototype;function Bc(t){t.stopImmediatePropagation()}function yo(t){t.preventDefault(),t.stopImmediatePropagation()}function _P(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function yP(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function i_(){return this.__zoom||la}function vP(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function wP(){return navigator.maxTouchPoints||"ontouchstart"in this}function EP(t,e,n){var o=t.invertX(e[0][0])-n[0][0],s=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],c=t.invertY(e[1][1])-n[1][1];return t.translate(s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s),c>a?(a+c)/2:Math.min(0,a)||Math.max(0,c))}function Hc(){var t=_P,e=yP,n=EP,o=vP,s=wP,a=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],d=250,h=iR,p=Ad("start","zoom","end"),g,v,_,w=500,C=150,N=0,I=10;function k(O){O.property("__zoom",i_).on("wheel.zoom",U,{passive:!1}).on("mousedown.zoom",Z).on("dblclick.zoom",J).filter(s).on("touchstart.zoom",ce).on("touchmove.zoom",me).on("touchend.zoom touchcancel.zoom",Te).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}k.transform=function(O,ee,W,K){var z=O.selection?O.selection():O;z.property("__zoom",i_),O!==z?$(O,ee,W,K):z.interrupt().each(function(){b(this,arguments).event(K).start().zoom(null,typeof ee=="function"?ee.apply(this,arguments):ee).end()})},k.scaleBy=function(O,ee,W,K){k.scaleTo(O,function(){var z=this.__zoom.k,Q=typeof ee=="function"?ee.apply(this,arguments):ee;return z*Q},W,K)},k.scaleTo=function(O,ee,W,K){k.transform(O,function(){var z=e.apply(this,arguments),Q=this.__zoom,H=W==null?V(z):typeof W=="function"?W.apply(this,arguments):W,x=Q.invert(H),F=typeof ee=="function"?ee.apply(this,arguments):ee;return n(M(R(Q,F),H,x),z,c)},W,K)},k.translateBy=function(O,ee,W,K){k.transform(O,function(){return n(this.__zoom.translate(typeof ee=="function"?ee.apply(this,arguments):ee,typeof W=="function"?W.apply(this,arguments):W),e.apply(this,arguments),c)},null,K)},k.translateTo=function(O,ee,W,K,z){k.transform(O,function(){var Q=e.apply(this,arguments),H=this.__zoom,x=K==null?V(Q):typeof K=="function"?K.apply(this,arguments):K;return n(la.translate(x[0],x[1]).scale(H.k).translate(typeof ee=="function"?-ee.apply(this,arguments):-ee,typeof W=="function"?-W.apply(this,arguments):-W),Q,c)},K,z)};function R(O,ee){return ee=Math.max(a[0],Math.min(a[1],ee)),ee===O.k?O:new wn(ee,O.x,O.y)}function M(O,ee,W){var K=ee[0]-W[0]*O.k,z=ee[1]-W[1]*O.k;return K===O.x&&z===O.y?O:new wn(O.k,K,z)}function V(O){return[(+O[0][0]+ +O[1][0])/2,(+O[0][1]+ +O[1][1])/2]}function $(O,ee,W,K){O.on("start.zoom",function(){b(this,arguments).event(K).start()}).on("interrupt.zoom end.zoom",function(){b(this,arguments).event(K).end()}).tween("zoom",function(){var z=this,Q=arguments,H=b(z,Q).event(K),x=e.apply(z,Q),F=W==null?V(x):typeof W=="function"?W.apply(z,Q):W,ue=Math.max(x[1][0]-x[0][0],x[1][1]-x[0][1]),se=z.__zoom,he=typeof ee=="function"?ee.apply(z,Q):ee,pe=h(se.invert(F).concat(ue/se.k),he.invert(F).concat(ue/he.k));return function(_e){if(_e===1)_e=he;else{var ge=pe(_e),Re=ue/ge[2];_e=new wn(Re,F[0]-ge[0]*Re,F[1]-ge[1]*Re)}H.zoom(null,_e)}})}function b(O,ee,W){return!W&&O.__zooming||new L(O,ee)}function L(O,ee){this.that=O,this.args=ee,this.active=0,this.sourceEvent=null,this.extent=e.apply(O,ee),this.taps=0}L.prototype={event:function(O){return O&&(this.sourceEvent=O),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(O,ee){return this.mouse&&O!=="mouse"&&(this.mouse[1]=ee.invert(this.mouse[0])),this.touch0&&O!=="touch"&&(this.touch0[1]=ee.invert(this.touch0[0])),this.touch1&&O!=="touch"&&(this.touch1[1]=ee.invert(this.touch1[0])),this.that.__zoom=ee,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(O){var ee=mt(this.that).datum();p.call(O,this.that,new gP(O,{sourceEvent:this.sourceEvent,target:k,type:O,transform:this.that.__zoom,dispatch:p}),ee)}};function U(O,...ee){if(!t.apply(this,arguments))return;var W=b(this,ee).event(O),K=this.__zoom,z=Math.max(a[0],Math.min(a[1],K.k*Math.pow(2,o.apply(this,arguments)))),Q=mr(O);if(W.wheel)(W.mouse[0][0]!==Q[0]||W.mouse[0][1]!==Q[1])&&(W.mouse[1]=K.invert(W.mouse[0]=Q)),clearTimeout(W.wheel);else{if(K.k===z)return;W.mouse=[Q,K.invert(Q)],Ll(this),W.start()}yo(O),W.wheel=setTimeout(H,C),W.zoom("mouse",n(M(R(K,z),W.mouse[0],W.mouse[1]),W.extent,c));function H(){W.wheel=null,W.end()}}function Z(O,...ee){if(_||!t.apply(this,arguments))return;var W=O.currentTarget,K=b(this,ee,!0).event(O),z=mt(O.view).on("mousemove.zoom",F,!0).on("mouseup.zoom",ue,!0),Q=mr(O,W),H=O.clientX,x=O.clientY;DI(O.view),Bc(O),K.mouse=[Q,this.__zoom.invert(Q)],Ll(this),K.start();function F(se){if(yo(se),!K.moved){var he=se.clientX-H,pe=se.clientY-x;K.moved=he*he+pe*pe>N}K.event(se).zoom("mouse",n(M(K.that.__zoom,K.mouse[0]=mr(se,W),K.mouse[1]),K.extent,c))}function ue(se){z.on("mousemove.zoom mouseup.zoom",null),OI(se.view,K.moved),yo(se),K.event(se).end()}}function J(O,...ee){if(t.apply(this,arguments)){var W=this.__zoom,K=mr(O.changedTouches?O.changedTouches[0]:O,this),z=W.invert(K),Q=W.k*(O.shiftKey?.5:2),H=n(M(R(W,Q),K,z),e.apply(this,ee),c);yo(O),d>0?mt(this).transition().duration(d).call($,H,K,O):mt(this).call(k.transform,H,K,O)}}function ce(O,...ee){if(t.apply(this,arguments)){var W=O.touches,K=W.length,z=b(this,ee,O.changedTouches.length===K).event(O),Q,H,x,F;for(Bc(O),H=0;H<K;++H)x=W[H],F=mr(x,this),F=[F,this.__zoom.invert(F),x.identifier],z.touch0?!z.touch1&&z.touch0[2]!==F[2]&&(z.touch1=F,z.taps=0):(z.touch0=F,Q=!0,z.taps=1+!!g);g&&(g=clearTimeout(g)),Q&&(z.taps<2&&(v=F[0],g=setTimeout(function(){g=null},w)),Ll(this),z.start())}}function me(O,...ee){if(this.__zooming){var W=b(this,ee).event(O),K=O.changedTouches,z=K.length,Q,H,x,F;for(yo(O),Q=0;Q<z;++Q)H=K[Q],x=mr(H,this),W.touch0&&W.touch0[2]===H.identifier?W.touch0[0]=x:W.touch1&&W.touch1[2]===H.identifier&&(W.touch1[0]=x);if(H=W.that.__zoom,W.touch1){var ue=W.touch0[0],se=W.touch0[1],he=W.touch1[0],pe=W.touch1[1],_e=(_e=he[0]-ue[0])*_e+(_e=he[1]-ue[1])*_e,ge=(ge=pe[0]-se[0])*ge+(ge=pe[1]-se[1])*ge;H=R(H,Math.sqrt(_e/ge)),x=[(ue[0]+he[0])/2,(ue[1]+he[1])/2],F=[(se[0]+pe[0])/2,(se[1]+pe[1])/2]}else if(W.touch0)x=W.touch0[0],F=W.touch0[1];else return;W.zoom("touch",n(M(H,x,F),W.extent,c))}}function Te(O,...ee){if(this.__zooming){var W=b(this,ee).event(O),K=O.changedTouches,z=K.length,Q,H;for(Bc(O),_&&clearTimeout(_),_=setTimeout(function(){_=null},w),Q=0;Q<z;++Q)H=K[Q],W.touch0&&W.touch0[2]===H.identifier?delete W.touch0:W.touch1&&W.touch1[2]===H.identifier&&delete W.touch1;if(W.touch1&&!W.touch0&&(W.touch0=W.touch1,delete W.touch1),W.touch0)W.touch0[1]=this.__zoom.invert(W.touch0[0]);else if(W.end(),W.taps===2&&(H=mr(H,this),Math.hypot(v[0]-H[0],v[1]-H[1])<I)){var x=mt(this).on("dblclick.zoom");x&&x.apply(this,arguments)}}}return k.wheelDelta=function(O){return arguments.length?(o=typeof O=="function"?O:vl(+O),k):o},k.filter=function(O){return arguments.length?(t=typeof O=="function"?O:vl(!!O),k):t},k.touchable=function(O){return arguments.length?(s=typeof O=="function"?O:vl(!!O),k):s},k.extent=function(O){return arguments.length?(e=typeof O=="function"?O:vl([[+O[0][0],+O[0][1]],[+O[1][0],+O[1][1]]]),k):e},k.scaleExtent=function(O){return arguments.length?(a[0]=+O[0],a[1]=+O[1],k):[a[0],a[1]]},k.translateExtent=function(O){return arguments.length?(c[0][0]=+O[0][0],c[1][0]=+O[1][0],c[0][1]=+O[0][1],c[1][1]=+O[1][1],k):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},k.constrain=function(O){return arguments.length?(n=O,k):n},k.duration=function(O){return arguments.length?(d=+O,k):d},k.interpolate=function(O){return arguments.length?(h=O,k):h},k.on=function(){var O=p.on.apply(p,arguments);return O===p?k:O},k.clickDistance=function(O){return arguments.length?(N=(O=+O)*O,k):Math.sqrt(N)},k.tapDistance=function(O){return arguments.length?(I=+O,k):I},k}var o_=Object.prototype.hasOwnProperty;function No(t,e){var n,o;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((o=t.length)===e.length)for(;o--&&No(t[o],e[o]););return o===-1}if(!n||typeof t=="object"){o=0;for(n in t)if(o_.call(t,n)&&++o&&!o_.call(e,n)||!(n in e)||!No(t[n],e[n]))return!1;return Object.keys(e).length===o}}return t!==t&&e!==e}var jc={exports:{}},s_;function CP(){return s_||(s_=1,function(t){var e=function(){function n(_,w){return w!=null&&_ instanceof w}var o;try{o=Map}catch{o=function(){}}var s;try{s=Set}catch{s=function(){}}var a;try{a=Promise}catch{a=function(){}}function c(_,w,C,N,I){typeof w=="object"&&(C=w.depth,N=w.prototype,I=w.includeNonEnumerable,w=w.circular);var k=[],R=[],M=typeof Buffer<"u";typeof w>"u"&&(w=!0),typeof C>"u"&&(C=1/0);function V($,b){if($===null)return null;if(b===0)return $;var L,U;if(typeof $!="object")return $;if(n($,o))L=new o;else if(n($,s))L=new s;else if(n($,a))L=new a(function(K,z){$.then(function(Q){K(V(Q,b-1))},function(Q){z(V(Q,b-1))})});else if(c.__isArray($))L=[];else if(c.__isRegExp($))L=new RegExp($.source,v($)),$.lastIndex&&(L.lastIndex=$.lastIndex);else if(c.__isDate($))L=new Date($.getTime());else{if(M&&Buffer.isBuffer($))return Buffer.allocUnsafe?L=Buffer.allocUnsafe($.length):L=new Buffer($.length),$.copy(L),L;n($,Error)?L=Object.create($):typeof N>"u"?(U=Object.getPrototypeOf($),L=Object.create(U)):(L=Object.create(N),U=N)}if(w){var Z=k.indexOf($);if(Z!=-1)return R[Z];k.push($),R.push(L)}n($,o)&&$.forEach(function(K,z){var Q=V(z,b-1),H=V(K,b-1);L.set(Q,H)}),n($,s)&&$.forEach(function(K){var z=V(K,b-1);L.add(z)});for(var J in $){var ce;U&&(ce=Object.getOwnPropertyDescriptor(U,J)),!(ce&&ce.set==null)&&(L[J]=V($[J],b-1))}if(Object.getOwnPropertySymbols)for(var me=Object.getOwnPropertySymbols($),J=0;J<me.length;J++){var Te=me[J],O=Object.getOwnPropertyDescriptor($,Te);O&&!O.enumerable&&!I||(L[Te]=V($[Te],b-1),O.enumerable||Object.defineProperty(L,Te,{enumerable:!1}))}if(I)for(var ee=Object.getOwnPropertyNames($),J=0;J<ee.length;J++){var W=ee[J],O=Object.getOwnPropertyDescriptor($,W);O&&O.enumerable||(L[W]=V($[W],b-1),Object.defineProperty(L,W,{enumerable:!1}))}return L}return V(_,C)}c.clonePrototype=function(w){if(w===null)return null;var C=function(){};return C.prototype=w,new C};function d(_){return Object.prototype.toString.call(_)}c.__objToStr=d;function h(_){return typeof _=="object"&&d(_)==="[object Date]"}c.__isDate=h;function p(_){return typeof _=="object"&&d(_)==="[object Array]"}c.__isArray=p;function g(_){return typeof _=="object"&&d(_)==="[object RegExp]"}c.__isRegExp=g;function v(_){var w="";return _.global&&(w+="g"),_.ignoreCase&&(w+="i"),_.multiline&&(w+="m"),w}return c.__getRegExpFlags=v,c}();t.exports&&(t.exports=e)}(jc)),jc.exports}var SP=CP();const pt=$f(SP);var wl,xP=new Uint8Array(16);function TP(){if(!wl&&(wl=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!wl))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return wl(xP)}const kP=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function NP(t){return typeof t=="string"&&kP.test(t)}var ot=[];for(var Vc=0;Vc<256;++Vc)ot.push((Vc+256).toString(16).substr(1));function IP(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(ot[t[e+0]]+ot[t[e+1]]+ot[t[e+2]]+ot[t[e+3]]+"-"+ot[t[e+4]]+ot[t[e+5]]+"-"+ot[t[e+6]]+ot[t[e+7]]+"-"+ot[t[e+8]]+ot[t[e+9]]+"-"+ot[t[e+10]]+ot[t[e+11]]+ot[t[e+12]]+ot[t[e+13]]+ot[t[e+14]]+ot[t[e+15]]).toLowerCase();if(!NP(n))throw TypeError("Stringified UUID is invalid");return n}function qc(t,e,n){t=t||{};var o=t.random||(t.rng||TP)();return o[6]=o[6]&15|64,o[8]=o[8]&63|128,IP(o)}var El={exports:{}},Gc={exports:{}},Qc,l_;function RP(){if(l_)return Qc;l_=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Qc=t,Qc}var Kc,a_;function PP(){if(a_)return Kc;a_=1;var t=RP();function e(){}function n(){}return n.resetWarningCache=e,Kc=function(){function o(c,d,h,p,g,v){if(v!==t){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}o.isRequired=o;function s(){return o}var a={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:s,element:o,elementType:o,instanceOf:s,node:o,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},Kc}var u_;function ka(){return u_||(u_=1,Gc.exports=PP()()),Gc.exports}var Cl={exports:{}},Yc,c_;function DP(){return c_||(c_=1,Yc=function(){for(var e=arguments.length,n=[],o=0;o<e;o++)n[o]=arguments[o];if(n=n.filter(function(s){return s!=null}),n.length!==0)return n.length===1?n[0]:n.reduce(function(s,a){return function(){s.apply(this,arguments),a.apply(this,arguments)}})}),Yc}var Xc,f_;function OP(){if(f_)return Xc;f_=1;var t=function(){};return Xc=t,Xc}function Fv(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function zv(t){function e(n){var o=this.constructor.getDerivedStateFromProps(t,n);return o??null}this.setState(e.bind(this))}function $v(t,e){try{var n=this.props,o=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,o)}finally{this.props=n,this.state=o}}Fv.__suppressDeprecationWarning=!0;zv.__suppressDeprecationWarning=!0;$v.__suppressDeprecationWarning=!0;function AP(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var n=null,o=null,s=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?o="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(o="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?s="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(s="UNSAFE_componentWillUpdate"),n!==null||o!==null||s!==null){var a=t.displayName||t.name,c=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+a+" uses "+c+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(o!==null?`
  `+o:"")+(s!==null?`
  `+s:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=Fv,e.componentWillReceiveProps=zv),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=$v;var d=e.componentDidUpdate;e.componentDidUpdate=function(p,g,v){var _=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:v;d.call(this,p,g,_)}}return t}const MP=Object.freeze(Object.defineProperty({__proto__:null,polyfill:AP},Symbol.toStringTag,{value:"Module"})),LP=Hw(MP);var vo={},d_;function bP(){if(d_)return vo;d_=1,vo.__esModule=!0,vo.getChildMapping=e,vo.mergeChildMappings=n;var t=er();function e(o){if(!o)return o;var s={};return t.Children.map(o,function(a){return a}).forEach(function(a){s[a.key]=a}),s}function n(o,s){o=o||{},s=s||{};function a(w){return s.hasOwnProperty(w)?s[w]:o[w]}var c={},d=[];for(var h in o)s.hasOwnProperty(h)?d.length&&(c[h]=d,d=[]):d.push(h);var p=void 0,g={};for(var v in s){if(c.hasOwnProperty(v))for(p=0;p<c[v].length;p++){var _=c[v][p];g[c[v][p]]=a(_)}g[v]=a(v)}for(p=0;p<d.length;p++)g[d[p]]=a(d[p]);return g}return vo}var h_;function Uv(){return h_||(h_=1,function(t,e){e.__esModule=!0;var n=Object.assign||function(R){for(var M=1;M<arguments.length;M++){var V=arguments[M];for(var $ in V)Object.prototype.hasOwnProperty.call(V,$)&&(R[$]=V[$])}return R},o=DP(),s=_(o),a=er(),c=_(a),d=ka(),h=_(d),p=OP();_(p);var g=LP,v=bP();function _(R){return R&&R.__esModule?R:{default:R}}function w(R,M){if(!(R instanceof M))throw new TypeError("Cannot call a class as a function")}function C(R,M){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:R}function N(R,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);R.prototype=Object.create(M&&M.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(R,M):R.__proto__=M)}h.default.any,h.default.func,h.default.node;var I={component:"span",childFactory:function(M){return M}},k=function(R){N(M,R);function M(V,$){w(this,M);var b=C(this,R.call(this,V,$));return b.performAppear=function(L,U){b.currentlyTransitioningKeys[L]=!0,U.componentWillAppear?U.componentWillAppear(b._handleDoneAppearing.bind(b,L,U)):b._handleDoneAppearing(L,U)},b._handleDoneAppearing=function(L,U){U&&U.componentDidAppear&&U.componentDidAppear(),delete b.currentlyTransitioningKeys[L];var Z=(0,v.getChildMapping)(b.props.children);(!Z||!Z.hasOwnProperty(L))&&b.performLeave(L,U)},b.performEnter=function(L,U){b.currentlyTransitioningKeys[L]=!0,U.componentWillEnter?U.componentWillEnter(b._handleDoneEntering.bind(b,L,U)):b._handleDoneEntering(L,U)},b._handleDoneEntering=function(L,U){U&&U.componentDidEnter&&U.componentDidEnter(),delete b.currentlyTransitioningKeys[L];var Z=(0,v.getChildMapping)(b.props.children);(!Z||!Z.hasOwnProperty(L))&&b.performLeave(L,U)},b.performLeave=function(L,U){b.currentlyTransitioningKeys[L]=!0,U&&U.componentWillLeave?U.componentWillLeave(b._handleDoneLeaving.bind(b,L,U)):b._handleDoneLeaving(L,U)},b._handleDoneLeaving=function(L,U){U&&U.componentDidLeave&&U.componentDidLeave(),delete b.currentlyTransitioningKeys[L];var Z=(0,v.getChildMapping)(b.props.children);Z&&Z.hasOwnProperty(L)?b.keysToEnter.push(L):b.setState(function(J){var ce=n({},J.children);return delete ce[L],{children:ce}})},b.childRefs=Object.create(null),b.currentlyTransitioningKeys={},b.keysToEnter=[],b.keysToLeave=[],b.state={children:(0,v.getChildMapping)(V.children)},b}return M.prototype.componentDidMount=function(){var $=this.state.children;for(var b in $)$[b]&&this.performAppear(b,this.childRefs[b])},M.getDerivedStateFromProps=function($,b){var L=(0,v.getChildMapping)($.children),U=b.children;return{children:(0,v.mergeChildMappings)(U,L)}},M.prototype.componentDidUpdate=function($,b){var L=this,U=(0,v.getChildMapping)(this.props.children),Z=b.children;for(var J in U){var ce=Z&&Z.hasOwnProperty(J);U[J]&&!ce&&!this.currentlyTransitioningKeys[J]&&this.keysToEnter.push(J)}for(var me in Z){var Te=U&&U.hasOwnProperty(me);Z[me]&&!Te&&!this.currentlyTransitioningKeys[me]&&this.keysToLeave.push(me)}var O=this.keysToEnter;this.keysToEnter=[],O.forEach(function(W){return L.performEnter(W,L.childRefs[W])});var ee=this.keysToLeave;this.keysToLeave=[],ee.forEach(function(W){return L.performLeave(W,L.childRefs[W])})},M.prototype.render=function(){var $=this,b=[],L=function(ce){var me=$.state.children[ce];if(me){var Te=typeof me.ref!="string",O=$.props.childFactory(me),ee=function(K){$.childRefs[ce]=K};O===me&&Te&&(ee=(0,s.default)(me.ref,ee)),b.push(c.default.cloneElement(O,{key:ce,ref:ee}))}};for(var U in this.state.children)L(U);var Z=n({},this.props);return delete Z.transitionLeave,delete Z.transitionName,delete Z.transitionAppear,delete Z.transitionEnter,delete Z.childFactory,delete Z.transitionLeaveTimeout,delete Z.transitionEnterTimeout,delete Z.transitionAppearTimeout,delete Z.component,c.default.createElement(this.props.component,Z,b)},M}(c.default.Component);k.displayName="TransitionGroup",k.propTypes={},k.defaultProps=I,e.default=(0,g.polyfill)(k),t.exports=e.default}(Cl,Cl.exports)),Cl.exports}var Sl={exports:{}},xl={exports:{}},Jc={exports:{}},p_;function zd(){return p_||(p_=1,function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Jc)),Jc.exports}var Tl={exports:{}},m_;function FP(){return m_||(m_=1,function(t,e){e.__esModule=!0,e.default=n;function n(o,s){return o.classList?!!s&&o.classList.contains(s):(" "+(o.className.baseVal||o.className)+" ").indexOf(" "+s+" ")!==-1}t.exports=e.default}(Tl,Tl.exports)),Tl.exports}var g_;function zP(){return g_||(g_=1,function(t,e){var n=zd();e.__esModule=!0,e.default=s;var o=n(FP());function s(a,c){a.classList?a.classList.add(c):(0,o.default)(a,c)||(typeof a.className=="string"?a.className=a.className+" "+c:a.setAttribute("class",(a.className&&a.className.baseVal||"")+" "+c))}t.exports=e.default}(xl,xl.exports)),xl.exports}var Zc,__;function $P(){if(__)return Zc;__=1;function t(e,n){return e.replace(new RegExp("(^|\\s)"+n+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}return Zc=function(n,o){n.classList?n.classList.remove(o):typeof n.className=="string"?n.className=t(n.className,o):n.setAttribute("class",t(n.className&&n.className.baseVal||"",o))},Zc}var kl={exports:{}},Nl={exports:{}},y_;function Wv(){return y_||(y_=1,function(t,e){e.__esModule=!0,e.default=void 0;var n=!!(typeof window<"u"&&window.document&&window.document.createElement);e.default=n,t.exports=e.default}(Nl,Nl.exports)),Nl.exports}var v_;function UP(){return v_||(v_=1,function(t,e){var n=zd();e.__esModule=!0,e.default=void 0;var o=n(Wv()),s=["","webkit","moz","o","ms"],a="clearTimeout",c=g,d,h=function(w,C){return w+(w?C[0].toUpperCase()+C.substr(1):C)+"AnimationFrame"};o.default&&s.some(function(_){var w=h(_,"request");if(w in window)return a=h(_,"cancel"),c=function(N){return window[w](N)}});var p=new Date().getTime();function g(_){var w=new Date().getTime(),C=Math.max(0,16-(w-p)),N=setTimeout(_,C);return p=w,N}d=function(w){return c(w)},d.cancel=function(_){window[a]&&typeof window[a]=="function"&&window[a](_)};var v=d;e.default=v,t.exports=e.default}(kl,kl.exports)),kl.exports}var ve={},w_;function WP(){if(w_)return ve;w_=1;var t=zd();ve.__esModule=!0,ve.default=ve.animationEnd=ve.animationDelay=ve.animationTiming=ve.animationDuration=ve.animationName=ve.transitionEnd=ve.transitionDuration=ve.transitionDelay=ve.transitionTiming=ve.transitionProperty=ve.transform=void 0;var e=t(Wv()),n="transform";ve.transform=n;var o,s,a;ve.animationEnd=a,ve.transitionEnd=s;var c,d,h,p;ve.transitionDelay=p,ve.transitionTiming=h,ve.transitionDuration=d,ve.transitionProperty=c;var g,v,_,w;if(ve.animationDelay=w,ve.animationTiming=_,ve.animationDuration=v,ve.animationName=g,e.default){var C=I();o=C.prefix,ve.transitionEnd=s=C.transitionEnd,ve.animationEnd=a=C.animationEnd,ve.transform=n=o+"-"+n,ve.transitionProperty=c=o+"-transition-property",ve.transitionDuration=d=o+"-transition-duration",ve.transitionDelay=p=o+"-transition-delay",ve.transitionTiming=h=o+"-transition-timing-function",ve.animationName=g=o+"-animation-name",ve.animationDuration=v=o+"-animation-duration",ve.animationTiming=_=o+"-animation-delay",ve.animationDelay=w=o+"-animation-timing-function"}var N={transform:n,end:s,property:c,timing:h,delay:p,duration:d};ve.default=N;function I(){for(var k=document.createElement("div").style,R={O:function(J){return"o"+J.toLowerCase()},Moz:function(J){return J.toLowerCase()},Webkit:function(J){return"webkit"+J},ms:function(J){return"MS"+J}},M=Object.keys(R),V,$,b="",L=0;L<M.length;L++){var U=M[L];if(U+"TransitionProperty"in k){b="-"+U.toLowerCase(),V=R[U]("TransitionEnd"),$=R[U]("AnimationEnd");break}}return!V&&"transitionProperty"in k&&(V="transitionend"),!$&&"animationName"in k&&($="animationend"),k=null,{animationEnd:$,transitionEnd:V,prefix:b}}return ve}var ri={},E_;function Bv(){if(E_)return ri;E_=1,ri.__esModule=!0,ri.nameShape=void 0,ri.transitionTimeout=s;var t=er();o(t);var e=ka(),n=o(e);function o(a){return a&&a.__esModule?a:{default:a}}function s(a){var c="transition"+a+"Timeout",d="transition"+a;return function(h){if(h[d]){if(h[c]==null)return new Error(c+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if(typeof h[c]!="number")return new Error(c+" must be a number (in milliseconds)")}return null}}return ri.nameShape=n.default.oneOfType([n.default.string,n.default.shape({enter:n.default.string,leave:n.default.string,active:n.default.string}),n.default.shape({enter:n.default.string,enterActive:n.default.string,leave:n.default.string,leaveActive:n.default.string,appear:n.default.string,appearActive:n.default.string})]),ri}var C_;function BP(){return C_||(C_=1,function(t,e){e.__esModule=!0;var n=Object.assign||function(L){for(var U=1;U<arguments.length;U++){var Z=arguments[U];for(var J in Z)Object.prototype.hasOwnProperty.call(Z,J)&&(L[J]=Z[J])}return L},o=zP(),s=I(o),a=$P(),c=I(a),d=UP(),h=I(d),p=WP(),g=er(),v=I(g),_=ka(),w=I(_),C=N_(),N=Bv();function I(L){return L&&L.__esModule?L:{default:L}}function k(L,U){if(!(L instanceof U))throw new TypeError("Cannot call a class as a function")}function R(L,U){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U&&(typeof U=="object"||typeof U=="function")?U:L}function M(L,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof U);L.prototype=Object.create(U&&U.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(L,U):L.__proto__=U)}var V=[];p.transitionEnd&&V.push(p.transitionEnd),p.animationEnd&&V.push(p.animationEnd);function $(L,U){return V.length?V.forEach(function(Z){return L.addEventListener(Z,U,!1)}):setTimeout(U,0),function(){V.length&&V.forEach(function(Z){return L.removeEventListener(Z,U,!1)})}}w.default.node,N.nameShape.isRequired,w.default.bool,w.default.bool,w.default.bool,w.default.number,w.default.number,w.default.number;var b=function(L){M(U,L);function U(Z,J){k(this,U);var ce=R(this,L.call(this,Z,J));return ce.componentWillAppear=function(me){ce.props.appear?ce.transition("appear",me,ce.props.appearTimeout):me()},ce.componentWillEnter=function(me){ce.props.enter?ce.transition("enter",me,ce.props.enterTimeout):me()},ce.componentWillLeave=function(me){ce.props.leave?ce.transition("leave",me,ce.props.leaveTimeout):me()},ce.classNameAndNodeQueue=[],ce.transitionTimeouts=[],ce}return U.prototype.componentWillUnmount=function(){this.unmounted=!0,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(J){clearTimeout(J)}),this.classNameAndNodeQueue.length=0},U.prototype.transition=function(J,ce,me){var Te=(0,C.findDOMNode)(this);if(!Te){ce&&ce();return}var O=this.props.name[J]||this.props.name+"-"+J,ee=this.props.name[J+"Active"]||O+"-active",W=null,K=void 0;(0,s.default)(Te,O),this.queueClassAndNode(ee,Te);var z=function(H){H&&H.target!==Te||(clearTimeout(W),K&&K(),(0,c.default)(Te,O),(0,c.default)(Te,ee),K&&K(),ce&&ce())};me?(W=setTimeout(z,me),this.transitionTimeouts.push(W)):p.transitionEnd&&(K=$(Te,z))},U.prototype.queueClassAndNode=function(J,ce){var me=this;this.classNameAndNodeQueue.push({className:J,node:ce}),this.rafHandle||(this.rafHandle=(0,h.default)(function(){return me.flushClassNameAndNodeQueue()}))},U.prototype.flushClassNameAndNodeQueue=function(){this.unmounted||this.classNameAndNodeQueue.forEach(function(J){J.node.scrollTop,(0,s.default)(J.node,J.className)}),this.classNameAndNodeQueue.length=0,this.rafHandle=null},U.prototype.render=function(){var J=n({},this.props);return delete J.name,delete J.appear,delete J.enter,delete J.leave,delete J.appearTimeout,delete J.enterTimeout,delete J.leaveTimeout,delete J.children,v.default.cloneElement(v.default.Children.only(this.props.children),J)},U}(v.default.Component);b.displayName="CSSTransitionGroupChild",b.propTypes={},e.default=b,t.exports=e.default}(Sl,Sl.exports)),Sl.exports}var S_;function HP(){return S_||(S_=1,function(t,e){e.__esModule=!0;var n=Object.assign||function(R){for(var M=1;M<arguments.length;M++){var V=arguments[M];for(var $ in V)Object.prototype.hasOwnProperty.call(V,$)&&(R[$]=V[$])}return R},o=er(),s=_(o),a=ka(),c=_(a),d=Uv(),h=_(d),p=BP(),g=_(p),v=Bv();function _(R){return R&&R.__esModule?R:{default:R}}function w(R,M){if(!(R instanceof M))throw new TypeError("Cannot call a class as a function")}function C(R,M){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:R}function N(R,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);R.prototype=Object.create(M&&M.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(R,M):R.__proto__=M)}v.nameShape.isRequired,c.default.bool,c.default.bool,c.default.bool,(0,v.transitionTimeout)("Appear"),(0,v.transitionTimeout)("Enter"),(0,v.transitionTimeout)("Leave");var I={transitionAppear:!1,transitionEnter:!0,transitionLeave:!0},k=function(R){N(M,R);function M(){var V,$,b;w(this,M);for(var L=arguments.length,U=Array(L),Z=0;Z<L;Z++)U[Z]=arguments[Z];return b=(V=($=C(this,R.call.apply(R,[this].concat(U))),$),$._wrapChild=function(J){return s.default.createElement(g.default,{name:$.props.transitionName,appear:$.props.transitionAppear,enter:$.props.transitionEnter,leave:$.props.transitionLeave,appearTimeout:$.props.transitionAppearTimeout,enterTimeout:$.props.transitionEnterTimeout,leaveTimeout:$.props.transitionLeaveTimeout},J)},V),C($,b)}return M.prototype.render=function(){return s.default.createElement(h.default,n({},this.props,{childFactory:this._wrapChild}))},M}(s.default.Component);k.displayName="CSSTransitionGroup",k.propTypes={},k.defaultProps=I,e.default=k,t.exports=e.default}(El,El.exports)),El.exports}var ef,x_;function jP(){if(x_)return ef;x_=1;var t=HP(),e=s(t),n=Uv(),o=s(n);function s(a){return a&&a.__esModule?a:{default:a}}return ef={TransitionGroup:o.default,CSSTransitionGroup:e.default},ef}var VP=jP();const qP=t=>t.enableLegacyTransitions?qe.createElement(VP.TransitionGroup,{component:t.component,className:t.className,transform:t.transform},t.children):qe.createElement("g",{className:t.className,transform:t.transform},t.children),GP=15,T_={title:{textAnchor:"start",x:40},attribute:{x:40,dy:"1.2em"}},QP=({nodeDatum:t,toggleNode:e,onNodeClick:n,onNodeMouseOver:o,onNodeMouseOut:s})=>qe.createElement(qe.Fragment,null,qe.createElement("circle",{r:GP,onClick:a=>{e(),n(a)},onMouseOver:o,onMouseOut:s}),qe.createElement("g",{className:"rd3t-label"},qe.createElement("text",Object.assign({className:"rd3t-label__title"},T_.title),t.name),qe.createElement("text",{className:"rd3t-label__attributes"},t.attributes&&Object.entries(t.attributes).map(([a,c],d)=>qe.createElement("tspan",Object.assign({key:`${a}-${d}`},T_.attribute),a,": ",typeof c=="boolean"?c.toString():c)))));class KP extends qe.Component{constructor(){super(...arguments),this.nodeRef=null,this.state={transform:this.setTransform(this.props.position,this.props.parent,this.props.orientation,!0),initialStyle:{opacity:0},wasClicked:!1},this.shouldNodeTransform=(e,n,o,s)=>n.subscriptions!==e.subscriptions||n.position.x!==e.position.x||n.position.y!==e.position.y||n.orientation!==e.orientation||s.wasClicked!==o.wasClicked,this.renderNodeElement=()=>{const{data:e,hierarchyPointNode:n,renderCustomNodeElement:o}=this.props,s=typeof o=="function"?o:QP,a={hierarchyPointNode:n,nodeDatum:e,toggleNode:this.handleNodeToggle,onNodeClick:this.handleOnClick,onNodeMouseOver:this.handleOnMouseOver,onNodeMouseOut:this.handleOnMouseOut,addChildren:this.handleAddChildren};return s(a)},this.handleNodeToggle=()=>{this.setState({wasClicked:!0}),this.props.onNodeToggle(this.props.data.__rd3t.id)},this.handleOnClick=e=>{this.setState({wasClicked:!0}),this.props.onNodeClick(this.props.hierarchyPointNode,e)},this.handleOnMouseOver=e=>{this.props.onNodeMouseOver(this.props.hierarchyPointNode,e)},this.handleOnMouseOut=e=>{this.props.onNodeMouseOut(this.props.hierarchyPointNode,e)},this.handleAddChildren=e=>{this.props.handleAddChildrenToNode(this.props.data.__rd3t.id,e)}}componentDidMount(){this.commitTransform()}componentDidUpdate(){this.state.wasClicked&&(this.props.centerNode(this.props.hierarchyPointNode),this.setState({wasClicked:!1})),this.commitTransform()}shouldComponentUpdate(e,n){return this.shouldNodeTransform(this.props,e,this.state,n)}setTransform(e,n,o,s=!1){if(s){const a=n!=null,c=a?n.x:0,d=a?n.y:0;return o==="horizontal"?`translate(${d},${c})`:`translate(${c},${d})`}return o==="horizontal"?`translate(${e.y},${e.x})`:`translate(${e.x},${e.y})`}applyTransform(e,n,o=1,s=()=>{}){this.props.enableLegacyTransitions?mt(this.nodeRef).transition().duration(n).attr("transform",e).style("opacity",o).on("end",s):(mt(this.nodeRef).attr("transform",e).style("opacity",o),s())}commitTransform(){const{orientation:e,transitionDuration:n,position:o,parent:s}=this.props,a=this.setTransform(o,s,e);this.applyTransform(a,n)}componentWillLeave(e){const{orientation:n,transitionDuration:o,position:s,parent:a}=this.props,c=this.setTransform(s,a,n,!0);this.applyTransform(c,o,0,e)}render(){const{data:e,nodeClassName:n}=this.props;return qe.createElement("g",{id:e.__rd3t.id,ref:o=>{this.nodeRef=o},style:this.state.initialStyle,className:[e.children&&e.children.length>0?"rd3t-node":"rd3t-leaf-node",n].join(" ").trim(),transform:this.state.transform},this.renderNodeElement())}}var bf=Math.PI,Ff=2*bf,yr=1e-6,YP=Ff-yr;function zf(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Hv(){return new zf}zf.prototype=Hv.prototype={constructor:zf,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,o){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+o)},bezierCurveTo:function(t,e,n,o,s,a){this._+="C"+ +t+","+ +e+","+ +n+","+ +o+","+(this._x1=+s)+","+(this._y1=+a)},arcTo:function(t,e,n,o,s){t=+t,e=+e,n=+n,o=+o,s=+s;var a=this._x1,c=this._y1,d=n-t,h=o-e,p=a-t,g=c-e,v=p*p+g*g;if(s<0)throw new Error("negative radius: "+s);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(v>yr)if(!(Math.abs(g*d-h*p)>yr)||!s)this._+="L"+(this._x1=t)+","+(this._y1=e);else{var _=n-a,w=o-c,C=d*d+h*h,N=_*_+w*w,I=Math.sqrt(C),k=Math.sqrt(v),R=s*Math.tan((bf-Math.acos((C+v-N)/(2*I*k)))/2),M=R/k,V=R/I;Math.abs(M-1)>yr&&(this._+="L"+(t+M*p)+","+(e+M*g)),this._+="A"+s+","+s+",0,0,"+ +(g*_>p*w)+","+(this._x1=t+V*d)+","+(this._y1=e+V*h)}},arc:function(t,e,n,o,s,a){t=+t,e=+e,n=+n,a=!!a;var c=n*Math.cos(o),d=n*Math.sin(o),h=t+c,p=e+d,g=1^a,v=a?o-s:s-o;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+h+","+p:(Math.abs(this._x1-h)>yr||Math.abs(this._y1-p)>yr)&&(this._+="L"+h+","+p),n&&(v<0&&(v=v%Ff+Ff),v>YP?this._+="A"+n+","+n+",0,1,"+g+","+(t-c)+","+(e-d)+"A"+n+","+n+",0,1,"+g+","+(this._x1=h)+","+(this._y1=p):v>yr&&(this._+="A"+n+","+n+",0,"+ +(v>=bf)+","+g+","+(this._x1=t+n*Math.cos(s))+","+(this._y1=e+n*Math.sin(s))))},rect:function(t,e,n,o){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +o+"h"+-n+"Z"},toString:function(){return this._}};function k_(t){return function(){return t}}function XP(t){return t[0]}function JP(t){return t[1]}var ZP=Array.prototype.slice;function eD(t){return t.source}function tD(t){return t.target}function jv(t){var e=eD,n=tD,o=XP,s=JP,a=null;function c(){var d,h=ZP.call(arguments),p=e.apply(this,h),g=n.apply(this,h);if(a||(a=d=Hv()),t(a,+o.apply(this,(h[0]=p,h)),+s.apply(this,h),+o.apply(this,(h[0]=g,h)),+s.apply(this,h)),d)return a=null,d+""||null}return c.source=function(d){return arguments.length?(e=d,c):e},c.target=function(d){return arguments.length?(n=d,c):n},c.x=function(d){return arguments.length?(o=typeof d=="function"?d:k_(+d),c):o},c.y=function(d){return arguments.length?(s=typeof d=="function"?d:k_(+d),c):s},c.context=function(d){return arguments.length?(a=d??null,c):a},c}function nD(t,e,n,o,s){t.moveTo(e,n),t.bezierCurveTo(e=(e+o)/2,n,e,s,o,s)}function rD(t,e,n,o,s){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+s)/2,o,n,o,s)}function iD(){return jv(nD)}function oD(){return jv(rD)}class sD extends qe.PureComponent{constructor(){super(...arguments),this.linkRef=null,this.state={initialStyle:{opacity:0}},this.handleOnClick=e=>{this.props.onClick(this.props.linkData.source,this.props.linkData.target,e)},this.handleOnMouseOver=e=>{this.props.onMouseOver(this.props.linkData.source,this.props.linkData.target,e)},this.handleOnMouseOut=e=>{this.props.onMouseOut(this.props.linkData.source,this.props.linkData.target,e)}}componentDidMount(){this.applyOpacity(1,this.props.transitionDuration)}componentWillLeave(e){this.applyOpacity(0,this.props.transitionDuration,e)}applyOpacity(e,n,o=()=>{}){this.props.enableLegacyTransitions?mt(this.linkRef).transition().duration(n).style("opacity",e).on("end",o):(mt(this.linkRef).style("opacity",e),o())}drawStepPath(e,n){const{source:o,target:s}=e,a=s.y-o.y;return n==="horizontal"?`M${o.y},${o.x} H${o.y+a/2} V${s.x} H${s.y}`:`M${o.x},${o.y} V${o.y+a/2} H${s.x} V${s.y}`}drawDiagonalPath(e,n){const{source:o,target:s}=e;return n==="horizontal"?iD()({source:[o.y,o.x],target:[s.y,s.x]}):oD()({source:[o.x,o.y],target:[s.x,s.y]})}drawStraightPath(e,n){const{source:o,target:s}=e;return n==="horizontal"?`M${o.y},${o.x}L${s.y},${s.x}`:`M${o.x},${o.y}L${s.x},${s.y}`}drawElbowPath(e,n){return n==="horizontal"?`M${e.source.y},${e.source.x}V${e.target.x}H${e.target.y}`:`M${e.source.x},${e.source.y}V${e.target.y}H${e.target.x}`}drawPath(){const{linkData:e,orientation:n,pathFunc:o}=this.props;return typeof o=="function"?o(e,n):o==="elbow"?this.drawElbowPath(e,n):o==="straight"?this.drawStraightPath(e,n):o==="step"?this.drawStepPath(e,n):this.drawDiagonalPath(e,n)}getClassNames(){const{linkData:e,orientation:n,pathClassFunc:o}=this.props,s=["rd3t-link"];return typeof o=="function"&&s.push(o(e,n)),s.join(" ").trim()}render(){const{linkData:e}=this.props;return qe.createElement("path",{ref:n=>{this.linkRef=n},style:Object.assign({},this.state.initialStyle),className:this.getClassNames(),d:this.drawPath(),onClick:this.handleOnClick,onMouseOver:this.handleOnMouseOver,onMouseOut:this.handleOnMouseOut,"data-source-id":e.source.id,"data-target-id":e.target.id})}}const lD=`
/* Tree */
.rd3t-tree-container {
  width: 100%;
  height: 100%;
}

.rd3t-grabbable {
  cursor: move; /* fallback if grab cursor is unsupported */
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}
.rd3t-grabbable:active {
    cursor: grabbing;
    cursor: -moz-grabbing;
    cursor: -webkit-grabbing;
}

/* Node */
.rd3t-node {
  cursor: pointer;
  fill: #777;
  stroke: #000;
  stroke-width: 2;
}

.rd3t-leaf-node {
  cursor: pointer;
  fill: transparent;
  stroke: #000;
  stroke-width: 1;
}

.rd3t-label__title {
  fill: #000;
  stroke: none;
  font-weight: bolder;
}

.rd3t-label__attributes {
  fill: #777;
  stroke: none;
  font-weight: bolder;
  font-size: smaller;
}

/* Link */
.rd3t-link {
  fill: none;
  stroke: #000;
}
`;class Dt extends qe.Component{constructor(){super(...arguments),this.state={dataRef:this.props.data,data:Dt.assignInternalProperties(pt(this.props.data)),d3:Dt.calculateD3Geometry(this.props),isTransitioning:!1,isInitialRenderForDataset:!0,dataKey:this.props.dataKey},this.internalState={targetNode:null,isTransitioning:!1},this.svgInstanceRef=`rd3t-svg-${qc()}`,this.gInstanceRef=`rd3t-g-${qc()}`,this.handleNodeToggle=e=>{const n=pt(this.state.data),s=this.findNodesById(e,n,[])[0];this.props.collapsible&&!this.state.isTransitioning&&(s.__rd3t.collapsed?(Dt.expandNode(s),this.props.shouldCollapseNeighborNodes&&this.collapseNeighborNodes(s,n)):Dt.collapseNode(s),this.props.enableLegacyTransitions?(this.setState({data:n,isTransitioning:!0}),setTimeout(()=>this.setState({isTransitioning:!1}),this.props.transitionDuration+10)):this.setState({data:n}),this.internalState.targetNode=s)},this.handleAddChildrenToNode=(e,n)=>{const o=pt(this.state.data),s=this.findNodesById(e,o,[]);if(s.length>0){const a=s[0],c=a.__rd3t.depth,d=pt(n).map(h=>Dt.assignInternalProperties([h],c+1));a.children.push(...d.flat()),this.setState({data:o})}},this.handleOnNodeClickCb=(e,n)=>{const{onNodeClick:o}=this.props;o&&typeof o=="function"&&(n.persist(),o(pt(e),n))},this.handleOnLinkClickCb=(e,n,o)=>{const{onLinkClick:s}=this.props;s&&typeof s=="function"&&(o.persist(),s(pt(e),pt(n),o))},this.handleOnNodeMouseOverCb=(e,n)=>{const{onNodeMouseOver:o}=this.props;o&&typeof o=="function"&&(n.persist(),o(pt(e),n))},this.handleOnLinkMouseOverCb=(e,n,o)=>{const{onLinkMouseOver:s}=this.props;s&&typeof s=="function"&&(o.persist(),s(pt(e),pt(n),o))},this.handleOnNodeMouseOutCb=(e,n)=>{const{onNodeMouseOut:o}=this.props;o&&typeof o=="function"&&(n.persist(),o(pt(e),n))},this.handleOnLinkMouseOutCb=(e,n,o)=>{const{onLinkMouseOut:s}=this.props;s&&typeof s=="function"&&(o.persist(),s(pt(e),pt(n),o))},this.centerNode=e=>{const{dimensions:n,orientation:o,zoom:s,centeringTransitionDuration:a}=this.props;if(n){const c=mt(`.${this.gInstanceRef}`),d=mt(`.${this.svgInstanceRef}`),h=this.state.d3.scale;let p,g;o==="horizontal"?(g=-e.x*h+n.height/2,p=-e.y*h+n.width/2):(p=-e.x*h+n.width/2,g=-e.y*h+n.height/2),c.transition().duration(a).attr("transform","translate("+p+","+g+")scale("+h+")"),d.call(Hc().transform,la.translate(p,g).scale(s))}},this.getNodeClassName=(e,n)=>{const{rootNodeClassName:o,branchNodeClassName:s,leafNodeClassName:a}=this.props;return e!=null?n.children?s:a:o}}static getDerivedStateFromProps(e,n){let o=null;const s=!e.dataKey||n.dataKey!==e.dataKey;e.data!==n.dataRef&&s&&(o={dataRef:e.data,data:Dt.assignInternalProperties(pt(e.data)),isInitialRenderForDataset:!0,dataKey:e.dataKey});const a=Dt.calculateD3Geometry(e);return No(a,n.d3)||(o=o||{},o.d3=a),o}componentDidMount(){this.bindZoomListener(this.props),this.setState({isInitialRenderForDataset:!1})}componentDidUpdate(e){this.props.data!==e.data&&this.setState({isInitialRenderForDataset:!1}),(!No(this.props.translate,e.translate)||!No(this.props.scaleExtent,e.scaleExtent)||this.props.zoomable!==e.zoomable||this.props.draggable!==e.draggable||this.props.zoom!==e.zoom||this.props.enableLegacyTransitions!==e.enableLegacyTransitions)&&this.bindZoomListener(this.props),typeof this.props.onUpdate=="function"&&this.props.onUpdate({node:this.internalState.targetNode?pt(this.internalState.targetNode):null,zoom:this.state.d3.scale,translate:this.state.d3.translate}),this.internalState.targetNode=null}setInitialTreeDepth(e,n){e.forEach(o=>{o.data.__rd3t.collapsed=o.depth>=n})}bindZoomListener(e){const{zoomable:n,scaleExtent:o,translate:s,zoom:a,onUpdate:c,hasInteractiveNodes:d}=e,h=mt(`.${this.svgInstanceRef}`),p=mt(`.${this.gInstanceRef}`);h.call(Hc().transform,la.translate(s.x,s.y).scale(a)),h.call(Hc().scaleExtent(n?[o.min,o.max]:[a,a]).filter(g=>d?g.target.classList.contains(this.svgInstanceRef)||g.target.classList.contains(this.gInstanceRef)||g.shiftKey:!0).on("zoom",g=>{!this.props.draggable&&["mousemove","touchmove","dblclick"].includes(g.sourceEvent.type)||(p.attr("transform",g.transform),typeof c=="function"&&(c({node:null,zoom:g.transform.k,translate:{x:g.transform.x,y:g.transform.y}}),this.state.d3.scale=g.transform.k,this.state.d3.translate={x:g.transform.x,y:g.transform.y}))}))}static assignInternalProperties(e,n=0){return(Array.isArray(e)?e:[e]).map(s=>{const a=s;return a.__rd3t={id:null,depth:null,collapsed:!1},a.__rd3t.id=qc(),a.__rd3t.depth=n,a.children&&a.children.length>0&&(a.children=Dt.assignInternalProperties(a.children,n+1)),a})}findNodesById(e,n,o){return o.length>0||(o=o.concat(n.filter(s=>s.__rd3t.id===e)),n.forEach(s=>{s.children&&s.children.length>0&&(o=this.findNodesById(e,s.children,o))})),o}findNodesAtDepth(e,n,o){return o=o.concat(n.filter(s=>s.__rd3t.depth===e)),n.forEach(s=>{s.children&&s.children.length>0&&(o=this.findNodesAtDepth(e,s.children,o))}),o}static collapseNode(e){e.__rd3t.collapsed=!0,e.children&&e.children.length>0&&e.children.forEach(n=>{Dt.collapseNode(n)})}static expandNode(e){e.__rd3t.collapsed=!1}collapseNeighborNodes(e,n){this.findNodesAtDepth(e.__rd3t.depth,n,[]).filter(s=>s.__rd3t.id!==e.__rd3t.id).forEach(s=>Dt.collapseNode(s))}generateTree(){const{initialDepth:e,depthFactor:n,separation:o,nodeSize:s,orientation:a}=this.props,{isInitialRenderForDataset:c}=this.state,h=Qk().nodeSize(a==="horizontal"?[s.y,s.x]:[s.x,s.y]).separation((v,_)=>v.parent.data.__rd3t.id===_.parent.data.__rd3t.id?o.siblings:o.nonSiblings)(Pd(this.state.data[0],v=>v.__rd3t.collapsed?null:v.children));let p=h.descendants();const g=h.links();return e!==void 0&&c&&this.setInitialTreeDepth(p,e),n&&p.forEach(v=>{v.y=v.depth*n}),{nodes:p,links:g}}static calculateD3Geometry(e){let n;return e.zoom>e.scaleExtent.max?n=e.scaleExtent.max:e.zoom<e.scaleExtent.min?n=e.scaleExtent.min:n=e.zoom,{translate:e.translate,scale:n}}render(){const{nodes:e,links:n}=this.generateTree(),{renderCustomNodeElement:o,orientation:s,pathFunc:a,transitionDuration:c,nodeSize:d,depthFactor:h,initialDepth:p,separation:g,enableLegacyTransitions:v,svgClassName:_,pathClassFunc:w}=this.props,{translate:C,scale:N}=this.state.d3,I=Object.assign(Object.assign(Object.assign({},d),g),{depthFactor:h,initialDepth:p});return qe.createElement("div",{className:"rd3t-tree-container rd3t-grabbable"},qe.createElement("style",null,lD),qe.createElement("svg",{className:`rd3t-svg ${this.svgInstanceRef} ${_}`,width:"100%",height:"100%"},qe.createElement(qP,{enableLegacyTransitions:v,component:"g",className:`rd3t-g ${this.gInstanceRef}`,transform:`translate(${C.x},${C.y}) scale(${N})`},n.map((k,R)=>qe.createElement(sD,{key:"link-"+R,orientation:s,pathFunc:a,pathClassFunc:w,linkData:k,onClick:this.handleOnLinkClickCb,onMouseOver:this.handleOnLinkMouseOverCb,onMouseOut:this.handleOnLinkMouseOutCb,enableLegacyTransitions:v,transitionDuration:c})),e.map((k,R)=>{const{data:M,x:V,y:$,parent:b}=k;return qe.createElement(KP,{key:"node-"+R,data:M,position:{x:V,y:$},hierarchyPointNode:k,parent:b,nodeClassName:this.getNodeClassName(b,M),renderCustomNodeElement:o,nodeSize:d,orientation:s,enableLegacyTransitions:v,transitionDuration:c,onNodeToggle:this.handleNodeToggle,onNodeClick:this.handleOnNodeClickCb,onNodeMouseOver:this.handleOnNodeMouseOverCb,onNodeMouseOut:this.handleOnNodeMouseOutCb,handleAddChildrenToNode:this.handleAddChildrenToNode,subscriptions:I,centerNode:this.centerNode})}))))}}Dt.defaultProps={onNodeClick:void 0,onNodeMouseOver:void 0,onNodeMouseOut:void 0,onLinkClick:void 0,onLinkMouseOver:void 0,onLinkMouseOut:void 0,onUpdate:void 0,orientation:"horizontal",translate:{x:0,y:0},pathFunc:"diagonal",pathClassFunc:void 0,transitionDuration:500,depthFactor:void 0,collapsible:!0,initialDepth:void 0,zoomable:!0,draggable:!0,zoom:1,scaleExtent:{min:.1,max:1},nodeSize:{x:140,y:140},separation:{siblings:1,nonSiblings:2},shouldCollapseNeighborNodes:!1,svgClassName:"",rootNodeClassName:"",branchNodeClassName:"",leafNodeClassName:"",renderCustomNodeElement:void 0,enableLegacyTransitions:!1,hasInteractiveNodes:!1,dimensions:void 0,centeringTransitionDuration:800,dataKey:void 0};const aD=({people:t})=>{const e=B.useRef(null),[n,o]=B.useState(null),[s,a]=B.useState(null),[c,d]=B.useState({x:0,y:0});function h(N){const I=t.data[N],k={personId:N};return I.children&&I.children.length>0&&(k.children=I.children.map(R=>h(R))),k}function p(N){if(N.roots.length===1){const I=h(N.roots[0]);o(I)}else if(N.roots.length>1){const I=N.roots.map(k=>h(k));o(I)}else o(null)}B.useEffect(()=>{p(t)},[t]);function g(N){const I=prompt("Podaj imię dziecka:");if(!I)return;const k=prompt("Podaj nazwisko dziecka:");go(`/people/child_${Date.now()}`,{name:I,surname:k,parentId:N,orderId:Math.floor(Math.random()*1e3)})}function v(N){const I=prompt("Podaj imię rodzica:");if(!I)return;const k=prompt("Podaj nazwisko rodzica:"),R=`parent_${Date.now()}`;Ug("/people/",{[R]:{name:I,surname:k,orderId:Math.floor(Math.random()*1e3)},[`${N}/parentId`]:R})}function _(N){const I=t.data[N],k=prompt("Nowe imię:",I.name);if(!k)return;const R=prompt("Nowe nazwisko:",I.surname);Ug("/people/",{[N]:{name:k,surname:R,parentId:I.parentId,orderId:I.orderId}})}const w=({nodeDatum:N})=>{var $;const I=N.personId,k=t.data[I],R=!!k.parentId;function M(b){const L=t.data[k.parentId].children,U=L.indexOf(b);U==L.length-2?go(`/people/${b}/orderId`,t.data[L[L.length-1]].orderId+100):go(`/people/${b}/orderId`,(t.data[L[U+1]].orderId+t.data[L[U+2]].orderId)/2)}function V(b){const L=t.data[k.parentId].children,U=L.indexOf(b);U==1?go(`/people/${b}/orderId`,t.data[L[0]].orderId-100):go(`/people/${b}/orderId`,(t.data[L[U-1]].orderId+t.data[L[U-2]].orderId)/2)}return Se.jsx("g",{children:Se.jsx("foreignObject",{width:130,height:62,x:-64,y:-30,children:Se.jsxs("div",{style:{backgroundColor:"#ccc",border:"1px solid gray",borderRadius:"4px",padding:"4px",cursor:"default",textAlign:"center",fontFamily:"sans-serif",fontSize:"12px",width:"120px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"black"},children:[Se.jsxs("div",{style:{marginBottom:"4px",fontWeight:"bold"},children:[k.name," ",k.surname]}),Se.jsxs("div",{style:{display:"flex",gap:"2px",color:"black",fontSize:"10px"},children:[Se.jsx("button",{onClick:b=>{b.stopPropagation(),_(I)},style:{backgroundColor:"#eee",border:"1px solid #ccc",padding:"0px 1px",cursor:"pointer",color:"black"},children:"Edytuj"}),Se.jsx("button",{onClick:b=>{b.stopPropagation(),g(I)},style:{backgroundColor:"#eee",border:"1px solid #ccc",padding:"0px 1px",cursor:"pointer",color:"black"},children:"Dodaj dziecko"}),!R&&Se.jsx("button",{onClick:b=>{b.stopPropagation(),v(I)},style:{backgroundColor:"#eee",border:"1px solid #ccc",padding:"0px 1px",cursor:"pointer",color:"black"},children:"Dodaj rodzica"})]}),(($=t.data[k.parentId??""])==null?void 0:$.children.length)>1&&Se.jsxs("div",{style:{display:"flex",alignSelf:"stretch",justifyContent:"space-between",fontSize:"10px"},children:[t.data[k.parentId].children.some(b=>t.data[b].orderId<k.orderId)?Se.jsx("button",{onClick:b=>{b.stopPropagation(),V(I)},style:{backgroundColor:"#eee",border:"1px solid #ccc",padding:"0px 1px",cursor:"pointer",color:"black"},children:"<"}):Se.jsx("div",{style:{width:11}}),"Przesuń",t.data[k.parentId].children.some(b=>t.data[b].orderId>k.orderId)?Se.jsx("button",{onClick:b=>{b.stopPropagation(),M(I)},style:{backgroundColor:"#eee",border:"1px solid #ccc",padding:"0px 1px",cursor:"pointer",color:"black"},children:">"}):Se.jsx("div",{style:{width:11}})]})]})})})};function C(N){const I=N.currentTarget.getBoundingClientRect();d({x:N.clientX-I.left,y:N.clientY-I.top})}return Se.jsxs("div",{ref:e,id:"treeWrapper",onMouseMove:C,style:{width:"100%",height:"600px",overflow:"auto",backgroundColor:"#fff1",position:"relative"},children:[n&&Se.jsx(Dt,{data:n,orientation:"vertical",translate:{x:400,y:50},pathFunc:"diagonal",zoomable:!0,renderCustomNodeElement:w,separation:{siblings:1,nonSiblings:1.3},onLinkMouseOver:(N,I)=>{const k=N.data.personId,R=I.data.personId;a({parentId:k,childId:R})},onLinkMouseOut:()=>{a(null)}}),s&&Se.jsxs("div",{style:{position:"absolute",top:`${c.y+10}px`,left:`${c.x+10}px`,backgroundColor:"rgba(0,0,0,0.75)",color:"#fff",padding:"4px 8px",borderRadius:"4px",pointerEvents:"none",fontFamily:"sans-serif",fontSize:"12px"},children:["to jest krawędź między ",s.parentId," a ",s.childId]})]})};class uD{constructor(e){fl(this,"roots",[]);fl(this,"data",{});this.data=Object.entries(e).reduce((n,[o,s])=>(n[o]=$d.fromJson(s),n),{}),Object.entries(this.data).forEach(([n,o])=>{o.parentId&&this.data[o.parentId]?(this.data[o.parentId].children.push(n),this.data[o.parentId].children.sort((s,a)=>this.data[s].orderId-this.data[a].orderId)):this.roots.push(n)})}}class $d{constructor(e,n,o,s){fl(this,"children",[]);this.name=e,this.surname=n,this.parentId=o,this.orderId=s}static fromJson(e){return new $d(e.name,e.surname,e.parentId,e.orderId??0)}}const cD=()=>{const[t,e]=B.useState(null);return B.useEffect(()=>{Tk("/people/",n=>{const o=n.val();o&&e(new uD(o))})},[]),Se.jsxs("div",{children:[Se.jsx("h3",{style:{margin:0},children:"Drzewo Genealogiczne"}),t?Se.jsx(aD,{people:t}):null]})};function fD(){return Se.jsxs("div",{children:[Se.jsxs("nav",{style:{display:"flex",justifyContent:"space-evenly"},children:[Se.jsx(Fl,{to:"/",children:"Strona Główna"}),Se.jsx(Fl,{to:"/tree",children:"Drzewo Genealogiczne"})]}),Se.jsx("div",{children:Se.jsxs(H1,{children:[Se.jsx(nf,{path:"/",element:Se.jsx(SE,{})}),Se.jsx(nf,{path:"/tree",element:Se.jsx(cD,{})})]})})]})}Jw.createRoot(document.getElementById("root")).render(Se.jsx(qe.StrictMode,{children:Se.jsx(hE,{children:Se.jsx(fD,{})})}));
